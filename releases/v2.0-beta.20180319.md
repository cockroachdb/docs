---
title: What&#39;s New in v2.0-beta.20180319
toc: false
summary: Additions and changes in CockroachDB version v2.0-beta.20180319 since version v2.0-beta.20180312
---

## March 19, 2018

Get future release notes emailed to you:

<div class="hubspot-install-form install-form-1 clearfix">
    <script>
        hbspt.forms.create({
            css: '',
            cssClass: 'install-form',
            portalId: '1753393',
            formId: '39686297-81d2-45e7-a73f-55a596a8d5ff',
            formInstanceId: 1,
            target: '.install-form-1'
        });
    </script>
</div>

### Downloads

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0-beta.20180305-237-ge0b123c23.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0-beta.20180305-237-ge0b123c23.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0-beta.20180305-237-ge0b123c23.windows-6.2-amd64.zip"><button id="windows" data-eventcategory="windows-binary-release-notes">Windows</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0-beta.20180305-237-ge0b123c23.src.tgz"><button id="source" data-eventcategory="source-release-notes">Source</button></a>
</div>

### SQL Language Changes

- NO CYCLE and CACHE 1 are now supported
  options during sequence creation. [#23518][#23518]
- ISNULL and NOTNULL are now accepted as alternatives
  to IS NULL and IS NOT NULL. [#23518][#23518]

### Command-Line Changes

- Change server.drain_max_wait to
  server.shutdown.query_wait [#23629][#23629]
- The generated haproxy config has been
  extended with readiness checks. [#23590][#23590]

### Admin UI Changes

- use spinner on logs page instead of
  saying "no data" while loading [#23556][#23556]
- use monospace font and render newlines
  on logs page. Also, pack lines together more tightly. [#23556][#23556]
- Fix a bug in which usable capacity of
  nodes was not added up correctly. [#23695][#23695]
- Moved the Clock Offset graph from the
  Distributed dashboard to the Runtime dashboard, and display each node's
  clock offset independently rather than aggregating them together. [#23627][#23627]
- When reporting anonymous usage details, make
  sure locality tier names are redacted. [#23588][#23588]
- clusterviz: allow clicking on the
  entire node component, not just the visible elements [#23536][#23536]
- In the node map, show how long a node
  has been dead. [#23404][#23404]
- clusterviz: correct liveness status text on nodes [#23404][#23404]

### Bug Fixes

- ARRAYs can now be used with the postgres binary
  format. [#23467][#23467]
- fixed a bug where INSERT ... ON CONFLICT DO
  UPDATE would accept to update the same column twice.

  Release note (bug fix): fixed a panic when a query incorrectly would
  attempt to use an aggregation or window function in ON CONFLICT DO
  UPDATE. [#23658][#23658]
- CREATE TABLE AS can now be used again with
  scalar subqueries. [#23470][#23470]
- Avoid connection attempts to former members of
  the cluster and the associated spurious log messages. [#23605][#23605]
- Fix a panic when executing `INSERT INTO ...
  SELECT` queries where the number of columns targeted for insertion does
  not match the number of columns returned by the SELECT. [#23642][#23642]
- Reduced risk that a node in the process of
  crashing could serve inconsistent data. [#23616][#23616]
- Fixed a correctness bug where some ORDER BY
  queries would not return the correct results under concurrent
  transactional load. [#23602][#23602]
- `RETURNING NOTHING` now properly detects
  parallelization opportunities against statements that contain
  data-modifying statements in subqueries. [#23524][#23524]
- The /health HTTP endpoint is now accessible
  before a node has successfully become part of an initialized cluster,
  meaning that it now accurately reflects the health of the process rather
  than the ability of the process to serve queries. This has been the
  intention all along, but it didn't work until the node had joined a
  cluster or had `cockroach init` run on it. [#23551][#23551]
- Fixed a panic that could occur with certain
  types of casts. [#23535][#23535]
- Prevent a hang while crashing when stderr is
  blocked. [#23484][#23484]
- Fixed panics related to distributed execution of
  queries with REGCLASS casts. [#23482][#23482]
- Fix a panic with computed columns. [#23435][#23435]
- Prevent potential consistency issues when a node
  is stopped and restarted in rapid succession. [#23339][#23339]
- Decommissioning a node that has already been
  terminated now works in all cases. Success previously depended on
  whether the gateway node "remembered" the absent decommissionee. [#23378][#23378]

### Build Changes

- Go 1.10 is now the minimum required version
  necessary to build CockroachDB. [#23494][#23494]

### Doc Updates

Docs team: Please add these manually.

### Contributors

This release includes 48 merged PRs by 21 authors. [#23339]: https://github.com/cockroachdb/cockroach/pull/23339
[#23378]: https://github.com/cockroachdb/cockroach/pull/23378
[#23404]: https://github.com/cockroachdb/cockroach/pull/23404
[#23435]: https://github.com/cockroachdb/cockroach/pull/23435
[#23467]: https://github.com/cockroachdb/cockroach/pull/23467
[#23470]: https://github.com/cockroachdb/cockroach/pull/23470
[#23482]: https://github.com/cockroachdb/cockroach/pull/23482
[#23484]: https://github.com/cockroachdb/cockroach/pull/23484
[#23494]: https://github.com/cockroachdb/cockroach/pull/23494
[#23518]: https://github.com/cockroachdb/cockroach/pull/23518
[#23524]: https://github.com/cockroachdb/cockroach/pull/23524
[#23535]: https://github.com/cockroachdb/cockroach/pull/23535
[#23536]: https://github.com/cockroachdb/cockroach/pull/23536
[#23551]: https://github.com/cockroachdb/cockroach/pull/23551
[#23556]: https://github.com/cockroachdb/cockroach/pull/23556
[#23588]: https://github.com/cockroachdb/cockroach/pull/23588
[#23590]: https://github.com/cockroachdb/cockroach/pull/23590
[#23602]: https://github.com/cockroachdb/cockroach/pull/23602
[#23605]: https://github.com/cockroachdb/cockroach/pull/23605
[#23616]: https://github.com/cockroachdb/cockroach/pull/23616
[#23627]: https://github.com/cockroachdb/cockroach/pull/23627
[#23629]: https://github.com/cockroachdb/cockroach/pull/23629
[#23642]: https://github.com/cockroachdb/cockroach/pull/23642
[#23658]: https://github.com/cockroachdb/cockroach/pull/23658
[#23695]: https://github.com/cockroachdb/cockroach/pull/23695
