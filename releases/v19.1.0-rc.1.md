---
title: What&#39;s New in v19.1.0-rc.1
toc: true
summary: Additions and changes in CockroachDB version v19.1.0-rc.1 since version v19.1.0-beta.20190318
---

## March 25, 2019

In addition to bug fixes and various enterprise, SQL, and Admin UI enhancements, with this release, we also want to highlight the following feature:

- **Prefer the nearest secondary index** (link TBD): Given multiple identical [indexes](../v19.1/indexes.html) that have different locality constraints using [replication zones](../v19.1/configure-replication-zones.html), the cost-based optimizer will now prefer the index that is closest to the gateway node that is planning the query. In a properly configured geo-distributed cluster, this can lead to performance improvements due to improved data locality and reduced network traffic. This feature enables scenarios where reference data such as a table of postal codes can be replicated to different regions, and queries will use the copy in the same region.

Get future release notes emailed to you:

<div class="hubspot-install-form install-form-1 clearfix">
    <script>
        hbspt.forms.create({
            css: '',
            cssClass: 'install-form',
            portalId: '1753393',
            formId: '39686297-81d2-45e7-a73f-55a596a8d5ff',
            formInstanceId: 1,
            target: '.install-form-1'
        });
    </script>
</div>

### Downloads

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-v19.1.0-rc.1.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v19.1.0-rc.1.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v19.1.0-rc.1.windows-6.2-amd64.zip"><button id="windows" data-eventcategory="windows-binary-release-notes">Windows</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v19.1.0-rc.1.src.tgz"><button id="source" data-eventcategory="source-release-notes">Source</button></a>
</div>

### Docker image

{% include copy-clipboard.html %}
~~~shell
$ docker pull cockroachdb/cockroach-unstable:v19.1.0-rc.1
~~~

### Enterprise edition changes

- [`CHANGEFEED`s](../v19.1/create-changefeed.html) now support TLS connections to Kafka. [#35510][#35510] {% comment %}doc{% endcomment %}
- `CHANGEFEED`s now support SASL/PLAIN authentication when connecting to a Kafka sink. [#35800][#35800] {% comment %}doc{% endcomment %}
- `CHANGEFEED`s using Kafka now log information to help debug connection issues. [#35661][#35661] {% comment %}doc{% endcomment %}

### SQL language changes

- The [cost-based optimizer](../v19.1/cost-based-optimizer.html) now picks lookup-joins less frequently. [#35561][#35561]
- CockroachDB now reports uses of [CTEs](../v19.1/common-table-expressions.html) (`WITH ...`) and [subqueries](../v19.1/subqueries.html) in [diagnostics reporting](../v19.1/diagnostics-reporting.html), to guide future product planning. [#35650][#35650]
- It is now possible to specify a `HASH` / `MERGE` / `LOOKUP` [join hint](../v19.1/cost-based-optimizer.html#join-hints) with cross joins (`CROSS <hint> JOIN`). [#35700][#35700] {% comment %}doc{% endcomment %}
- The output of [`EXPLAIN`](../v19.1/explain.html) now uses `hash-join` or `merge-join` instead of `join`. [#35688][#35688] {% comment %}doc{% endcomment %}
- Added an `EXPLAIN (opt, env)` option, which provides all relevant information for the planning of a query. [#35802][#35802] {% comment %}doc{% endcomment %}
- `transaction deadline exceeded` errors are now returned to the client with a retryable code. [#35284][#35284] {% comment %}doc{% endcomment %}

### Admin UI changes

- Improved progress reporting for `CREATE STATISTICS` jobs. [#35684][#35684]

### Bug fixes

- Increased speed of automatic statistic jobs on clusters with low load. [#35698][#35698]
- `CHANGEFEED`s connected to a slow sink now error instead of using unbounded amounts of memory. [#35745][#35745]
- Removed historical log entries from Raft snapshots that could lead to failed snapshots. [#35701][#35701]

### Doc updates

- Documented how [reads and writes](../v19.1/architecture/reads-and-writes-overview.html) are affected by the replicated and distributed nature of data in CockroachDB. [#4543](https://github.com/cockroachdb/docs/pull/4543)

### Contributors

This release includes 68 merged PRs by 22 authors. We would like to thank the following contributors from the CockroachDB community:

- Dong Liang (first-time contributor)

[#35284]: https://github.com/cockroachdb/cockroach/pull/35284
[#35440]: https://github.com/cockroachdb/cockroach/pull/35440
[#35510]: https://github.com/cockroachdb/cockroach/pull/35510
[#35561]: https://github.com/cockroachdb/cockroach/pull/35561
[#35650]: https://github.com/cockroachdb/cockroach/pull/35650
[#35661]: https://github.com/cockroachdb/cockroach/pull/35661
[#35684]: https://github.com/cockroachdb/cockroach/pull/35684
[#35688]: https://github.com/cockroachdb/cockroach/pull/35688
[#35698]: https://github.com/cockroachdb/cockroach/pull/35698
[#35700]: https://github.com/cockroachdb/cockroach/pull/35700
[#35701]: https://github.com/cockroachdb/cockroach/pull/35701
[#35728]: https://github.com/cockroachdb/cockroach/pull/35728
[#35745]: https://github.com/cockroachdb/cockroach/pull/35745
[#35800]: https://github.com/cockroachdb/cockroach/pull/35800
[#35802]: https://github.com/cockroachdb/cockroach/pull/35802
