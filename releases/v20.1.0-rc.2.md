---
title: What&#39;s New in v20.1.0-rc.2
toc: true
summary: Additions and changes in CockroachDB version v20.1.0-rc.2 since version v20.1.0-rc.1
---

## April 20, 2020

Get future release notes emailed to you:

<div class="hubspot-install-form install-form-1 clearfix">
    <script>
        hbspt.forms.create({
            css: '',
            cssClass: 'install-form',
            portalId: '1753393',
            formId: '39686297-81d2-45e7-a73f-55a596a8d5ff',
            formInstanceId: 1,
            target: '.install-form-1'
        });
    </script>
</div>

### Downloads

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-rc.2.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-rc.2.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-rc.2.windows-6.2-amd64.zip"><button id="windows" data-eventcategory="windows-binary-release-notes">Windows</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-rc.2.src.tgz"><button id="source" data-eventcategory="source-release-notes">Source</button></a>
</div>

### Docker image

{% include copy-clipboard.html %}
~~~shell
$ docker pull cockroachdb/cockroach-unstable:v20.1.0-rc.2
~~~


### SQL language changes

- We previously allowed mixed type 20.1/19.2 upgrades to add time precision. However, the 19.2 would disrespect the precision component and we documented that. To make this cleaner, we instead only allow precision to be specified in time-related types when the version upgrade is complete. [#47438][#47438]

### Command-line changes

- Added new start option --clock-device that alows HLC to use PTP user space API clock [#47379][#47379]

### Bug fixes

- Remove a panic that would fire under normal operating conditions. Would result in "invalid truncation decision" error messages. [#47346][#47346]
- Fix a backwards incompatibility between RocksDB and Pebble that prevented RocksDB from opening a Pebble created WAL file under certain conditions. [#47383][#47383]
- Fix mishandling of truncated WAL records in Pebble which could prevent Pebble from opening a DB after a crash. [#47383][#47383]
- Fixed a bug in the new schema change GC job implementation causing unnecessary table descriptor lookups whenever any table was updated. [#47490][#47490]
- A bug that could cause a workload to stall under heavy load has been fixed. This stall was due to a deadlock that was introduced in an earlier v20.1 release.  Release justification: fixes a high-priority bug in existing functionality. The bug could result in full-workload deadlocks under heavy load. [#47493][#47493]
- Fixed a bug introduced with the new schema change job implementation in beta.3 that caused errors when rolling back a schema change to be swallowed. [#47499][#47499]
- A bug that could could trigger an assertion with the text "received X results, limit was Y" has been fixed. The underlying bug was only performance related and could not cause user-visible correctness violations.  Release justification: fixes a medium-priority bug in existing functionality. The bug could result in an assertion failure and a node crashing. Even though this was an old bug (present in many releases before v20.1), it became a lot easier to hit in v20.1 because we started performing ranged intent resolution more often due to implicit SELECT FOR UPDATE. [#47501][#47501]

### Doc updates

Docs team: Please add these manually.

### Contributors

This release includes 13 merged PRs by 10 authors.

[#47346]: https://github.com/cockroachdb/cockroach/pull/47346
[#47379]: https://github.com/cockroachdb/cockroach/pull/47379
[#47383]: https://github.com/cockroachdb/cockroach/pull/47383
[#47438]: https://github.com/cockroachdb/cockroach/pull/47438
[#47490]: https://github.com/cockroachdb/cockroach/pull/47490
[#47493]: https://github.com/cockroachdb/cockroach/pull/47493
[#47499]: https://github.com/cockroachdb/cockroach/pull/47499
[#47501]: https://github.com/cockroachdb/cockroach/pull/47501
