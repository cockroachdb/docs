---
title: What&#39;s New in v19.2.0-beta.20190930
toc: true
summary: Additions and changes in CockroachDB version v19.2.0-beta.20190930 since version v19.2.0-alpha.20190805
---

## September 30, 2019

In addition to bug fixes and various general, enterprise, SQL, and command-line enhancements, this release includes several major highlights:

- **Locality-aware backup and restore**: You can now back up or restore a subset of a table's data according to [zone configurations](../v19.2/configure-replication-zones.html) (e.g., send your EU backup partition to an EU cloud storage location).
- [**Import performance improvements**](../v19.2/import.html): Internal improvements have been made to `IMPORT` to enable more efficient loading of large data sets.
- **Show partitions using SQL**: CockroachDB now supports the [`SHOW PARTITIONS`](../v19.2/show-partitions.html) statement, which can be used to identify partitions. It also enhances [`SHOW CREATE TABLE`](../v19.2/show-create.html) to show constraints as described.
- **Vectorized Execution**: Queries are now automatically faster for users. This work expands upon the SQL vectorized execution prototype, and allows it to be used in production. Note that this does not cover the long-tail of features necessary to use vectorization on all queries. Vectorized execution is turned on by default for a subset of queries and defaults back to DistSQL execution for unsupported queries.
- **Improve Streaming Behavior on JDBC Driver**: PostgreSQL wire protocol cursors have been implemented. As a result, PGJDBC is able to use streaming behavior to return pagination-related results. Limitations still apply. For more information, see [Build a Java App with CockroachDB](../v19.2/build-a-java-app-with-cockroachdb.html#retrieve-large-data-sets-in-chunks-using-cursors).
- [**Improve partitioning user experience**](../v19.2/partitioning.html): CockroachDB now prevents users from specifying a non-partitioned secondary index on a partitioned table by default to improve performance. Users will have the ability to override this default as it may be necessary in some rare use cases. Additionally, users can now specify the same name for the partition for tables and for all corresponding indexes.
- [**Improve setting of zone configs via SQL**](../v19.2/configure-replication-zones.html): [`ALTER TABLE`](../v19.2/alter-table.html) now returns an error when users select conflicting or impossible zone constraints due to user error.
- **Make it easy to focus queries on partitioned data**: CockroachDB now automatically limits a query to only the applicable [partition](../v19.2/partitioning.html) without having to specify the particular partition for a geo-distributed table. This prevents the query from conducting a full table scan.
- **Better insight into constraint conformance**: You can now tell if your cluster is in a healthy state based on the status of conformance to constraints like [zone configurations](../v19.2/configure-replication-zones.html), lease preferences, and replica diversification.

Get future release notes emailed to you:

{% include marketo.html %}

### Downloads

<div id="os-tabs" class="clearfix os-tabs_button-outline-primary">
    <a href="https://binaries.cockroachdb.com/cockroach-v19.2.0-beta.20190930.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v19.2.0-beta.20190930.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v19.2.0-beta.20190930.src.tgz"><button id="source" data-eventcategory="source-release-notes">Source</button></a>
</div>

### Docker image

{% include copy-clipboard.html %}
~~~shell
$ docker pull cockroachdb/cockroach-unstable:v19.2.0-beta.20190930
~~~

### General changes

- Replicas are now added using a Raft learner and go through the normal Raft snapshot process to catch them up, eliminating technical debt. No user-facing changes are expected. [#39034][#39034] {% comment %}doc{% endcomment %}
- Atomic replication changes are now enabled by default. [#40464][#40464]
- RocksDB `INFO` logs are now stored with CockroahDB debug logs. [#40681][#40681]

### Backward-incompatible changes

- Quotes are no longer accepted inside unquoted CSV fields. [#40424][#40424]
- [`CONFIGURE ZONE`](../v19.2/configure-zone.html) statements now fail if the user does not have sufficient privileges. If the target is a `system` range, the `system` database, or a table in the `system` database, the user must have an admin role. For all other databases and tables, the user must have the `CREATE` privilege on the target database or table. This change might be backward-incompatible for users running scripted `CONFIGURE ZONE` statements with restricted permissions. To add the necessary permissions, use [`GRANT` &lt;privileges&gt;](../v19.2/grant.html) or [`GRANT` &lt;roles&gt;](../v19.2/grant-roles.html) as a user with an admin role. For example, to grant a user the admin role, run `GRANT admin TO <user>`. To grant the `CREATE` privilege on a database or table, run `GRANT CREATE ON [DATABASE | TABLE] <name> TO <user>`. [#40879][#40879]

### Enterprise edition changes

- Added support for client certificates for Kafka changefeed authentication. [#39832][#39832]
- Added support for locality-aware [backups](../v19.2/backup.html) across multiple backup destinations. [#39250][#39250] {% comment %}doc{% endcomment %}
- Added support for displaying creation statements of relations stored in a [backups](../v19.2/backup.html). [#39323][#39323] {% comment %}doc{% endcomment %}
- [Table statistics](../v19.2/create-statistics.html) for the tables that are being backed up are now also backed up. [#39644][#39644] {% comment %}doc{% endcomment %}
- Corrected behavior for unmatched quotes in enclosed fields. [#40960][#40960]
- Added `auth=implicit` setting, which removes access key requirement when listing S3 files for bulk I/O operations. [#40836][#40836]

### SQL language changes

- [Zone configurations](../v19.2/configure-replication-zones.html) now error out when they conflict with each other. [#39081][#39081] {% comment %}doc{% endcomment %}
- Renamed `SHOW EXPERIMENTAL_RANGES` to [`SHOW RANGES`](../v19.2/show-ranges.html) command, as it is no longer an experimental feature. [#39153][#39153] {% comment %}doc{% endcomment %}
- Added the `SHOW RANGES FROM DATABASE` command. [#39194][#39194] {% comment %}doc{% endcomment %}
- Added partial support for row limits during portal execution in `pgwire`. [#39085][#39085]
- Added the `SHOW LOCALITY` command. [#39058][#39058] {% comment %}doc{% endcomment %}
- Added the `SHOW PARTITIONS` command. [#39053][#39053] {% comment %}doc{% endcomment %}
- [`CREATE VIEW`](../v19.2/create-view.html) now supports all queries supported by the optimizer, including those containing [correlated subqueries](../v19.2/subqueries.html#correlated-subqueries). [#39169][#39169] {% comment %}doc{% endcomment %}
- Mutations are no longer allowed inside [views](../v19.2/views.html). [#39169][#39169] {% comment %}doc{% endcomment %}
- Added the `COLLATION FOR` syntax and `pg_collation_for()` [built-in function](../v19.2/functions-and-operators.html). [#39198][#39198] {% comment %}doc{% endcomment %}
- Implemented the `timezone()` built-in and `AT TIME ZONE` syntax, which allows converting a `timestamptz` into a `timezone` at a specified timezone, and converting a `timestamp` into a `timestamptz` at a specified timezone. [#39186][#39186] {% comment %}doc{% endcomment %}
- The new `vectorize_row_count_threshold` [cluster setting](../v19.2/cluster-settings.html) controls when the vectorized execution engine is used. [#39329][#39329] {% comment %}doc{% endcomment %}
- Added a `VEC` option to the [`EXPLAIN`](../v19.2/explain.html) command, which shows detailed plan information for vectorized plans. [#39280][#39280] {% comment %}doc{% endcomment %}
- Partition names can now be reused between different indexes on the same table. [#39332][#39332] {% comment %}doc{% endcomment %}
- Columns without an explicit default value now support foreign keys with the `SET DEFAULT` action, in the same way as the `SET NULL` and `SET DEFAULT NULL` cases. [#39136][#39136] {% comment %}doc{% endcomment %}
- Added [`SHOW JOB <jobid>`](../v19.2/show-jobs.html), `SHOW JOB <a_expr>`, and `SHOW JOBS <selectclause>`. [#39324][#39324] {% comment %}doc{% endcomment %}
- Added [`SHOW JOB WHEN COMPLETE <a_expr>`](../v19.2/show-jobs.html) and `SHOW JOBS WHEN COMPLETE <selectclause>`. [#39457][#39457] {% comment %}doc{% endcomment %}
- [`IMPORT INTO`](../v19.2/import-into.html) now cleans up any imported rows if it fails. [#39459][#39459]
- Updated [`SHOW CREATE`](../v19.2/show-create.html) to display information about partition and table zone configurations. [#39102][#39102] {% comment %}doc{% endcomment %}
- Explicitly closing portals over the wire after partial use is now supported. [#39639][#39639]
- Added progress tracking for new implementation of [`IMPORT`](../v19.2/import.html). [#39646][#39646] {% comment %}doc{% endcomment %}
- CockroachDB now supports an optional frame exclusion clause in the specification of window frames. [#28262][#28262] {% comment %}doc{% endcomment %}
- Enabled collection of histograms by default during automatic statistics collection. [#39743][#39743]
- The `force_retry()` function, which previously required admin privileges, is now available to all users to test their transaction retry loops. [#39246][#39246] {% comment %}doc{% endcomment %}
- When [`DROP CONSTRAINT`](../v19.2/drop-constraint.html) is executed in a [transaction](../v19.2/transactions.html) on a validated constraint, it no longer takes effect immediately, and subsequent writes will now fail if they violate that constraint. This is to enforce consistency when dropping constraints asynchronously in the schema changer. [#39648][#39648]
- The [`ALTER PARTITION`](../v19.2/configure-zone.html) statement now supports applying a [zone configuration](../v19.2/configure-replication-zones.html) to all the partitions of a table and its indexes that share the same partition name. The syntax for this is `ALTER PARTITION <partition name> OF INDEX <table name>@*`. [#39750][#39750]
- CockroachDB now supports the `FOR UPDATE` modifier on [`SELECT`](../v19.2/select-clause.html) statements for compatibility with third-party tools. It has no effect because `SERIALIZABLE` [transactions](../v19.2/transactions.html) do not require explicit write locks to maintain consistency. However, this means that `SELECT FOR UPDATE` cannot be used as an advisory exclusive lock in CockroachDB, as used by some tools.[#40206][#40206]
- [`SHOW PARTITIONS`](../v19.2/show-partitions.html) now shows the full zone configuration statement used to configure the partition. [#39814][#39814]
- Added the `pg_my_temp_schema()` [built-in](../v19.2/functions-and-operators.html) for Postgres compatibility. [#40194][#40194]
- Added the overlaps (`&&`), contains (`@>`), and contained_by (`<@`) operators for [arrays](../v19.2/array.html). [#40194][#40194]
- Added `pg_get_function_identity_arguments()` [built-in](../v19.2/functions-and-operators.html). [#40194][#40194]
- Added the `width_bucket()` builtin function. [#39263][#39263]
- Added range size information to [`SHOW RANGES`](../v19.2/show-ranges.html). [#40281][#40281]
- Added replica locality information to [`SHOW RANGES`](../v19.2/show-ranges.html). [#39813][#39813]
- Reordered columns in [`SHOW RANGES`](../v19.2/show-ranges.html) output [#40501][#40501]
- [`SHOW CREATE TABLE`](../v19.2/show-create.html) now warns users if they have a partitioned table that does not contain zone configurations [#40475][#40475]
- Added the `replication_constraint_stats`, `replication_stats`, and `replication_critical_localities` system tables. These tables contain information about replication status, constraint conformance, and critical localities. [#40625][#40625]
- [Common table expressions](../v19.2/common-table-expressions.html) that are used a single time no longer create an optimization fence. [#40673][#40673]
- [`EXPLAIN`](../v19.2/explain.html) now has additional output that shows if a query will run with the vectorized execution engine, and if the query will be distributed across nodes. [#40652][#40652]
- Column references are no longer allowed in `ROWS` and `RANGE` clauses in [window functions](../v19.2/window-functions.html). [#40832][#40832]
- Added the `pg_function_is_visible` and `pg_get_function_result` [built-in functions](../v19.2/functions-and-operators.html). [#40902][#40902]
- Added parsing for `FOR UPDATE [ OF tables ]` form. [#40962][#40962]
- Mutations under `UNION` or `UNION ALL` are now disallowed; `WITH` should be used on top of the union operation instead. This restriction is temporary and will be lifted in a future release. [#40975][#40975]
- Added support for the syntax for `oid` wrapper arrays, like `REGCLASS[]`. [#40949][#40949]
- `EXPLAIN ANALYSE` can now be used as an alias to [`EXPLAIN ANALYZE`](../v19.2/explain-analyze.html). [#41090][#41090]
- [`SHOW PARTITIONS`](../v19.2/show-partitions.html) now displays inherited zone configurations. [#40493][#40493]
- Added the `zone_id` and `subzone_id` columns to `crdb_internal.partitions`. These columns form a link to the zone configurations in `crdb_internal.zones` that apply to the partitions. [#40493][#40493]
- Renamed the `config_yaml`, `config_sql`, and `config_proto` columns in `crdb_internal.zones` to `raw_config_yaml`, `raw_config_sql`, and `raw_config_proto`. [#40493][#40493]
- Added the columns `full_config_sql` and `full_config_yaml` to the` crdb_internal.zones` table. [#40493][#40493]
- Added `FOR ROW` clause to [`SHOW RANGES`](../v19.2/show-ranges.html) to show range information for a particular row. [#40954][#40954]

### Command-line changes

- [`cockroach demo`](../v19.2/cockroach-demo.html) now accepts a `--nodes` flag, which permits customization of the size of the demo cluster. The default remains at `1`. [#39088][#39088] {% comment %}doc{% endcomment %}
- [`cockroach demo`](../v19.2/cockroach-demo.html) now accepts a `--demo-locality` flag, which makes it possible to set node localities. [#39454][#39454] {% comment %}doc{% endcomment %}
- [`cockroach demo`](../v19.2/cockroach-demo.html) without an argument is now equivalent to `cockroach demo movr`. The previous behavior (no pre-defined dataset) is still available via `cockroach demo --empty`. [#39298][#39298] {% comment %}doc{% endcomment %}
- [`cockroach start`](../v19.2/cockroach-start.html) now writes the client URL to the file specified via `--listen-url-file` as soon as the server is ready to accept connections. This also happens before the server detaches from the terminal when `--background` is specified. [#39300][#39300] {% comment %}doc{% endcomment %}
- Using [`cockroach start`](../v19.2/cockroach-start.html) without `--join` is now deprecated and this mode of execution will be removed in a later version of CockroachDB. Consider using `cockroach start-single-node` instead or combine `cockroach start` with [`cockroach init`](../v19.2/initialize-a-cluster.html). [#28495][#28495] {% comment %}doc{% endcomment %}
- The advisory/informative check performed by [`cockroach start`](../v19.2/cockroach-start.html) on the validity of addresses contained in the node certificate is now relaxed to focus on the advertised node address, and to tolerate cases when the cert contains an IP address but a hostname is specified as advertised address. [#39166][#39166]
- Added locality information to the output of [`cockroach node status`](../v19.2/cockroach-node.html). [#39059][#39059] {% comment %}doc{% endcomment %}
- Removed the deprecated `cockroach zone` CLI commands. Please use the equivalent [`SHOW ZONE CONFIGURATIONS`](../v19.2/show-zone-configurations.html) and `CONFIGURE ZONE` commands in a SQL client. [#39177][#39177] {% comment %}doc{% endcomment %}
- Added a new `cockroach start-single-node` [command](../v19.2/cockroach-commands.html) to start single-node clusters with replication disabled. [#28495][#28495] {% comment %}doc{% endcomment %}
- The [`cockroach user`](../v19.2/create-and-manage-users.html) sub-commands are now deprecated. Users and roles can be managed using SQL statements instead. This functionality will be removed in the next release. [#39297][#39297] {% comment %}doc{% endcomment %}
- [`cockroach start`](../v19.2/cockroach-start.html) now accepts a `--cluster-name` flag. If specified, it must match when a node connects to a cluster. This feature is meant for use in combination with the cluster ID, which is still checked in any case, to protect newly created nodes (that don't have a cluster ID yet) from joining the wrong cluster. To introduce a cluster name into an existing cluster without one, the new flag can be temporarily paired with `--disable-cluster-name-verification`. [#39270][#39270] {% comment %}doc{% endcomment %}
- [`cockroach start`](../v19.2/cockroach-start.html) now accepts a `--sql-addr` [flag](../v19.2/cockroach-start.html#flags), which makes it possible to accept connections by clients on a separate TCP address and/or port number from the one used for intra-cluster (node-node) connections. This is aimed to enable firewalling client traffic from server traffic. [#39305][#39305] {% comment %}doc{% endcomment %}
- [`cockroach workload run`](../v19.2/cockroach-workload.html) and `cockroach workload init` now support loading initial table data using [`IMPORT`](../v19.2/import.html). [#35312][#35312] {% comment %}doc{% endcomment %}
- [`cockroach workload`](../v19.2/cockroach-workload.html) now supports additional command-line parameters to customize the output, to facilitate the integration with third-party testing tools:
    - For tools that wish to observe the metrics more frequently than every second, a new flag `--display-every` is now supported, which can be used to specify the period between metric reports. This applies to both the JSON and textual output.
    - For tools that require a different output format than the default, a new `--display-format` argument is supported. For now   only the formats "simple" (original output format) and "incremental-json" ([RFC3339](https://tools.ietf.org/html/rfc3339) timestamps, no summary row) are supported. [#37929][#37929] {% comment %}doc{% endcomment %}
- Added `\d`, `\dt`, `\du`, `\l` metacommands to the [cockroach sql](../v19.2/cockroach-sql.html) interactive shell. [#39141][#39141] {% comment %}doc{% endcomment %}
- Added default cluster locality topologies for multi-node [`cockroach demo`](../v19.2/cockroach-demo.html) clusters. [#40221][#40221]
- Errors in [`cockroach demo`](../v19.2/cockroach-demo.html) are no longer logged to the command-line interface. [#40196][#40196]
- Added `\d` client-side command with no arguments as an alias for `\dt`, for more ease of adoption by `psql` users. [#40309][#40309]
- Added a [MovR](../v19.2/movr.html) workload to run with [`cockroach demo`](../v19.2/cockroach-demo.html). [#40271][#40271]
- Added location information for default localities to populate Admin UI for [`cockroach demo`](../v19.2/cockroach-demo.html). [#40229][#40229]
- [`cockroach demo`](../v19.2/cockroach-demo.html) now attempts to contact a license server to obtain a temporary license for demo usage. [#40273][#40273]
- [`cockroach demo`](../v19.2/cockroach-demo.html) now enables telemetry for demo clusters. You can opt out of telemetry by setting the `COCKROACH_SKIP_ENABLING_DIAGNOSTIC_REPORTING` environment variable. For more information, see [Diagnostics Reporting](https://www.cockroachlabs.com/docs/stable/diagnostics-reporting.html). [#40273][#40273]
- Deprecated the `--init` flag on the [`workload run`](../v19.2/cockroach-workload.html#subcommands) command. Use `workload init` instead. [#40426][#40426]
- Added support for a new `DELIMITED` data format to the [`IMPORT`](../v19.2/import.html) statement. [#40482][#40482]
- Added an option for [`cockroach demo`](../v19.2/cockroach-demo.html) to automatically apply the geo-partitioned replicas topology to the `movr` dataset using the `--geo-partitioned-replicas` flag. [#40355][#40355]
- [`cockroach sql`](../v19.2/cockroach-commands.html) now supports the `--watch` flag. When used to specified a duration, the client will repeat the statement(s) specified by `-e` until an error occurs. This is intended for simple monitoring scenarios during development and testing. [#40594][#40594]
- Added support for redirecting license acquisition to a replacement server (e.g. a suitably configured HTTP proxy), with the environment variable `COCKROACH_DEMO_LICENSE_URL`. This enables [`cockroach demo`](../v19.2/cockroach-demo.html) with enterprise features in firewalled network environments. [#41029][#41029]

### Admin UI changes

- Metrics about p90 and p99 percentiles of per-application average transaction time are now exposed in the [Admin UI](../v19.2/admin-ui-access-and-navigate.html). [#39429][#39429]

### Bug fixes

- Fixed a potential infinite loop in queries involving reverse scans. [#39084][#39084]
- Upgraded the `grpc` library to fix connection state management bug. [#39041][#39041]
- Properly initialize proposal quota tracking to prevent quota leak which can hang imports or other AddSSTable operations. [#39135][#39135]
- `crdb_internal.ranges` can now be used inside [views](../v19.2/views.html). Note that such views can become invalid in future releases if `crdb_internal.ranges` changes. [#39195][#39195]
- Prevented panic due to recording into finished tracing spans caused by acknowledging an earlier failed re-proposal when a later re-proposal exists. [#39203][#39203]
- CockroachDB now properly computes the default port number if an IPv6 address is provided without port number with `--locality-advertise-addr`. [#39334][#39334]
- Unary negatives in constant arithmetic expressions are no longer ignored. [#39245][#39245]
- `pg_catalog` now shows correct type lengths for [`INT`](../v19.2/int.html) and [`FLOAT`](../v19.2/float.html). [#39337][#39337]
- Fixed a rare panic (message: `"raft group deleted"`) that could occur during splits. [#39571][#39571]
- Fixed a panic due to incorrect type inference of some `ARRAY(...)` expressions. [#39469][#39469]
- [Zone configurations](../v19.2/configure-replication-zones.html) now propagate to non-gossiped system tables. [#39638][#39638]
- [`cockroach dump`](../v19.2/cockroach-dump.html) now works properly when handling [`INTERLEAVED`](../v19.2/interleave-in-parent.html) tables, printing them outside of [`CREATE TABLE`](../v19.2/create-table.html) statements. [#39486][#39486]
- Fixed internal errors generated during execution of some complicated cases of [correlated subqueries](../v19.2/subqueries.html#correlated-subqueries). [#39818][#39818]
- Using `ORDER BY` inside aggregation functions is now fully supported. [#40242][#40242]
- [Lookup joins](../v19.2/joins.html#lookup-joins) now spill to disk if the index lookups return more rows than can be stored in memory. [#40208][#40208]
- Fixed an internal planning error that could occur when a `DISTINCT` or `GROUP BY` expression was contained in a subquery. [#40468][#40468]
- Fixed an optimizer panic when building array access expressions. [#40469][#40469]
- Fixed faulty error when trying to delete a table and an unrelated index in the same transaction. [#40516][#40516]
- `ordinal_position` in `information_schema.columns` now matches `pg_attribute.attnum` after a column is dropped. [#40485][#40485]
- Fixed fatal error with message `replica descriptor of local store not found`. [#39796][#39796]
- Intents in a read's uncertainty interval are now considered as uncertain as committed values. This removes the potential for stale reads when a causally dependent transaction runs into unresolved intents from a causal ancestor. [#40600][#40600]
- Fixed a cluster migration bug that could occur in clusters running a mixture of v19.1 and v19.2. This bug was signaled by messages of the form: ` X at key /Table/54 failed: unexpected value: ... `  Affected clusters should be updated to 19.2 or, if 19.1 is preferred, recreated from backup. [#40464][#40464]
- Fixed behavior of `SERIAL` columns on mixed-case tables when `experimental_serial_normalization=sql_sequence`. [#40965][#40965]
- `width_bucket` [function](../v19.2/functions-and-operators.html) no longer errors on 0-length arrays [#40626][#40626]
- Fixed an error that could occur when the optimizer creates a plan with a lookup semi- or anti-join nested inside another join. [#40669][#40669]
- Fixed a memory corruption error in the optimizer that could cause stack overflow. [#40644][#40644]
- The [`cockroach` commands](../v19.2/cockroach-commands.html) are now able to connect to a server with the environment variable `COCKROACH_URL`. [#40824][#40824]
- Index hints used with [`DELETE`](../v19.2/delete.html) and [`UPDATE`](../v19.2/update.html) are now taken into consideration. [#40715][#40715]
- Fixed an issue with creating table indexes when the server is running on Windows and the store is on a file system that does not support hard links (e.g. FAT32 or network share) [#40875][#40875]
- Restore correct result generation for queries with index disjunctions on tables with multiple column families. [#40898][#40898]
- Fixed a stack overflow that could occur via use of `WITH`. [#40937][#40937]
- Detailed crash reports now always appear in the main log file. If SQL audit reporting or statement logging was activated, crash reports (i.e. "panic messages") could previously be reported in the wrong file. [#40941][#40941]
- Users must now have admin privileges to cancel, pause, or resume jobs. [#40978][#40978]
- CockroachDB now properly removes excess secondary log files (SQL audit logging, statement execution logging, and RocksDB events). [#41020][#41020]
- CockroachDB now avoids the internal re-use of Replica objects to fix the following crashes:
 - #38772 "`found rXXX:{-} [, next=0, gen=0?] in place of the RHS`"
 - #39796 "`replica descriptor of local store not found in right hand side of split`"
 - #40470 "`split trigger found right-hand side with tombstone`"
 - #40257 "`snapshot widens existing replica, but no replica exists for subsumed key`" [#40892][#40892]
- Fixed panic in [`cockroach workload movr run`](../v19.2/cockroach-workload.html). [#41072][#41072]
- Resolved an issue with server hanging on [`cockroach quit`](../v19.2/cockroach-commands.html) on Windows. [#40994][#40994]
- The `cockroach zip`, `cockroach node` and `cockroach user` [`cockroach` commands](../v19.2/cockroach-commands.html#commands) now work properly when the `defaultdb` database is manually dropped and the connection URL does not specify a database. `cockroach user` is deprecated in 19.2. [#41121][#41121]
- [`cockroach workload init ycsb`](../v19.2/cockroach-workload.html#ycsb-workload) now works with `--data-loader=import`. [#41071][#41071]
- Fixed bug where [zone configurations](../v19.2/configure-replication-zones.html) on indexes could leak into configurations on [partitions](../v19.2/partitioning.html). [#41089][#41089
- Statements inside `[ ... ]` can no longer refer to outer columns or [common table expressions](../v19.2/common-table-expressions.html). [#41158][#41158]
- The SQL for non-`SELECT` [common table expressions](../v19.2/common-table-expressions.html) now shows up in `EXPLAIN` output. [#41159][#41159]
- Fixed bug that prevented changes to `kv.bulk_io_write.concurrent_addsstable_requests` from taking effect. [#41195][#41195]
- Fixed a memory leak that affected secondary logging (SQL audit logs, statement execution, and RocksDB logging). [#41231][#41231]

### Performance improvements

- Sped up file-writing during bulk-ingestion. [#37528][#37528]
- Snapshots sent between replicas are now applied more performantly and use less memory. [#38932][#38932]
- Raft entries no longer wait to be applied to the RocksDB storage engine before signaling their success to clients, they now only wait until they are committed in their Raft log. [#38954][#38954]
- Adjusted load-based splitting QPS threshold to avoid over-splitting. [#39687][#39687]
- [`IMPORT`](../v19.2/import.html) now writes unsorted data directly, reducing `IMPORT`'s overhead (but potentially increasing RocksDB compaction overhead). [#39487][#39487]
- Improved performance for mutation statements with `RETURNING` that are not inside an explicit transaction. [#40871][#40871]

### Doc updates

- Added an [Oracle migration guide](../v19.2/migrate-from-oracle.html), which guides users through the process of converting their schema and then exporting their data so they can load it into CockroachDB via [`IMPORT`](../v19.2/import.html). [#5902](https://github.com/cockroachdb/docs/pull/5092)
- Added an [overview of MovR](../v19.2/movr.html), CockroachDB's fictional vehicle-sharing dataset and application, and updated several SQL pages and examples to use the built-in MovR dataset, for example, [Learn CockroachDB SQL](../v19.2/learn-cockroachdb-sql.html). [#5075](https://github.com/cockroachdb/docs/pull/5075), [#5216](https://github.com/cockroachdb/docs/pull/5216)
- Added a tutorial on [how to use `EXPLAIN` to identify and resolve common SQL performance problems](../v19.2/learn-cockroachdb-sql.html). [#5178](https://github.com/cockroachdb/docs/pull/5178)


### Contributors

This release includes 724 merged PRs by 53 authors.
We would like to thank the following contributors from the CockroachDB community:

- Arseni Lapunov
- Elliot Courant
- HyeonGyu Lee (Vazrupe) (first-time contributor)
- Jaewan Park
- Kevin Barbour (first-time contributor)
- Niels Hofmans (first-time contributor)
- Shishir Jaiswal (first-time contributor)
- Taufiq Rahman (first-time contributor)
- Zeming YU (first-time contributor)
- 贾德星 (first-time contributor)

[#28262]: https://github.com/cockroachdb/cockroach/pull/28262
[#28495]: https://github.com/cockroachdb/cockroach/pull/28495
[#35312]: https://github.com/cockroachdb/cockroach/pull/35312
[#37528]: https://github.com/cockroachdb/cockroach/pull/37528
[#37929]: https://github.com/cockroachdb/cockroach/pull/37929
[#38932]: https://github.com/cockroachdb/cockroach/pull/38932
[#38954]: https://github.com/cockroachdb/cockroach/pull/38954
[#39034]: https://github.com/cockroachdb/cockroach/pull/39034
[#39041]: https://github.com/cockroachdb/cockroach/pull/39041
[#39053]: https://github.com/cockroachdb/cockroach/pull/39053
[#39058]: https://github.com/cockroachdb/cockroach/pull/39058
[#39059]: https://github.com/cockroachdb/cockroach/pull/39059
[#39067]: https://github.com/cockroachdb/cockroach/pull/39067
[#39081]: https://github.com/cockroachdb/cockroach/pull/39081
[#39084]: https://github.com/cockroachdb/cockroach/pull/39084
[#39085]: https://github.com/cockroachdb/cockroach/pull/39085
[#39088]: https://github.com/cockroachdb/cockroach/pull/39088
[#39102]: https://github.com/cockroachdb/cockroach/pull/39102
[#39135]: https://github.com/cockroachdb/cockroach/pull/39135
[#39136]: https://github.com/cockroachdb/cockroach/pull/39136
[#39141]: https://github.com/cockroachdb/cockroach/pull/39141
[#39153]: https://github.com/cockroachdb/cockroach/pull/39153
[#39166]: https://github.com/cockroachdb/cockroach/pull/39166
[#39169]: https://github.com/cockroachdb/cockroach/pull/39169
[#39177]: https://github.com/cockroachdb/cockroach/pull/39177
[#39186]: https://github.com/cockroachdb/cockroach/pull/39186
[#39194]: https://github.com/cockroachdb/cockroach/pull/39194
[#39195]: https://github.com/cockroachdb/cockroach/pull/39195
[#39198]: https://github.com/cockroachdb/cockroach/pull/39198
[#39203]: https://github.com/cockroachdb/cockroach/pull/39203
[#39245]: https://github.com/cockroachdb/cockroach/pull/39245
[#39246]: https://github.com/cockroachdb/cockroach/pull/39246
[#39250]: https://github.com/cockroachdb/cockroach/pull/39250
[#39263]: https://github.com/cockroachdb/cockroach/pull/39263
[#39270]: https://github.com/cockroachdb/cockroach/pull/39270
[#39280]: https://github.com/cockroachdb/cockroach/pull/39280
[#39282]: https://github.com/cockroachdb/cockroach/pull/39282
[#39291]: https://github.com/cockroachdb/cockroach/pull/39291
[#39297]: https://github.com/cockroachdb/cockroach/pull/39297
[#39298]: https://github.com/cockroachdb/cockroach/pull/39298
[#39300]: https://github.com/cockroachdb/cockroach/pull/39300
[#39305]: https://github.com/cockroachdb/cockroach/pull/39305
[#39310]: https://github.com/cockroachdb/cockroach/pull/39310
[#39323]: https://github.com/cockroachdb/cockroach/pull/39323
[#39324]: https://github.com/cockroachdb/cockroach/pull/39324
[#39329]: https://github.com/cockroachdb/cockroach/pull/39329
[#39332]: https://github.com/cockroachdb/cockroach/pull/39332
[#39334]: https://github.com/cockroachdb/cockroach/pull/39334
[#39337]: https://github.com/cockroachdb/cockroach/pull/39337
[#39429]: https://github.com/cockroachdb/cockroach/pull/39429
[#39454]: https://github.com/cockroachdb/cockroach/pull/39454
[#39457]: https://github.com/cockroachdb/cockroach/pull/39457
[#39459]: https://github.com/cockroachdb/cockroach/pull/39459
[#39469]: https://github.com/cockroachdb/cockroach/pull/39469
[#39486]: https://github.com/cockroachdb/cockroach/pull/39486
[#39487]: https://github.com/cockroachdb/cockroach/pull/39487
[#39560]: https://github.com/cockroachdb/cockroach/pull/39560
[#39571]: https://github.com/cockroachdb/cockroach/pull/39571
[#39638]: https://github.com/cockroachdb/cockroach/pull/39638
[#39639]: https://github.com/cockroachdb/cockroach/pull/39639
[#39644]: https://github.com/cockroachdb/cockroach/pull/39644
[#39646]: https://github.com/cockroachdb/cockroach/pull/39646
[#39648]: https://github.com/cockroachdb/cockroach/pull/39648
[#39687]: https://github.com/cockroachdb/cockroach/pull/39687
[#39743]: https://github.com/cockroachdb/cockroach/pull/39743
[#39750]: https://github.com/cockroachdb/cockroach/pull/39750
[#39796]: https://github.com/cockroachdb/cockroach/pull/39796
[#39813]: https://github.com/cockroachdb/cockroach/pull/39813
[#39814]: https://github.com/cockroachdb/cockroach/pull/39814
[#39818]: https://github.com/cockroachdb/cockroach/pull/39818
[#39832]: https://github.com/cockroachdb/cockroach/pull/39832
[#40194]: https://github.com/cockroachdb/cockroach/pull/40194
[#40196]: https://github.com/cockroachdb/cockroach/pull/40196
[#40206]: https://github.com/cockroachdb/cockroach/pull/40206
[#40208]: https://github.com/cockroachdb/cockroach/pull/40208
[#40221]: https://github.com/cockroachdb/cockroach/pull/40221
[#40229]: https://github.com/cockroachdb/cockroach/pull/40229
[#40242]: https://github.com/cockroachdb/cockroach/pull/40242
[#40271]: https://github.com/cockroachdb/cockroach/pull/40271
[#40273]: https://github.com/cockroachdb/cockroach/pull/40273
[#40281]: https://github.com/cockroachdb/cockroach/pull/40281
[#40284]: https://github.com/cockroachdb/cockroach/pull/40284
[#40309]: https://github.com/cockroachdb/cockroach/pull/40309
[#40314]: https://github.com/cockroachdb/cockroach/pull/40314
[#40424]: https://github.com/cockroachdb/cockroach/pull/40424
[#40426]: https://github.com/cockroachdb/cockroach/pull/40426
[#40464]: https://github.com/cockroachdb/cockroach/pull/40464
[#40468]: https://github.com/cockroachdb/cockroach/pull/40468
[#40469]: https://github.com/cockroachdb/cockroach/pull/40469
[#40475]: https://github.com/cockroachdb/cockroach/pull/40475
[#40482]: https://github.com/cockroachdb/cockroach/pull/40482
[#40485]: https://github.com/cockroachdb/cockroach/pull/40485
[#40501]: https://github.com/cockroachdb/cockroach/pull/40501
[#40516]: https://github.com/cockroachdb/cockroach/pull/40516
[#40600]: https://github.com/cockroachdb/cockroach/pull/40600
[#40625]: https://github.com/cockroachdb/cockroach/pull/40625
[#40355]: https://github.com/cockroachdb/cockroach/pull/40355
[#40594]: https://github.com/cockroachdb/cockroach/pull/40594
[#40626]: https://github.com/cockroachdb/cockroach/pull/40626
[#40644]: https://github.com/cockroachdb/cockroach/pull/40644
[#40652]: https://github.com/cockroachdb/cockroach/pull/40652
[#40669]: https://github.com/cockroachdb/cockroach/pull/40669
[#40673]: https://github.com/cockroachdb/cockroach/pull/40673
[#40681]: https://github.com/cockroachdb/cockroach/pull/40681
[#40715]: https://github.com/cockroachdb/cockroach/pull/40715
[#40824]: https://github.com/cockroachdb/cockroach/pull/40824
[#40832]: https://github.com/cockroachdb/cockroach/pull/40832
[#40836]: https://github.com/cockroachdb/cockroach/pull/40836
[#40871]: https://github.com/cockroachdb/cockroach/pull/40871
[#40875]: https://github.com/cockroachdb/cockroach/pull/40875
[#40879]: https://github.com/cockroachdb/cockroach/pull/40879
[#40892]: https://github.com/cockroachdb/cockroach/pull/40892
[#40898]: https://github.com/cockroachdb/cockroach/pull/40898
[#40902]: https://github.com/cockroachdb/cockroach/pull/40902
[#40920]: https://github.com/cockroachdb/cockroach/pull/40920
[#40937]: https://github.com/cockroachdb/cockroach/pull/40937
[#40941]: https://github.com/cockroachdb/cockroach/pull/40941
[#40949]: https://github.com/cockroachdb/cockroach/pull/40949
[#40960]: https://github.com/cockroachdb/cockroach/pull/40960
[#40962]: https://github.com/cockroachdb/cockroach/pull/40962
[#40965]: https://github.com/cockroachdb/cockroach/pull/40965
[#40975]: https://github.com/cockroachdb/cockroach/pull/40975
[#40978]: https://github.com/cockroachdb/cockroach/pull/40978
[#40994]: https://github.com/cockroachdb/cockroach/pull/40994
[#41020]: https://github.com/cockroachdb/cockroach/pull/41020
[#41029]: https://github.com/cockroachdb/cockroach/pull/41029
[#41072]: https://github.com/cockroachdb/cockroach/pull/41072
[#41090]: https://github.com/cockroachdb/cockroach/pull/41090
[#41071]: https://github.com/cockroachdb/cockroach/pull/41071
[#41089]: https://github.com/cockroachdb/cockroach/pull/41089
[#41121]: https://github.com/cockroachdb/cockroach/pull/41121
[#40493]: https://github.com/cockroachdb/cockroach/pull/40493
[#40954]: https://github.com/cockroachdb/cockroach/pull/40954
[#41158]: https://github.com/cockroachdb/cockroach/pull/41158
[#41159]: https://github.com/cockroachdb/cockroach/pull/41159
[#41195]: https://github.com/cockroachdb/cockroach/pull/41195
[#41231]: https://github.com/cockroachdb/cockroach/pull/41231
