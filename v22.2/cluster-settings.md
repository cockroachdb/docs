---
title: Cluster Settings
summary: Learn about cluster settings that apply to all nodes of a CockroachDB cluster.
toc: true
docs_area: reference.cluster_settings
---

Cluster settings apply to all nodes of a CockroachDB cluster and control, for example, whether or not to share diagnostic details with Cockroach Labs as well as advanced options for debugging and cluster tuning.

They can be updated anytime after a cluster has been started, but only by a member of the `admin` role, to which the `root` user belongs by default.

{{site.data.alerts.callout_info}}
In contrast to cluster-wide settings, node-level settings apply to a single node. They are defined by flags passed to the `cockroach start` command when starting a node and cannot be changed without stopping and restarting the node. For more details, see [Start a Node](cockroach-start.html).
{{site.data.alerts.end}}

## Settings

{{site.data.alerts.callout_danger}}
These cluster settings have a broad impact on CockroachDB internals and affect all applications, workloads, and users running on a CockroachDB cluster. For some settings, a [session setting](set-vars.html#supported-variables) could be a more appropriate scope.
{{site.data.alerts.end}}

{% include {{page.version.version}}/sql/sql-defaults-cluster-settings-deprecation-notice.md %}

<h3 id="setting-admission-disk-bandwidth-tokens-elastic-enabled"><code>admission.disk_bandwidth_tokens.elastic.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: when true, and provisioned bandwidth for the disk corresponding to a store is configured, tokens for elastic work will be limited if disk bandwidth becomes a bottleneck</p>
<h3 id="setting-admission-epoch-lifo-enabled"><code>admission.epoch_lifo.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: when true, epoch-LIFO behavior is enabled when there is significant delay in admission</p>
<h3 id="setting-admission-epoch-lifo-epoch-closing-delta-duration"><code>admission.epoch_lifo.epoch_closing_delta_duration</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>5ms</code></p><p><strong>Description</strong>: the delta duration before closing an epoch, for epoch-LIFO admission control ordering</p>
<h3 id="setting-admission-epoch-lifo-epoch-duration"><code>admission.epoch_lifo.epoch_duration</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>100ms</code></p><p><strong>Description</strong>: the duration of an epoch, for epoch-LIFO admission control ordering</p>
<h3 id="setting-admission-epoch-lifo-queue-delay-threshold-to-switch-to-lifo"><code>admission.epoch_lifo.queue_delay_threshold_to_switch_to_lifo</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>105ms</code></p><p><strong>Description</strong>: the queue delay encountered by a (tenant,priority) for switching to epoch-LIFO ordering</p>
<h3 id="setting-admission-kv-enabled"><code>admission.kv.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: when true, work performed by the KV layer is subject to admission control</p>
<h3 id="setting-admission-kv-stores-tenant-weights-enabled"><code>admission.kv.stores.tenant_weights.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: when true, tenant weights are enabled for KV-stores admission control</p>
<h3 id="setting-admission-kv-tenant-weights-enabled"><code>admission.kv.tenant_weights.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: when true, tenant weights are enabled for KV admission control</p>
<h3 id="setting-admission-sql-kv-response-enabled"><code>admission.sql_kv_response.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: when true, work performed by the SQL layer when receiving a KV response is subject to admission control</p>
<h3 id="setting-admission-sql-sql-response-enabled"><code>admission.sql_sql_response.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: when true, work performed by the SQL layer when receiving a DistSQL response is subject to admission control</p>
<h3 id="setting-bulkio-backup-deprecated-full-backup-with-subdir-enabled"><code>bulkio.backup.deprecated_full_backup_with_subdir.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: when true, a backup command with a user specified subdirectory will create a full backup at the subdirectory if no backup already exists at that subdirectory.</p>
<h3 id="setting-bulkio-backup-file-size"><code>bulkio.backup.file_size</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>128 MiB</code></p><p><strong>Description</strong>: target size for individual data files produced during BACKUP</p>
<h3 id="setting-bulkio-backup-read-timeout"><code>bulkio.backup.read_timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>5m0s</code></p><p><strong>Description</strong>: amount of time after which a read attempt is considered timed out, which causes the backup to fail</p>
<h3 id="setting-bulkio-backup-read-with-priority-after"><code>bulkio.backup.read_with_priority_after</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1m0s</code></p><p><strong>Description</strong>: amount of time since the read-as-of time above which a BACKUP should use priority when retrying reads</p>
<h3 id="setting-bulkio-stream-ingestion-minimum-flush-interval"><code>bulkio.stream_ingestion.minimum_flush_interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>5s</code></p><p><strong>Description</strong>: the minimum timestamp between flushes; flushes may still occur if internal buffers fill up</p>
<h3 id="setting-changefeed-balance-range-distribution-enable"><code>changefeed.balance_range_distribution.enable</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if enabled, the ranges are balanced equally among all nodes</p>
<h3 id="setting-changefeed-event-consumer-worker-queue-size"><code>changefeed.event_consumer_worker_queue_size</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>16</code></p><p><strong>Description</strong>: if changefeed.event_consumer_workers is enabled, this setting sets the maxmimum number of events which a worker can buffer</p>
<h3 id="setting-changefeed-event-consumer-workers"><code>changefeed.event_consumer_workers</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>0</code></p><p><strong>Description</strong>: the number of workers to use when processing events: &lt;0 disables, 0 assigns a reasonable default, &gt;0 assigns the setting value. for experimental/core changefeeds and changefeeds using parquet format, this is disabled</p>
<h3 id="setting-changefeed-fast-gzip-enabled"><code>changefeed.fast_gzip.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: use fast gzip implementation</p>
<h3 id="setting-changefeed-node-throttle-config"><code>changefeed.node_throttle_config</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: specifies node level throttling configuration for all changefeeeds</p>
<h3 id="setting-changefeed-schema-feed-read-with-priority-after"><code>changefeed.schema_feed.read_with_priority_after</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1m0s</code></p><p><strong>Description</strong>: retry with high priority if we were not able to read descriptors for too long; 0 disables</p>
<h3 id="setting-cloudstorage-azure-concurrent-upload-buffers"><code>cloudstorage.azure.concurrent_upload_buffers</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>1</code></p><p><strong>Description</strong>: controls the number of concurrent buffers that will be used by the Azure client when uploading chunks.Each buffer can buffer up to cloudstorage.write_chunk.size of memory during an upload</p>
<h3 id="setting-cloudstorage-http-custom-ca"><code>cloudstorage.http.custom_ca</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: custom root CA (appended to system&#39;s default CAs) for verifying certificates when interacting with HTTPS storage</p>
<h3 id="setting-cloudstorage-timeout"><code>cloudstorage.timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>10m0s</code></p><p><strong>Description</strong>: the timeout for import/export storage operations</p>
<h3 id="setting-cluster-organization"><code>cluster.organization</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: organization name</p>
<h3 id="setting-cluster-preserve-downgrade-option"><code>cluster.preserve_downgrade_option</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: disable (automatic or manual) cluster version upgrade from the specified version until reset</p>
<h3 id="setting-diagnostics-active-query-dumps-enabled"><code>diagnostics.active_query_dumps.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: experimental: enable dumping of anonymized active queries to disk when node is under memory pressure</p>
<h3 id="setting-diagnostics-forced-sql-stat-reset-interval"><code>diagnostics.forced_sql_stat_reset.interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>2h0m0s</code></p><p><strong>Description</strong>: interval after which the reported SQL Stats are reset even if not collected by telemetry reporter. It has a max value of 24H.</p>
<h3 id="setting-diagnostics-reporting-enabled"><code>diagnostics.reporting.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: enable reporting diagnostic metrics to cockroach labs</p>
<h3 id="setting-diagnostics-reporting-interval"><code>diagnostics.reporting.interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1h0m0s</code></p><p><strong>Description</strong>: interval at which diagnostics data should be reported</p>
<h3 id="setting-enterprise-license"><code>enterprise.license</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: the encoded cluster license</p>
<h3 id="setting-external-graphite-endpoint"><code>external.graphite.endpoint</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: if nonempty, push server metrics to the Graphite or Carbon server at the specified host:port</p>
<h3 id="setting-external-graphite-interval"><code>external.graphite.interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>10s</code></p><p><strong>Description</strong>: the interval at which metrics are pushed to Graphite (if enabled)</p>
<h3 id="setting-feature-backup-enabled"><code>feature.backup.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to enable backups, false to disable; default is true</p>
<h3 id="setting-feature-changefeed-enabled"><code>feature.changefeed.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to enable changefeeds, false to disable; default is true</p>
<h3 id="setting-feature-export-enabled"><code>feature.export.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to enable exports, false to disable; default is true</p>
<h3 id="setting-feature-import-enabled"><code>feature.import.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to enable imports, false to disable; default is true</p>
<h3 id="setting-feature-restore-enabled"><code>feature.restore.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to enable restore, false to disable; default is true</p>
<h3 id="setting-feature-schema-change-enabled"><code>feature.schema_change.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to enable schema changes, false to disable; default is true</p>
<h3 id="setting-feature-stats-enabled"><code>feature.stats.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to enable CREATE STATISTICS/ANALYZE, false to disable; default is true</p>
<h3 id="setting-jobs-retention-time"><code>jobs.retention_time</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>336h0m0s</code></p><p><strong>Description</strong>: the amount of time to retain records for completed jobs before</p>
<h3 id="setting-kv-allocator-load-based-lease-rebalancing-enabled"><code>kv.allocator.load_based_lease_rebalancing.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to enable rebalancing of range leases based on load and latency</p>
<h3 id="setting-kv-allocator-load-based-rebalancing"><code>kv.allocator.load_based_rebalancing</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>leases and replicas</code></p><p><strong>Description</strong>: whether to rebalance based on the distribution of QPS across stores [off = 0, leases = 1, leases and replicas = 2]</p>
<h3 id="setting-kv-allocator-load-based-rebalancing-interval"><code>kv.allocator.load_based_rebalancing_interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1m0s</code></p><p><strong>Description</strong>: the rough interval at which each store will check for load-based lease / replica rebalancing opportunities</p>
<h3 id="setting-kv-allocator-qps-rebalance-threshold"><code>kv.allocator.qps_rebalance_threshold</code></h3><p><strong>Type</strong>: float</p><p><strong>Default</strong>: <code>0.1</code></p><p><strong>Description</strong>: minimum fraction away from the mean a store&#39;s QPS (such as queries per second) can be before it is considered overfull or underfull</p>
<h3 id="setting-kv-allocator-range-rebalance-threshold"><code>kv.allocator.range_rebalance_threshold</code></h3><p><strong>Type</strong>: float</p><p><strong>Default</strong>: <code>0.05</code></p><p><strong>Description</strong>: minimum fraction away from the mean a store&#39;s range count can be before it is considered overfull or underfull</p>
<h3 id="setting-kv-bulk-io-write-max-rate"><code>kv.bulk_io_write.max_rate</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>1.0 TiB</code></p><p><strong>Description</strong>: the rate limit (bytes/sec) to use for writes to disk on behalf of bulk io ops</p>
<h3 id="setting-kv-bulk-sst-max-allowed-overage"><code>kv.bulk_sst.max_allowed_overage</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>64 MiB</code></p><p><strong>Description</strong>: if positive, allowed size in excess of target size for SSTs from export requests; export requests (i.e. BACKUP) may buffer up to the sum of kv.bulk_sst.target_size and kv.bulk_sst.max_allowed_overage in memory</p>
<h3 id="setting-kv-bulk-sst-target-size"><code>kv.bulk_sst.target_size</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>16 MiB</code></p><p><strong>Description</strong>: target size for SSTs emitted from export requests; export requests (i.e. BACKUP) may buffer up to the sum of kv.bulk_sst.target_size and kv.bulk_sst.max_allowed_overage in memory</p>
<h3 id="setting-kv-closed-timestamp-follower-reads-enabled"><code>kv.closed_timestamp.follower_reads_enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: allow (all) replicas to serve consistent historical reads based on closed timestamp information</p>
<h3 id="setting-kv-log-range-and-node-events-enabled"><code>kv.log_range_and_node_events.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: set to true to transactionally log range events (e.g., split, merge, add/remove voter/non-voter) into system.rangelogand node join and restart events into system.eventolog</p>
<h3 id="setting-kv-protectedts-reconciliation-interval"><code>kv.protectedts.reconciliation.interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>5m0s</code></p><p><strong>Description</strong>: the frequency for reconciling jobs with protected timestamp records</p>
<h3 id="setting-kv-range-split-by-load-enabled"><code>kv.range_split.by_load_enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: allow automatic splits of ranges based on where load is concentrated</p>
<h3 id="setting-kv-range-split-load-qps-threshold"><code>kv.range_split.load_qps_threshold</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>2500</code></p><p><strong>Description</strong>: the QPS over which, the range becomes a candidate for load based splitting</p>
<h3 id="setting-kv-rangefeed-enabled"><code>kv.rangefeed.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if set, rangefeed registration is enabled</p>
<h3 id="setting-kv-rangefeed-range-stuck-threshold"><code>kv.rangefeed.range_stuck_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1m0s</code></p><p><strong>Description</strong>: restart rangefeeds if they don&#39;t emit anything for the specified threshold; 0 disables (kv.closed_timestamp.side_transport_interval takes precedence)</p>
<h3 id="setting-kv-replica-circuit-breaker-slow-replication-threshold"><code>kv.replica_circuit_breaker.slow_replication_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1m0s</code></p><p><strong>Description</strong>: duration after which slow proposals trip the per-Replica circuit breaker (zero duration disables breakers)</p>
<h3 id="setting-kv-replica-stats-addsst-request-size-factor"><code>kv.replica_stats.addsst_request_size_factor</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>50000</code></p><p><strong>Description</strong>: the divisor that is applied to addsstable request sizes, then recorded in a leaseholders QPS; 0 means all requests are treated as cost 1</p>
<h3 id="setting-kv-replication-reports-interval"><code>kv.replication_reports.interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1m0s</code></p><p><strong>Description</strong>: the frequency for generating the replication_constraint_stats, replication_stats_report and replication_critical_localities reports (set to 0 to disable)</p>
<h3 id="setting-kv-snapshot-delegation-enabled"><code>kv.snapshot_delegation.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: set to true to allow snapshots from follower replicas</p>
<h3 id="setting-kv-snapshot-rebalance-max-rate"><code>kv.snapshot_rebalance.max_rate</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>32 MiB</code></p><p><strong>Description</strong>: the rate limit (bytes/sec) to use for rebalance and upreplication snapshots</p>
<h3 id="setting-kv-snapshot-recovery-max-rate"><code>kv.snapshot_recovery.max_rate</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>32 MiB</code></p><p><strong>Description</strong>: the rate limit (bytes/sec) to use for recovery snapshots</p>
<h3 id="setting-kv-transaction-max-intents-bytes"><code>kv.transaction.max_intents_bytes</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>4194304</code></p><p><strong>Description</strong>: maximum number of bytes used to track locks in transactions</p>
<h3 id="setting-kv-transaction-max-refresh-spans-bytes"><code>kv.transaction.max_refresh_spans_bytes</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>4194304</code></p><p><strong>Description</strong>: maximum number of bytes used to track refresh spans in serializable transactions</p>
<h3 id="setting-kv-transaction-reject-over-max-intents-budget-enabled"><code>kv.transaction.reject_over_max_intents_budget.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if set, transactions that exceed their lock tracking budget (kv.transaction.max_intents_bytes) are rejected instead of having their lock spans imprecisely compressed</p>
<h3 id="setting-kvadmission-store-provisioned-bandwidth"><code>kvadmission.store.provisioned_bandwidth</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>0 B</code></p><p><strong>Description</strong>: if set to a non-zero value, this is used as the provisioned bandwidth (in bytes/s), for each store. It can be over-ridden on a per-store basis using the --store flag</p>
<h3 id="setting-schedules-backup-gc-protection-enabled"><code>schedules.backup.gc_protection.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: enable chaining of GC protection across backups run as part of a schedule</p>
<h3 id="setting-security-ocsp-mode"><code>security.ocsp.mode</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>off</code></p><p><strong>Description</strong>: use OCSP to check whether TLS certificates are revoked. If the OCSP server is unreachable, in strict mode all certificates will be rejected and in lax mode all certificates will be accepted. [off = 0, lax = 1, strict = 2]</p>
<h3 id="setting-security-ocsp-timeout"><code>security.ocsp.timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>3s</code></p><p><strong>Description</strong>: timeout before considering the OCSP server unreachable</p>
<h3 id="setting-server-auth-log-sql-connections-enabled"><code>server.auth_log.sql_connections.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if set, log SQL client connect and disconnect events (note: may hinder performance on loaded nodes)</p>
<h3 id="setting-server-auth-log-sql-sessions-enabled"><code>server.auth_log.sql_sessions.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if set, log SQL session login/disconnection events (note: may hinder performance on loaded nodes)</p>
<h3 id="setting-server-authentication-cache-enabled"><code>server.authentication_cache.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: enables a cache used during authentication to avoid lookups to system tables when retrieving per-user authentication-related information</p>
<h3 id="setting-server-child-metrics-enabled"><code>server.child_metrics.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: enables the exporting of child metrics, additional prometheus time series with extra labels</p>
<h3 id="setting-server-clock-forward-jump-check-enabled"><code>server.clock.forward_jump_check_enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if enabled, forward clock jumps &gt; max_offset/2 will cause a panic</p>
<h3 id="setting-server-clock-persist-upper-bound-interval"><code>server.clock.persist_upper_bound_interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: the interval between persisting the wall time upper bound of the clock. The clock does not generate a wall time greater than the persisted timestamp and will panic if it sees a wall time greater than this value. When cockroach starts, it waits for the wall time to catch-up till this persisted timestamp. This guarantees monotonic wall time across server restarts. Not setting this or setting a value of 0 disables this feature.</p>
<h3 id="setting-server-consistency-check-max-rate"><code>server.consistency_check.max_rate</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>8.0 MiB</code></p><p><strong>Description</strong>: the rate limit (bytes/sec) to use for consistency checks; used in conjunction with server.consistency_check.interval to control the frequency of consistency checks. Note that setting this too high can negatively impact performance.</p>
<h3 id="setting-server-eventlog-enabled"><code>server.eventlog.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: if set, logged notable events are also stored in the table system.eventlog</p>
<h3 id="setting-server-eventlog-ttl"><code>server.eventlog.ttl</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>2160h0m0s</code></p><p><strong>Description</strong>: if nonzero, entries in system.eventlog older than this duration are periodically purged</p>
<h3 id="setting-server-host-based-authentication-configuration"><code>server.host_based_authentication.configuration</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: host-based authentication configuration to use during connection authentication</p>
<h3 id="setting-server-hsts-enabled"><code>server.hsts.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if true, HSTS headers will be sent along with all HTTP requests. The headers will contain a max-age setting of one year. Browsers honoring the header will always use HTTPS to access the DB Console. Ensure that TLS is correctly configured prior to enabling.</p>
<h3 id="setting-server-identity-map-configuration"><code>server.identity_map.configuration</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: system-identity to database-username mappings</p>
<h3 id="setting-server-log-gc-max-deletions-per-cycle"><code>server.log_gc.max_deletions_per_cycle</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>1000</code></p><p><strong>Description</strong>: the maximum number of entries to delete on each purge of log-like system tables</p>
<h3 id="setting-server-log-gc-period"><code>server.log_gc.period</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1h0m0s</code></p><p><strong>Description</strong>: the period at which log-like system tables are checked for old entries</p>
<h3 id="setting-server-max-connections-per-gateway"><code>server.max_connections_per_gateway</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>-1</code></p><p><strong>Description</strong>: the maximum number of non-superuser SQL connections per gateway allowed at a given time (note: this will only limit future connection attempts and will not affect already established connections). Negative values result in unlimited number of connections. Superusers are not affected by this limit.</p>
<h3 id="setting-server-oidc-authentication-autologin"><code>server.oidc_authentication.autologin</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if true, logged-out visitors to the DB Console will be automatically redirected to the OIDC login endpoint</p>
<h3 id="setting-server-oidc-authentication-button-text"><code>server.oidc_authentication.button_text</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code>Login with your OIDC provider</code></p><p><strong>Description</strong>: text to show on button on DB Console login page to login with your OIDC provider (only shown if OIDC is enabled)</p>
<h3 id="setting-server-oidc-authentication-claim-json-key"><code>server.oidc_authentication.claim_json_key</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: sets JSON key of principal to extract from payload after OIDC authentication completes (usually email or sid)</p>
<h3 id="setting-server-oidc-authentication-client-id"><code>server.oidc_authentication.client_id</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: sets OIDC client id</p>
<h3 id="setting-server-oidc-authentication-client-secret"><code>server.oidc_authentication.client_secret</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: sets OIDC client secret</p>
<h3 id="setting-server-oidc-authentication-enabled"><code>server.oidc_authentication.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: enables or disabled OIDC login for the DB Console</p>
<h3 id="setting-server-oidc-authentication-principal-regex"><code>server.oidc_authentication.principal_regex</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code>(.+)</code></p><p><strong>Description</strong>: regular expression to apply to extracted principal (see claim_json_key setting) to translate to SQL user (golang regex format, must include 1 grouping to extract)</p>
<h3 id="setting-server-oidc-authentication-provider-url"><code>server.oidc_authentication.provider_url</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: sets OIDC provider URL ({provider_url}/.well-known/openid-configuration must resolve)</p>
<h3 id="setting-server-oidc-authentication-redirect-url"><code>server.oidc_authentication.redirect_url</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code>https://localhost:8080/oidc/v1/callback</code></p><p><strong>Description</strong>: sets OIDC redirect URL via a URL string or a JSON string containing a required `redirect_urls` key with an object that maps from region keys to URL strings (URLs should point to your load balancer and must route to the path /oidc/v1/callback) </p>
<h3 id="setting-server-oidc-authentication-scopes"><code>server.oidc_authentication.scopes</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code>openid</code></p><p><strong>Description</strong>: sets OIDC scopes to include with authentication request (space delimited list of strings, required to start with `openid`)</p>
<h3 id="setting-server-rangelog-ttl"><code>server.rangelog.ttl</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>720h0m0s</code></p><p><strong>Description</strong>: if nonzero, entries in system.rangelog older than this duration are periodically purged</p>
<h3 id="setting-server-secondary-tenants-redact-trace-enabled"><code>server.secondary_tenants.redact_trace.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: controls if server side traces are redacted for tenant operations</p>
<h3 id="setting-server-shutdown-connection-wait"><code>server.shutdown.connection_wait</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: the maximum amount of time a server waits for all SQL connections to be closed before proceeding with a drain. (note that the --drain-wait parameter for cockroach node drain may need adjustment after changing this setting)</p>
<h3 id="setting-server-shutdown-drain-wait"><code>server.shutdown.drain_wait</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: the amount of time a server waits in an unready state before proceeding with a drain (note that the --drain-wait parameter for cockroach node drain may need adjustment after changing this setting. --drain-wait is to specify the duration of the whole draining process, while server.shutdown.drain_wait is to set the wait time for health probes to notice that the node is not ready.)</p>
<h3 id="setting-server-shutdown-lease-transfer-wait"><code>server.shutdown.lease_transfer_wait</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>5s</code></p><p><strong>Description</strong>: the timeout for a single iteration of the range lease transfer phase of draining (note that the --drain-wait parameter for cockroach node drain may need adjustment after changing this setting)</p>
<h3 id="setting-server-shutdown-query-wait"><code>server.shutdown.query_wait</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>10s</code></p><p><strong>Description</strong>: the timeout for waiting for active queries to finish during a drain (note that the --drain-wait parameter for cockroach node drain may need adjustment after changing this setting)</p>
<h3 id="setting-server-time-until-store-dead"><code>server.time_until_store_dead</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>5m0s</code></p><p><strong>Description</strong>: the time after which if there is no new gossiped information about a store, it is considered dead</p>
<h3 id="setting-server-user-login-cert-password-method-auto-scram-promotion-enabled"><code>server.user_login.cert_password_method.auto_scram_promotion.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: whether to automatically promote cert-password authentication to use SCRAM</p>
<h3 id="setting-server-user-login-min-password-length"><code>server.user_login.min_password_length</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>1</code></p><p><strong>Description</strong>: the minimum length accepted for passwords set in cleartext via SQL. Note that a value lower than 1 is ignored: passwords cannot be empty in any case.</p>
<h3 id="setting-server-user-login-password-encryption"><code>server.user_login.password_encryption</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>scram-sha-256</code></p><p><strong>Description</strong>: which hash method to use to encode cleartext passwords passed via ALTER/CREATE USER/ROLE WITH PASSWORD [crdb-bcrypt = 2, scram-sha-256 = 3]</p>
<h3 id="setting-server-user-login-password-hashes-default-cost-crdb-bcrypt"><code>server.user_login.password_hashes.default_cost.crdb_bcrypt</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>10</code></p><p><strong>Description</strong>: the hashing cost to use when storing passwords supplied as cleartext by SQL clients with the hashing method crdb-bcrypt (allowed range: 4-31)</p>
<h3 id="setting-server-user-login-password-hashes-default-cost-scram-sha-256"><code>server.user_login.password_hashes.default_cost.scram_sha_256</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>119680</code></p><p><strong>Description</strong>: the hashing cost to use when storing passwords supplied as cleartext by SQL clients with the hashing method scram-sha-256 (allowed range: 4096-240000000000)</p>
<h3 id="setting-server-user-login-timeout"><code>server.user_login.timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>10s</code></p><p><strong>Description</strong>: timeout after which client authentication times out if some system range is unavailable (0 = no timeout)</p>
<h3 id="setting-server-user-login-upgrade-bcrypt-stored-passwords-to-scram-enabled"><code>server.user_login.upgrade_bcrypt_stored_passwords_to_scram.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: whether to automatically re-encode stored passwords using crdb-bcrypt to scram-sha-256</p>
<h3 id="setting-server-web-session-purge-ttl"><code>server.web_session.purge.ttl</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>1h0m0s</code></p><p><strong>Description</strong>: if nonzero, entries in system.web_sessions older than this duration are periodically purged</p>
<h3 id="setting-server-web-session-timeout"><code>server.web_session_timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>168h0m0s</code></p><p><strong>Description</strong>: the duration that a newly created web session will be valid</p>
<h3 id="setting-sql-auth-change-own-password-enabled"><code>sql.auth.change_own_password.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: controls whether a user is allowed to change their own password, even if they have no other privileges</p>
<h3 id="setting-sql-auth-resolve-membership-single-scan-enabled"><code>sql.auth.resolve_membership_single_scan.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: determines whether to populate the role membership cache with a single scan</p>
<h3 id="setting-sql-closed-session-cache-capacity"><code>sql.closed_session_cache.capacity</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>1000</code></p><p><strong>Description</strong>: the maximum number of sessions in the cache</p>
<h3 id="setting-sql-closed-session-cache-time-to-live"><code>sql.closed_session_cache.time_to_live</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>3600</code></p><p><strong>Description</strong>: the maximum time to live, in seconds</p>
<h3 id="setting-sql-contention-event-store-capacity"><code>sql.contention.event_store.capacity</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>64 MiB</code></p><p><strong>Description</strong>: the in-memory storage capacity per-node of contention event store</p>
<h3 id="setting-sql-contention-event-store-duration-threshold"><code>sql.contention.event_store.duration_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: minimum contention duration to cause the contention events to be collected into crdb_internal.transaction_contention_events</p>
<h3 id="setting-sql-contention-txn-id-cache-max-size"><code>sql.contention.txn_id_cache.max_size</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>64 MiB</code></p><p><strong>Description</strong>: the maximum byte size TxnID cache will use (set to 0 to disable)</p>
<h3 id="setting-sql-cross-db-fks-enabled"><code>sql.cross_db_fks.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if true, creating foreign key references across databases is allowed</p>
<h3 id="setting-sql-cross-db-sequence-owners-enabled"><code>sql.cross_db_sequence_owners.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if true, creating sequences owned by tables from other databases is allowed</p>
<h3 id="setting-sql-cross-db-sequence-references-enabled"><code>sql.cross_db_sequence_references.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if true, sequences referenced by tables from other databases are allowed</p>
<h3 id="setting-sql-cross-db-views-enabled"><code>sql.cross_db_views.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if true, creating views that refer to other databases is allowed</p>
<h3 id="setting-sql-defaults-cost-scans-with-default-col-size-enabled"><code>sql.defaults.cost_scans_with_default_col_size.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: setting to true uses the same size for all columns to compute scan cost
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-datestyle"><code>sql.defaults.datestyle</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>iso, mdy</code></p><p><strong>Description</strong>: default value for DateStyle session setting [iso, mdy = 0, iso, dmy = 1, iso, ymd = 2]
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-default-hash-sharded-index-bucket-count"><code>sql.defaults.default_hash_sharded_index_bucket_count</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>16</code></p><p><strong>Description</strong>: used as bucket count if bucket count is not specified in hash sharded index definition
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-default-int-size"><code>sql.defaults.default_int_size</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>8</code></p><p><strong>Description</strong>: the size, in bytes, of an INT type
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-disallow-full-table-scans-enabled"><code>sql.defaults.disallow_full_table_scans.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: setting to true rejects queries that have planned a full table scan
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-distsql"><code>sql.defaults.distsql</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>auto</code></p><p><strong>Description</strong>: default distributed SQL execution mode [off = 0, auto = 1, on = 2, always = 3]
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-experimental-alter-column-type-enabled"><code>sql.defaults.experimental_alter_column_type.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for experimental_alter_column_type session setting; enables the use of ALTER COLUMN TYPE for general conversions
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-experimental-distsql-planning"><code>sql.defaults.experimental_distsql_planning</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>off</code></p><p><strong>Description</strong>: default experimental_distsql_planning mode; enables experimental opt-driven DistSQL planning [off = 0, on = 1]
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-experimental-enable-unique-without-index-constraints-enabled"><code>sql.defaults.experimental_enable_unique_without_index_constraints.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for experimental_enable_unique_without_index_constraints session setting;disables unique without index constraints by default
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-experimental-implicit-column-partitioning-enabled"><code>sql.defaults.experimental_implicit_column_partitioning.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for experimental_enable_temp_tables; allows for the use of implicit column partitioning
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-experimental-stream-replication-enabled"><code>sql.defaults.experimental_stream_replication.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for experimental_stream_replication session setting;enables the ability to setup a replication stream
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-experimental-temporary-tables-enabled"><code>sql.defaults.experimental_temporary_tables.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for experimental_enable_temp_tables; allows for use of temporary tables by default
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-foreign-key-cascades-limit"><code>sql.defaults.foreign_key_cascades_limit</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>10000</code></p><p><strong>Description</strong>: default value for foreign_key_cascades_limit session setting; limits the number of cascading operations that run as part of a single query
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-idle-in-session-timeout"><code>sql.defaults.idle_in_session_timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: default value for the idle_in_session_timeout; default value for the idle_in_session_timeout session setting; controls the duration a session is permitted to idle before the session is terminated; if set to 0, there is no timeout
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-idle-in-transaction-session-timeout"><code>sql.defaults.idle_in_transaction_session_timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: default value for the idle_in_transaction_session_timeout; controls the duration a session is permitted to idle in a transaction before the session is terminated; if set to 0, there is no timeout
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-implicit-select-for-update-enabled"><code>sql.defaults.implicit_select_for_update.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for enable_implicit_select_for_update session setting; enables FOR UPDATE locking during the row-fetch phase of mutation statements
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-insert-fast-path-enabled"><code>sql.defaults.insert_fast_path.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for enable_insert_fast_path session setting; enables a specialized insert path
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-intervalstyle"><code>sql.defaults.intervalstyle</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>postgres</code></p><p><strong>Description</strong>: default value for IntervalStyle session setting [postgres = 0, iso_8601 = 1, sql_standard = 2]
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-large-full-scan-rows"><code>sql.defaults.large_full_scan_rows</code></h3><p><strong>Type</strong>: float</p><p><strong>Default</strong>: <code>1000</code></p><p><strong>Description</strong>: default value for large_full_scan_rows session setting which determines the maximum table size allowed for a full scan when disallow_full_table_scans is set to true
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-locality-optimized-partitioned-index-scan-enabled"><code>sql.defaults.locality_optimized_partitioned_index_scan.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for locality_optimized_partitioned_index_scan session setting; enables searching for rows in the current region before searching remote regions
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-lock-timeout"><code>sql.defaults.lock_timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: default value for the lock_timeout; default value for the lock_timeout session setting; controls the duration a query is permitted to wait while attempting to acquire a lock on a key or while blocking on an existing lock in order to perform a non-locking read on a key; if set to 0, there is no timeout
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-on-update-rehome-row-enabled"><code>sql.defaults.on_update_rehome_row.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for on_update_rehome_row; enables ON UPDATE rehome_row() expressions to trigger on updates
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-optimizer-use-histograms-enabled"><code>sql.defaults.optimizer_use_histograms.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for optimizer_use_histograms session setting; enables usage of histograms in the optimizer by default
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-optimizer-use-multicol-stats-enabled"><code>sql.defaults.optimizer_use_multicol_stats.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for optimizer_use_multicol_stats session setting; enables usage of multi-column stats in the optimizer by default
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-override-alter-primary-region-in-super-region-enabled"><code>sql.defaults.override_alter_primary_region_in_super_region.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for override_alter_primary_region_in_super_region; allows for altering the primary region even if the primary region is a member of a super region
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-override-multi-region-zone-config-enabled"><code>sql.defaults.override_multi_region_zone_config.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for override_multi_region_zone_config; allows for overriding the zone configs of a multi-region table or database
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-prefer-lookup-joins-for-fks-enabled"><code>sql.defaults.prefer_lookup_joins_for_fks.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for prefer_lookup_joins_for_fks session setting; causes foreign key operations to use lookup joins when possible
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-primary-region"><code>sql.defaults.primary_region</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: if not empty, all databases created without a PRIMARY REGION will implicitly have the given PRIMARY REGION
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-reorder-joins-limit"><code>sql.defaults.reorder_joins_limit</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>8</code></p><p><strong>Description</strong>: default number of joins to reorder
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-require-explicit-primary-keys-enabled"><code>sql.defaults.require_explicit_primary_keys.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for requiring explicit primary keys in CREATE TABLE statements
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-results-buffer-size"><code>sql.defaults.results_buffer.size</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>16 KiB</code></p><p><strong>Description</strong>: default size of the buffer that accumulates results for a statement or a batch of statements before they are sent to the client. This can be overridden on an individual connection with the &#39;results_buffer_size&#39; parameter. Note that auto-retries generally only happen while no results have been delivered to the client, so reducing this size can increase the number of retriable errors a client receives. On the other hand, increasing the buffer size can increase the delay until the client receives the first result row. Updating the setting only affects new connections. Setting to 0 disables any buffering.
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-serial-normalization"><code>sql.defaults.serial_normalization</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>rowid</code></p><p><strong>Description</strong>: default handling of SERIAL in table definitions [rowid = 0, virtual_sequence = 1, sql_sequence = 2, sql_sequence_cached = 3, unordered_rowid = 4]
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-statement-timeout"><code>sql.defaults.statement_timeout</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: default value for the statement_timeout; default value for the statement_timeout session setting; controls the duration a query is permitted to run before it is canceled; if set to 0, there is no timeout
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-stub-catalog-tables-enabled"><code>sql.defaults.stub_catalog_tables.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for stub_catalog_tables session setting
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-super-regions-enabled"><code>sql.defaults.super_regions.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: default value for enable_super_regions; allows for the usage of super regions
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-transaction-rows-read-err"><code>sql.defaults.transaction_rows_read_err</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>0</code></p><p><strong>Description</strong>: the limit for the number of rows read by a SQL transaction which - once exceeded - will fail the transaction (or will trigger a logging event to SQL_INTERNAL_PERF for internal transactions); use 0 to disable
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-transaction-rows-read-log"><code>sql.defaults.transaction_rows_read_log</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>0</code></p><p><strong>Description</strong>: the threshold for the number of rows read by a SQL transaction which - once exceeded - will trigger a logging event to SQL_PERF (or SQL_INTERNAL_PERF for internal transactions); use 0 to disable
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-transaction-rows-written-err"><code>sql.defaults.transaction_rows_written_err</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>0</code></p><p><strong>Description</strong>: the limit for the number of rows written by a SQL transaction which - once exceeded - will fail the transaction (or will trigger a logging event to SQL_INTERNAL_PERF for internal transactions); use 0 to disable
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-transaction-rows-written-log"><code>sql.defaults.transaction_rows_written_log</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>0</code></p><p><strong>Description</strong>: the threshold for the number of rows written by a SQL transaction which - once exceeded - will trigger a logging event to SQL_PERF (or SQL_INTERNAL_PERF for internal transactions); use 0 to disable
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-use-declarative-schema-changer"><code>sql.defaults.use_declarative_schema_changer</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>on</code></p><p><strong>Description</strong>: default value for use_declarative_schema_changer session setting;disables new schema changer by default [off = 0, on = 1, unsafe = 2, unsafe_always = 3]
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-vectorize"><code>sql.defaults.vectorize</code></h3><p><strong>Type</strong>: enumeration</p><p><strong>Default</strong>: <code>on</code></p><p><strong>Description</strong>: default vectorize mode [on = 0, on = 2, experimental_always = 3, off = 4]
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-defaults-zigzag-join-enabled"><code>sql.defaults.zigzag_join.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: default value for enable_zigzag_join session setting; allows use of zig-zag join by default
This cluster setting is being kept to preserve backwards-compatibility.
This session variable default should now be configured using <a href="alter-role.html"><code>ALTER ROLE... SET</code></a></p>
<h3 id="setting-sql-distsql-temp-storage-workmem"><code>sql.distsql.temp_storage.workmem</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>64 MiB</code></p><p><strong>Description</strong>: maximum amount of memory in bytes a processor can use before falling back to temp storage</p>
<h3 id="setting-sql-guardrails-max-row-size-err"><code>sql.guardrails.max_row_size_err</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>512 MiB</code></p><p><strong>Description</strong>: maximum size of row (or column family if multiple column families are in use) that SQL can write to the database, above which an error is returned; use 0 to disable</p>
<h3 id="setting-sql-guardrails-max-row-size-log"><code>sql.guardrails.max_row_size_log</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>64 MiB</code></p><p><strong>Description</strong>: maximum size of row (or column family if multiple column families are in use) that SQL can write to the database, above which an event is logged to SQL_PERF (or SQL_INTERNAL_PERF if the mutating statement was internal); use 0 to disable</p>
<h3 id="setting-sql-hash-sharded-range-pre-split-max"><code>sql.hash_sharded_range_pre_split.max</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>16</code></p><p><strong>Description</strong>: max pre-split ranges to have when adding hash sharded index to an existing table</p>
<h3 id="setting-sql-insights-anomaly-detection-enabled"><code>sql.insights.anomaly_detection.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: enable per-fingerprint latency recording and anomaly detection</p>
<h3 id="setting-sql-insights-anomaly-detection-latency-threshold"><code>sql.insights.anomaly_detection.latency_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>50ms</code></p><p><strong>Description</strong>: statements must surpass this threshold to trigger anomaly detection and identification</p>
<h3 id="setting-sql-insights-anomaly-detection-memory-limit"><code>sql.insights.anomaly_detection.memory_limit</code></h3><p><strong>Type</strong>: byte size</p><p><strong>Default</strong>: <code>1.0 MiB</code></p><p><strong>Description</strong>: the maximum amount of memory allowed for tracking statement latencies</p>
<h3 id="setting-sql-insights-execution-insights-capacity"><code>sql.insights.execution_insights_capacity</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>1000</code></p><p><strong>Description</strong>: the size of the per-node store of execution insights</p>
<h3 id="setting-sql-insights-high-retry-count-threshold"><code>sql.insights.high_retry_count.threshold</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>10</code></p><p><strong>Description</strong>: the number of retries a slow statement must have undergone for its high retry count to be highlighted as a potential problem</p>
<h3 id="setting-sql-insights-latency-threshold"><code>sql.insights.latency_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>100ms</code></p><p><strong>Description</strong>: amount of time after which an executing statement is considered slow. Use 0 to disable.</p>
<h3 id="setting-sql-log-slow-query-experimental-full-table-scans-enabled"><code>sql.log.slow_query.experimental_full_table_scans.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: when set to true, statements that perform a full table/index scan will be logged to the slow query log even if they do not meet the latency threshold. Must have the slow query log enabled for this setting to have any effect.</p>
<h3 id="setting-sql-log-slow-query-internal-queries-enabled"><code>sql.log.slow_query.internal_queries.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: when set to true, internal queries which exceed the slow query log threshold are logged to a separate log. Must have the slow query log enabled for this setting to have any effect.</p>
<h3 id="setting-sql-log-slow-query-latency-threshold"><code>sql.log.slow_query.latency_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: when set to non-zero, log statements whose service latency exceeds the threshold to a secondary logger on each node</p>
<h3 id="setting-sql-metrics-index-usage-stats-enabled"><code>sql.metrics.index_usage_stats.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: collect per index usage statistics</p>
<h3 id="setting-sql-metrics-max-mem-reported-stmt-fingerprints"><code>sql.metrics.max_mem_reported_stmt_fingerprints</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>100000</code></p><p><strong>Description</strong>: the maximum number of reported statement fingerprints stored in memory</p>
<h3 id="setting-sql-metrics-max-mem-reported-txn-fingerprints"><code>sql.metrics.max_mem_reported_txn_fingerprints</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>100000</code></p><p><strong>Description</strong>: the maximum number of reported transaction fingerprints stored in memory</p>
<h3 id="setting-sql-metrics-max-mem-stmt-fingerprints"><code>sql.metrics.max_mem_stmt_fingerprints</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>100000</code></p><p><strong>Description</strong>: the maximum number of statement fingerprints stored in memory</p>
<h3 id="setting-sql-metrics-max-mem-txn-fingerprints"><code>sql.metrics.max_mem_txn_fingerprints</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>100000</code></p><p><strong>Description</strong>: the maximum number of transaction fingerprints stored in memory</p>
<h3 id="setting-sql-metrics-statement-details-dump-to-logs"><code>sql.metrics.statement_details.dump_to_logs</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: dump collected statement statistics to node logs when periodically cleared</p>
<h3 id="setting-sql-metrics-statement-details-enabled"><code>sql.metrics.statement_details.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: collect per-statement query statistics</p>
<h3 id="setting-sql-metrics-statement-details-gateway-node-enabled"><code>sql.metrics.statement_details.gateway_node.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: save the gateway node for each statement fingerprint. If false, the value will be stored as 0.</p>
<h3 id="setting-sql-metrics-statement-details-index-recommendation-collection-enabled"><code>sql.metrics.statement_details.index_recommendation_collection.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: generate an index recommendation for each fingerprint ID</p>
<h3 id="setting-sql-metrics-statement-details-max-mem-reported-idx-recommendations"><code>sql.metrics.statement_details.max_mem_reported_idx_recommendations</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>5000</code></p><p><strong>Description</strong>: the maximum number of reported index recommendation info stored in memory</p>
<h3 id="setting-sql-metrics-statement-details-plan-collection-enabled"><code>sql.metrics.statement_details.plan_collection.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: periodically save a logical plan for each fingerprint</p>
<h3 id="setting-sql-metrics-statement-details-plan-collection-period"><code>sql.metrics.statement_details.plan_collection.period</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>5m0s</code></p><p><strong>Description</strong>: the time until a new logical plan is collected</p>
<h3 id="setting-sql-metrics-statement-details-threshold"><code>sql.metrics.statement_details.threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: minimum execution time to cause statement statistics to be collected. If configured, no transaction stats are collected.</p>
<h3 id="setting-sql-metrics-transaction-details-enabled"><code>sql.metrics.transaction_details.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: collect per-application transaction statistics</p>
<h3 id="setting-sql-multiple-modifications-of-table-enabled"><code>sql.multiple_modifications_of_table.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if true, allow statements containing multiple INSERT ON CONFLICT, UPSERT, UPDATE, or DELETE subqueries modifying the same table, at the risk of data corruption if the same row is modified multiple times by a single statement (multiple INSERT subqueries without ON CONFLICT cannot cause corruption and are always allowed)</p>
<h3 id="setting-sql-multiregion-drop-primary-region-enabled"><code>sql.multiregion.drop_primary_region.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: allows dropping the PRIMARY REGION of a database if it is the last region</p>
<h3 id="setting-sql-notices-enabled"><code>sql.notices.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: enable notices in the server/client protocol being sent</p>
<h3 id="setting-sql-optimizer-uniqueness-checks-for-gen-random-uuid-enabled"><code>sql.optimizer.uniqueness_checks_for_gen_random_uuid.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if enabled, uniqueness checks may be planned for mutations of UUID columns updated with gen_random_uuid(); otherwise, uniqueness is assumed due to near-zero collision probability</p>
<h3 id="setting-sql-schema-telemetry-recurrence"><code>sql.schema.telemetry.recurrence</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code>@weekly</code></p><p><strong>Description</strong>: cron-tab recurrence for SQL schema telemetry job</p>
<h3 id="setting-sql-spatial-experimental-box2d-comparison-operators-enabled"><code>sql.spatial.experimental_box2d_comparison_operators.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: enables the use of certain experimental box2d comparison operators</p>
<h3 id="setting-sql-stats-automatic-collection-enabled"><code>sql.stats.automatic_collection.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: automatic statistics collection mode</p>
<h3 id="setting-sql-stats-automatic-collection-fraction-stale-rows"><code>sql.stats.automatic_collection.fraction_stale_rows</code></h3><p><strong>Type</strong>: float</p><p><strong>Default</strong>: <code>0.2</code></p><p><strong>Description</strong>: target fraction of stale rows per table that will trigger a statistics refresh</p>
<h3 id="setting-sql-stats-automatic-collection-min-stale-rows"><code>sql.stats.automatic_collection.min_stale_rows</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>500</code></p><p><strong>Description</strong>: target minimum number of stale rows per table that will trigger a statistics refresh</p>
<h3 id="setting-sql-stats-cleanup-recurrence"><code>sql.stats.cleanup.recurrence</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code>@hourly</code></p><p><strong>Description</strong>: cron-tab recurrence for SQL Stats cleanup job</p>
<h3 id="setting-sql-stats-flush-enabled"><code>sql.stats.flush.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: if set, SQL execution statistics are periodically flushed to disk</p>
<h3 id="setting-sql-stats-flush-interval"><code>sql.stats.flush.interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>10m0s</code></p><p><strong>Description</strong>: the interval at which SQL execution statistics are flushed to disk, this value must be less than or equal to 1 hour</p>
<h3 id="setting-sql-stats-forecasts-enabled"><code>sql.stats.forecasts.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: when true, enables generation of statistics forecasts by default for all tables</p>
<h3 id="setting-sql-stats-histogram-collection-enabled"><code>sql.stats.histogram_collection.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: histogram collection mode</p>
<h3 id="setting-sql-stats-multi-column-collection-enabled"><code>sql.stats.multi_column_collection.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: multi-column statistics collection mode</p>
<h3 id="setting-sql-stats-non-default-columns-min-retention-period"><code>sql.stats.non_default_columns.min_retention_period</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>24h0m0s</code></p><p><strong>Description</strong>: minimum retention period for table statistics collected on non-default columns</p>
<h3 id="setting-sql-stats-persisted-rows-max"><code>sql.stats.persisted_rows.max</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>1000000</code></p><p><strong>Description</strong>: maximum number of rows of statement and transaction statistics that will be persisted in the system tables</p>
<h3 id="setting-sql-stats-post-events-enabled"><code>sql.stats.post_events.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if set, an event is logged for every CREATE STATISTICS job</p>
<h3 id="setting-sql-stats-response-max"><code>sql.stats.response.max</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>20000</code></p><p><strong>Description</strong>: the maximum number of statements and transaction stats returned in a CombinedStatements request</p>
<h3 id="setting-sql-stats-response-show-internal-enabled"><code>sql.stats.response.show_internal.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: controls if statistics for internal executions should be returned by the CombinedStatements and if internal sessions should be returned by the ListSessions endpoints. These endpoints are used to display statistics on the SQL Activity pages</p>
<h3 id="setting-sql-stats-system-tables-enabled"><code>sql.stats.system_tables.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: when true, enables use of statistics on system tables by the query optimizer</p>
<h3 id="setting-sql-stats-system-tables-autostats-enabled"><code>sql.stats.system_tables_autostats.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: when true, enables automatic collection of statistics on system tables</p>
<h3 id="setting-sql-telemetry-query-sampling-enabled"><code>sql.telemetry.query_sampling.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: when set to true, executed queries will emit an event on the telemetry logging channel</p>
<h3 id="setting-sql-temp-object-cleaner-cleanup-interval"><code>sql.temp_object_cleaner.cleanup_interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>30m0s</code></p><p><strong>Description</strong>: how often to clean up orphaned temporary objects</p>
<h3 id="setting-sql-temp-object-cleaner-wait-interval"><code>sql.temp_object_cleaner.wait_interval</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>30m0s</code></p><p><strong>Description</strong>: how long after creation a temporary object will be cleaned up</p>
<h3 id="setting-sql-trace-log-statement-execute"><code>sql.trace.log_statement_execute</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: set to true to enable logging of executed statements</p>
<h3 id="setting-sql-trace-session-eventlog-enabled"><code>sql.trace.session_eventlog.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: set to true to enable session tracing; note that enabling this may have a negative performance impact</p>
<h3 id="setting-sql-trace-stmt-enable-threshold"><code>sql.trace.stmt.enable_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: enables tracing on all statements; statements executing for longer than this duration will have their trace logged (set to 0 to disable); note that enabling this may have a negative performance impact; this setting applies to individual statements within a transaction and is therefore finer-grained than sql.trace.txn.enable_threshold</p>
<h3 id="setting-sql-trace-txn-enable-threshold"><code>sql.trace.txn.enable_threshold</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>0s</code></p><p><strong>Description</strong>: enables tracing on all transactions; transactions open for longer than this duration will have their trace logged (set to 0 to disable); note that enabling this may have a negative performance impact; this setting is coarser-grained than sql.trace.stmt.enable_threshold because it applies to all statements within a transaction as well as client communication (e.g. retries)</p>
<h3 id="setting-sql-ttl-default-delete-batch-size"><code>sql.ttl.default_delete_batch_size</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>100</code></p><p><strong>Description</strong>: default amount of rows to delete in a single query during a TTL job</p>
<h3 id="setting-sql-ttl-default-delete-rate-limit"><code>sql.ttl.default_delete_rate_limit</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>0</code></p><p><strong>Description</strong>: default delete rate limit for all TTL jobs. Use 0 to signify no rate limit.</p>
<h3 id="setting-sql-ttl-default-select-batch-size"><code>sql.ttl.default_select_batch_size</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>500</code></p><p><strong>Description</strong>: default amount of rows to select in a single query during a TTL job</p>
<h3 id="setting-sql-ttl-job-enabled"><code>sql.ttl.job.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: whether the TTL job is enabled</p>
<h3 id="setting-sql-txn-fingerprint-id-cache-capacity"><code>sql.txn_fingerprint_id_cache.capacity</code></h3><p><strong>Type</strong>: integer</p><p><strong>Default</strong>: <code>100</code></p><p><strong>Description</strong>: the maximum number of txn fingerprint IDs stored</p>
<h3 id="setting-timeseries-storage-enabled"><code>timeseries.storage.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: if set, periodic timeseries data is stored within the cluster; disabling is not recommended unless you are storing the data elsewhere</p>
<h3 id="setting-timeseries-storage-resolution-10s-ttl"><code>timeseries.storage.resolution_10s.ttl</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>240h0m0s</code></p><p><strong>Description</strong>: the maximum age of time series data stored at the 10 second resolution. Data older than this is subject to rollup and deletion.</p>
<h3 id="setting-timeseries-storage-resolution-30m-ttl"><code>timeseries.storage.resolution_30m.ttl</code></h3><p><strong>Type</strong>: duration</p><p><strong>Default</strong>: <code>2160h0m0s</code></p><p><strong>Description</strong>: the maximum age of time series data stored at the 30 minute resolution. Data older than this is subject to deletion.</p>
<h3 id="setting-trace-debug-enable"><code>trace.debug.enable</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>false</code></p><p><strong>Description</strong>: if set, traces for recent requests can be seen at https://&lt;ui&gt;/debug/requests</p>
<h3 id="setting-trace-jaeger-agent"><code>trace.jaeger.agent</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: the address of a Jaeger agent to receive traces using the Jaeger UDP Thrift protocol, as &lt;host&gt;:&lt;port&gt;. If no port is specified, 6381 will be used.</p>
<h3 id="setting-trace-opentelemetry-collector"><code>trace.opentelemetry.collector</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: address of an OpenTelemetry trace collector to receive traces using the otel gRPC protocol, as &lt;host&gt;:&lt;port&gt;. If no port is specified, 4317 will be used.</p>
<h3 id="setting-trace-span-registry-enabled"><code>trace.span_registry.enabled</code></h3><p><strong>Type</strong>: boolean</p><p><strong>Default</strong>: <code>true</code></p><p><strong>Description</strong>: if set, ongoing traces can be seen at https://&lt;ui&gt;/#/debug/tracez</p>
<h3 id="setting-trace-zipkin-collector"><code>trace.zipkin.collector</code></h3><p><strong>Type</strong>: string</p><p><strong>Default</strong>: <code></code></p><p><strong>Description</strong>: the address of a Zipkin instance to receive traces, as &lt;host&gt;:&lt;port&gt;. If no port is specified, 9411 will be used.</p>
<h3 id="setting-version"><code>version</code></h3><p><strong>Type</strong>: version</p><p><strong>Default</strong>: <code>1000022.2-10</code></p><p><strong>Description</strong>: set the active cluster version in the format &#39;&lt;major&gt;.&lt;minor&gt;&#39;</p>



## View current cluster settings

Use the [`SHOW CLUSTER SETTING`](show-cluster-setting.html) statement.

## Change a cluster setting

Use the [`SET CLUSTER SETTING`](set-cluster-setting.html) statement.

Before changing a cluster setting, please note the following:

- 	Changing a cluster setting is not instantaneous, as the change must be propagated to other nodes in the cluster.

- 	Do not change cluster settings while [upgrading to a new version of CockroachDB](upgrade-cockroach-version.html). Wait until all nodes have been upgraded before you make the change.

## See also

- [`SET CLUSTER SETTING`](set-cluster-setting.html)
- [`SHOW CLUSTER SETTING`](show-cluster-setting.html)
- [Diagnostics Reporting](diagnostics-reporting.html)
- [Start a Node](cockroach-start.html)
- [Use the Built-in SQL Client](cockroach-sql.html)
