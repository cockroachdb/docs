Configure the following [`replicator` flags]({% link molt/molt-replicator.md %}#flags) to optimize replication throughput and resource usage. Test different combinations in a pre-production environment to find the optimal balance of stability and performance for your workload.

{{site.data.alerts.callout_info}}
The following parameters apply to PostgreSQL, Oracle, and CockroachDB (failback) sources.
{{site.data.alerts.end}}

|            Flag           |                                                                                                                                                                                                 Description                                                                                                                                                                                                 |
|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `--parallelism`           | Control the maximum number of concurrent target transactions. Higher values increase throughput but require more target connections. Start with a conservative value and increase based on target database capacity.                                                                                                                                                                                        |
| `--flushSize`             | Balance throughput and latency. Controls how many mutations are batched into each query to the target. Increase for higher throughput at the cost of higher latency.                                                                                                                                                                                                                                        |
| `--targetApplyQueueSize`  | Control memory usage during operation. Increase to allow higher throughput at the expense of memory; decrease to apply backpressure and limit memory consumption.                                                                                                                                                                                                                                           |
| `--targetMaxPoolSize`     | Set larger than `--parallelism` by a safety factor to avoid exhausting target pool connections. Replicator enforces setting parallelism to 80% of this value.                                                                                                                                                                                                                                               |
| `--collapseMutations`     | Reduce the number of queries to the target by combining multiple mutations on the same primary key within each batch. Disable only if exact mutation order matters more than end state.                                                                                                                                                                                                                     |
| `--enableParallelApplies` | Improve apply throughput for independent tables and table groups that share foreign key dependencies. Increases memory and target connection usage, so ensure you increase `--targetMaxPoolSize` or reduce `--parallelism`.                                                                                                                                                                                 |
| `--flushPeriod`           | Set to the maximum allowable time between flushes (for example, `10s` if data must be applied within 10 seconds). Works with `--flushSize` to control when buffered mutations are committed to the target.                                                                                                                                                                                                  |
| `--quiescentPeriod`       | Lower this value if constraint violations resolve quickly on your workload to make retries more frequent and reduce latency. Do not lower if constraint violations take time to resolve.                                                                                                                                                                                                                    |
| `--scanSize`              | Applies to {% if page.name != "migrate-failback".md" %}[failback]({% link molt/migrate-failback.md %}){% else %}failback{% endif %} (`replicator start`) scenarios **only**. Balance memory usage and throughput. Increase to read more rows at once from the CockroachDB staging cluster for higher throughput, at the cost of memory pressure. Decrease to reduce memory pressure and increase stability. |