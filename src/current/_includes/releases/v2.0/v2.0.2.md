<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

<h3 id="v2-0-2-downloads">Downloads</h3>

<div id="os-tabs" class="clearfix os-tabs_button-outline-primary">
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0.2.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0.2.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0.2.src.tgz"><button id="source" data-eventcategory="source-release-notes">Source</button></a>
</div>

<h3 id="v2-0-2-general-changes">General Changes</h3>

- The header of new log files generated by [`cockroach start`](../v2.0/start-a-node.html) will now include the cluster ID once it has been determined. [#24982][#24982]
- The cluster ID is now reported with tag `[config]` in the first log file, not only when log files are rotated. [#24982][#24982]
- Stopped spamming the server logs with "error closing gzip response writer" messages. [#25108][#25108]

<h3 id="v2-0-2-sql-language-changes">SQL Language Changes</h3>

- Added more ways to specify an index name for statements that require one (e.g., `DROP INDEX`, `ALTER INDEX ... RENAME`, etc.), improving PostgreSQL compatibility. [#24817][#24817] {% comment %}doc{% endcomment %}
- Clarified the error message produced upon accessing a virtual schema with no database prefix (e.g., when `database` is not set). [#24809][#24809]
- `STORED` is no longer a reserved keyword and can again be used as an unrestricted name for databases, tables and columns. [#24864][#24864] {% comment %}doc{% endcomment %}
- Errors detected by `SHOW SYNTAX` are now tracked internally like other SQL errors. [#24900][#24900]
- [`IMPORT`](../v2.0/import.html) now supports hex-encoded byte literals for [`BYTES`](../v2.0/bytes.html) columns. [#25063][#25063] {% comment %}doc{% endcomment %}
- [Collated strings](../v2.0/collate.html) can now be used in `WHERE` clauses on indexed columns. [#25175][#25175] {% comment %}doc{% endcomment %}
- The Level and Type columns of [`EXPLAIN (VERBOSE)`](../v2.0/explain.html) results are now hidden; if they are needed, they can be `SELECT`ed explicitly. [#25206][#25206] {% comment %}doc{% endcomment %}

<h3 id="v2-0-2-admin-ui-changes">Admin UI Changes</h3>

- Added RocksDB compactions/flushes to storage graphs. [#25457][#25457]

<h3 id="v2-0-2-bug-fixes">Bug Fixes</h3>

- It is once again possible to use a simply qualified table name in qualified stars (e.g., `SELECT mydb.kv.* FROM kv`) for compatibility with CockroachDB v1.x. [#24842][#24842]
- Fixed a scenario in which a node could deadlock while starting up. [#24831][#24831]
- Ranges in partitioned tables now properly split to respect their configured maximum size. [#24912][#24912]
- Some kinds of schema change errors that were stuck in a permanent loop now correctly fail. [#25015][#25015]
- When [adding a column](../v2.0/add-column.html), CockroachDB now verifies that the column is referenced by no more than one foreign key. Existing tables with a column that is used by multiple foreign key constraints should be manually changed to have at most one foreign key per column. [#25079][#25079]
- CockroachDB now properly reports an error when using the internal-only functions `final_variance()` and `final_stddev()` instead of causing a crash. [#25218][#25218]
- The `constraint_schema` column in `information_schema.constraint_column_usage` now displays the constraint's schema instead of its catalog. [#25220][#25220]
- Fix a panic caused by certain queries containing `OFFSET` and `ORDER BY`. [#25238][#25238]
- `BEGIN; RELEASE SAVEPOINT` now returns an error instead of causing a crash. [#25251][#25251]
- Fixed a rare `segfault` that occurred when reading from an invalid memory location returned from C++. [#25361][#25361]
- Fixed a bug with `IS DISTINCT FROM` not returning `NULL` values that pass the condition in some cases. [#25339][#25339]
- Restarting a CockroachDB server on Windows no longer fails due to file system locks in the store directory. [#25439][#25439]
- Prevented the consistency checker from deadlocking. This would previously manifest itself as a steady number of replicas queued for consistency checking on one or more nodes and would resolve by restarting the affected nodes. [#25474][#25474]
- Fixed problems with [`IMPORT`](../v2.0/import.html) sometimes failing after node decommissioning. [#25307][#25307]
- Fixed a bug causing `PREPARE` to hang when run in the same transaction as a `CREATE TABLE` statement. [#24874][#24874]

<h3 id="v2-0-2-build-changes">Build Changes</h3>

- Build metadata, like the commit SHA and build time, is properly injected into the binary when using Go 1.10 and building from a symlink. [#25062][#25062]

<h3 id="v2-0-2-doc-updates">Doc Updates</h3>

- Improved the documentation of the `now()`, `current_time()`, `current_date()`, `current_timestamp()`, `clock_timestamp()`, `statement_timestamp()`, `cluster_logical_timestamp()`, and `age()` [built-in functions](../v2.0/functions-and-operators.html). [#25383][#25383] [#25145][#25145]

<div class="release-note-contributors" markdown="1">

<h3 id="v2-0-2-contributors">Contributors</h3>

This release includes 42 merged PRs by 16 authors. We would like to thank the following contributors from the CockroachDB community:

- Garvit Juniwal
- Jingguo Yao

</div>

[#24809]: https://github.com/cockroachdb/cockroach/pull/24809
[#24817]: https://github.com/cockroachdb/cockroach/pull/24817
[#24831]: https://github.com/cockroachdb/cockroach/pull/24831
[#24842]: https://github.com/cockroachdb/cockroach/pull/24842
[#24864]: https://github.com/cockroachdb/cockroach/pull/24864
[#24874]: https://github.com/cockroachdb/cockroach/pull/24874
[#24900]: https://github.com/cockroachdb/cockroach/pull/24900
[#24912]: https://github.com/cockroachdb/cockroach/pull/24912
[#24982]: https://github.com/cockroachdb/cockroach/pull/24982
[#25015]: https://github.com/cockroachdb/cockroach/pull/25015
[#25062]: https://github.com/cockroachdb/cockroach/pull/25062
[#25063]: https://github.com/cockroachdb/cockroach/pull/25063
[#25079]: https://github.com/cockroachdb/cockroach/pull/25079
[#25108]: https://github.com/cockroachdb/cockroach/pull/25108
[#25145]: https://github.com/cockroachdb/cockroach/pull/25145
[#25175]: https://github.com/cockroachdb/cockroach/pull/25175
[#25206]: https://github.com/cockroachdb/cockroach/pull/25206
[#25218]: https://github.com/cockroachdb/cockroach/pull/25218
[#25220]: https://github.com/cockroachdb/cockroach/pull/25220
[#25238]: https://github.com/cockroachdb/cockroach/pull/25238
[#25251]: https://github.com/cockroachdb/cockroach/pull/25251
[#25307]: https://github.com/cockroachdb/cockroach/pull/25307
[#25339]: https://github.com/cockroachdb/cockroach/pull/25339
[#25361]: https://github.com/cockroachdb/cockroach/pull/25361
[#25383]: https://github.com/cockroachdb/cockroach/pull/25383
[#25439]: https://github.com/cockroachdb/cockroach/pull/25439
[#25457]: https://github.com/cockroachdb/cockroach/pull/25457
[#25474]: https://github.com/cockroachdb/cockroach/pull/25474
