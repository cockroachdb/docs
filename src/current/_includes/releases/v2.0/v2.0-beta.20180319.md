<h2 id="{{ include.release | slugify }}">{{ include.release }}</h2>

Release Date: {{ include.release_date | date: "%B %-d, %Y" }}

In this release, we’ve improved CockroachDB’s ability to run in orchestrated environments and closed several Postgres capability gaps.

- Better [`/health`](../v2.0/monitoring-and-alerting.html) behavior to support orchestrated deployments. [#23551][#23551]

<h3 id="v2-0-beta-20180319-downloads">Downloads</h3>

<div id="os-tabs" class="clearfix os-tabs_button-outline-primary">
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0-beta.20180319.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0-beta.20180319.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v2.0-beta.20180319.src.tgz"><button id="source" data-eventcategory="source-release-notes">Source</button></a>
</div>

<h3 id="v2-0-beta-20180319-sql-language-changes">SQL Language Changes</h3>

- `NO CYCLE` and `CACHE 1` are now supported options during [sequence creation](../v2.0/create-sequence.html). [#23518][#23518]
- `ISNULL` and `NOTNULL` are now accepted as alternatives to `IS NULL` and `IS NOT NULL`. [#23518][#23518]

<h3 id="v2-0-beta-20180319-command-line-changes">Command-Line Changes</h3>

- Changed the `server.drain_max_wait` [cluster setting](../v2.0/cluster-settings.html) to `server.shutdown.query_wait` [#23629][#23629]
- The generated HAProxy config generated by [`cockroach gen haproxy`](../v2.0/generate-cockroachdb-resources.html) has been extended with readiness checks. [#23590][#23590]

<h3 id="v2-0-beta-20180319-admin-ui-changes">Admin UI Changes</h3>

- Implemented a spinner on the **Logs** page instead of saying "No Data" while loading. [#23556][#23556]
- Now using monospace font and rendering new lines on the **Logs** page. Also, packed lines together more tightly. [#23556][#23556]
- Moved the **Clock Offset** graph from the **Distributed** dashboard to the [Runtime dashboard](../v2.0/admin-ui-runtime-dashboard.html). Now displaying each node's clock offset independently rather than aggregating them together. [#23627][#23627]
- When [reporting anonymous usage details](../v2.0/diagnostics-reporting.html), locality tier names are now redacted. [#23588][#23588]
- Clicking on the entire node component is now allowed in the Node Map, not just the visible elements. [#23536][#23536]
- The Node Map now shows how long a node has been dead. [#23404][#23404]
- Correct liveness status text now displays on nodes in the Node Map. [#23404][#23404]

<h3 id="v2-0-beta-20180319-bug-fixes">Bug Fixes</h3>

- Fixed a bug in which the usable capacity of nodes was not added up correctly in the Admin UI. [#23695][#23695]
- An [`ARRAY`](../v2.0/array.html) can now be used with the PostgreSQL binary format. [#23467][#23467]
- Fixed a panic when a query would incorrectly attempt to use an aggregation or window function in [`ON CONFLICT DO UPDATE`](../v2.0/insert.html#update-values-on-conflict). [#23658][#23658]
- [`CREATE TABLE AS`](../v2.0/create-table-as.html) can now be used with [scalar subqueries](../v2.0/scalar-expressions.html#scalar-subqueries). [#23470][#23470]
- Connection attempts to former members of the cluster and the associated spurious log messages are now prevented. [#23605][#23605]
- Fixed a panic when executing `INSERT INTO ... SELECT` queries where the number of columns targeted for insertion does not match the number of columns returned by the [`SELECT`](../v2.0/select-clause.html). [#23642][#23642]
- Reduced the risk that a node in the process of crashing could serve inconsistent data. [#23616][#23616]
- Fixed a correctness bug where some `ORDER BY` queries would not return the correct results under concurrent transactional load. [#23602][#23602]
- `RETURNING NOTHING` now properly detects [parallel statement execution](../v2.0/parallel-statement-execution.html) opportunities against statements that contain data-modifying statements in subqueries. [#23524][#23524]
- The [`/health` HTTP endpoint](../v2.0/monitoring-and-alerting.html#health-endpoints) is now accessible before a node has successfully become part of an initialized cluster, meaning that it now accurately reflects the health of the process rather than the ability of the process to serve queries. This has been the intention all along, but it didn't work until the node had joined a cluster or had `cockroach init` run on it. [#23551][#23551]
- Fixed a panic that could occur with certain types of casts. [#23535][#23535]
- Prevented a hang while crashing when `stderr` is blocked. [#23484][#23484]
- Fixed panics related to distributed execution of queries with `REGCLASS` casts. [#23482][#23482]
- Fixed a panic with computed columns. [#23435][#23435]
- Added prevention against potential consistency issues when a node is stopped and restarted in rapid succession. [#23339][#23339]
- [Decommissioning a node](../v2.0/remove-nodes.html) that has already been terminated now works in all cases. Success previously depended on whether the gateway node "remembered" the absent decommissioned node. [#23378][#23378]

<h3 id="v2-0-beta-20180319-build-changes">Build Changes</h3>

- [Go 1.10](https://golang.org/dl/) is now the minimum required version necessary to build CockroachDB. [#23494][#23494]

<h3 id="v2-0-beta-20180319-doc-updates">Doc Updates</h3>

- Documented the [`SPLIT AT`](../v2.0/split-at.html) statement, which forces a key-value layer range split at a specified row in a table or index. [#2704](https://github.com/cockroachdb/docs/pull/2704)
- Various updates to the [`IMPORT`](../v2.0/import.html) documentation. [#2676](https://github.com/cockroachdb/docs/pull/2676)
- Various updates to the [`SHOW TRACE`](../v2.0/show-trace.html) documentation. [#2674](https://github.com/cockroachdb/docs/pull/2674)
- Clarified the upgrade path for [rolling upgrades](../v2.0/upgrade-cockroach-version.html). [#2627](https://github.com/cockroachdb/docs/pull/2627)
- Added more detailed documentation on [ordering query results](../v2.0/query-order.html) with `ORDER BY`. [#2658](https://github.com/cockroachdb/docs/pull/2658)
- Documented [inverted indexes](../v2.0/inverted-indexes.html) for [`JSONB`](../v2.0/jsonb.html) data. [#2608](https://github.com/cockroachdb/docs/pull/2608)

<h3 id="v2-0-beta-20180319-contributors">Contributors</h3>

This release includes 48 merged PRs by 21 authors.

[#23339]: https://github.com/cockroachdb/cockroach/pull/23339
[#23378]: https://github.com/cockroachdb/cockroach/pull/23378
[#23404]: https://github.com/cockroachdb/cockroach/pull/23404
[#23435]: https://github.com/cockroachdb/cockroach/pull/23435
[#23467]: https://github.com/cockroachdb/cockroach/pull/23467
[#23470]: https://github.com/cockroachdb/cockroach/pull/23470
[#23482]: https://github.com/cockroachdb/cockroach/pull/23482
[#23484]: https://github.com/cockroachdb/cockroach/pull/23484
[#23494]: https://github.com/cockroachdb/cockroach/pull/23494
[#23518]: https://github.com/cockroachdb/cockroach/pull/23518
[#23524]: https://github.com/cockroachdb/cockroach/pull/23524
[#23535]: https://github.com/cockroachdb/cockroach/pull/23535
[#23536]: https://github.com/cockroachdb/cockroach/pull/23536
[#23551]: https://github.com/cockroachdb/cockroach/pull/23551
[#23556]: https://github.com/cockroachdb/cockroach/pull/23556
[#23588]: https://github.com/cockroachdb/cockroach/pull/23588
[#23590]: https://github.com/cockroachdb/cockroach/pull/23590
[#23602]: https://github.com/cockroachdb/cockroach/pull/23602
[#23605]: https://github.com/cockroachdb/cockroach/pull/23605
[#23616]: https://github.com/cockroachdb/cockroach/pull/23616
[#23627]: https://github.com/cockroachdb/cockroach/pull/23627
[#23629]: https://github.com/cockroachdb/cockroach/pull/23629
[#23642]: https://github.com/cockroachdb/cockroach/pull/23642
[#23658]: https://github.com/cockroachdb/cockroach/pull/23658
[#23695]: https://github.com/cockroachdb/cockroach/pull/23695
