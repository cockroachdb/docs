## v25.4.0

Release Date: November 3, 2025

With the release of CockroachDB v25.4, we've added new capabilities to help you migrate, build, and operate more efficiently.

For a summary of the most significant changes, refer to [Feature Highlights](#v25-4-0-feature-highlights), which contains the following categories:

  - [SQL](#v25-4-0-sql)
  - [Observability](#v25-4-0-observability)
  - [CockroachDB Cloud](#v25-4-0-cloud)

Before [upgrading to CockroachDB v25.4]({% link v25.4/upgrade-cockroach-version.md %}), be sure to also review the following [Upgrade Details](#v25-4-0-upgrade-details):

  - [Backward-incompatible changes](#v25-4-0-backward-incompatible-changes)
  - [Features that require upgrade finalization](#v25-4-0-features-that-require-upgrade-finalization)
  - [Key cluster setting changes](#v25-4-0-key-cluster-setting-changes)
  - [Deprecations] (#v25-4-0-deprecations)
  - [Known limitations](#v25-4-0-known-limitations)

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v25-4-0-feature-highlights">Feature Highlights</h3>

This section summarizes the most significant user-facing changes in v25.4.0 and other features recently made available to CockroachDB users across versions. For a complete list of features and changes in v25.4, including bug fixes and performance improvements, refer to the [release notes]({% link releases/index.md %}#testing-releases) for v25.4 testing releases. You can also search the docs for sections labeled [New in v25.4](https://www.cockroachlabs.com/docs/search?query=New+in+v25.4).

<div id="feature-highlights">

<h4 id="v25-4-0-sql">SQL</h4>

<table markdown="1">
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Vector Indexing Improvements</p>
    <p class="feature-description" markdown="1">
      Vector indexes in CockroachDB now support table backfills, making it easy to add vector indexes to existing tables without requiring manual data rewrites or service interruption. This update enhances the usability of vector search features by allowing seamless indexing of pre-existing data. Additionally, support for both cosine distance and inner product has been added, giving users more flexibility in selecting similarity metrics that best suit their machine learning or AI workloads. Together, these improvements make it easier to build and scale intelligent applications directly on CockroachDB.
    </p>
   </td>
   <td>25.4</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
  <tr>
   <td>
    <p class="feature-summary">Stable SQL API and Controlled Access to Unsupported crdb_internal Tables</p>
    <p class="feature-description" markdown="1">
      CockroachDB introduces a stable, well-defined SQL API for system introspection. This API enables customers and third-party tools to safely and reliably query cluster metadata and performance data in production environments.
    </p>
   </td>
   <td>25.4</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
 </tbody>
</table>

<h4 id="v25-4-0-observability">Observability</h4>

<table markdown="1">
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Transaction Diagnostic Bundles for Comprehensive SQL Tracing</p>
    <p class="feature-description" markdown="1">
      CockroachDB now supports Transaction Diagnostic Bundles, enabling Cockroach Labs Support to capture and analyze a complete trace of an entire SQL transaction not just individual statements.

      This feature extends the existing Statement Diagnostic Bundle capability to provide a holistic view of multi-statement transactions, simplifying the diagnosis of complex customer issues during support incidents.
    </p>
    <p class="feature-description">Each Transaction Diagnostic Bundle includes:</p>
    <ul class="feature-description">
      <li>A Jaeger trace and text trace of the full transaction execution path.</li>
      <li>Individual Statement Diagnostic Bundles for each statement executed within the transaction.</li>
    </ul>
   </td>
   <td>25.4</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
  </tr>
  <tr>
   <td>
    <p class="feature-summary">Structured and Consistent Logging Channels</p>
    <p class="feature-description" markdown="1">
      CockroachDB has updated structured and consistent logging channels across the system to improve log discoverability, production observability, and support troubleshooting.
    </p>
    <p class="feature-description">New channels introduced:</p>
    <ul class="feature-description">
      <li>CHANGEFEED – dedicated channel for Change Data Capture (CDC) logs, previously routed to DEV and TELEMETRY.</li>
      <li>KV_EXEC – channel for KV execution logs, separated from general distribution logs.</li>
    </ul>
    <p class="feature-description">Rerouted existing logs:</p>
    <ul class="feature-description">
      <li>`sampled_query` and `sampled_transaction` logs moved from TELEMETRY to SQL_EXEC for better categorization.</li>
    </ul>
   </td>
   <td>25.4</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
  </tr>
 </tbody>
</table>

<h4 id="v25-4-0-cloud">CockroachDB Cloud</h4>

<table markdown="1">
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Metrics Viewer Role for CockroachDB Cloud</p>
    <p class="feature-description" markdown="1">
      This release introduces the Metrics Viewer role in CockroachDB Cloud, which provides dedicated permissions for collecting metrics and viewing insights. The role enhances security by enabling granular access to cluster performance data.

      The Metrics Viewer role grants read-only access to cluster metrics and related insights, without conferring any administrative or data manipulation privileges.
    </p>
    <p class="feature-description">Key benefits:</p>
    <ul class="feature-description">
      <li>Improved Security: Enables the principle of least privilege by allowing users or services to monitor cluster performance without broader access to sensitive data or configuration.</li>
      <li>Targeted Access: Provides focused access to operational metrics, empowering teams to monitor health and performance efficiently.</li>
      <li>Enhanced Collaboration: Facilitates secure collaboration by allowing different teams (e.g., SREs, developers) to access relevant metrics without over-provisioned permissions.</li>
    </ul>
    <p class="feature-description">When combined with the existing Cluster Developer role, a user can effectively gain "Power Developer" like functionalities, enabling them to develop applications and monitor their performance comprehensively while maintaining a clear separation of privileges for security.</p>
   </td>
   <td>All<sup>*</sup></td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
 </tbody>
</table>

{% include releases/v25.4/feature-detail-key.html %}

</div>

<h3 id="v25-4-0-upgrade-details">Upgrade Details</h3>

Before you upgrade, review these changes and other information about the new major version.

<a name="v25-4-0-backward-incompatible-changes"></a>

<h4 id="v25-4-0-backward-incompatible-changes">Backward-incompatible changes</h4>

{% include releases/v25.4/backward-incompatible.md %}

<a name="v25-4-0-features-that-require-upgrade-finalization"></a>

<h4 id="v25-4-0-features-that-require-upgrade-finalization">Features that require upgrade finalization</h4>

{% include releases/v25.4/upgrade-finalization.md %}

<a name="v25-4-0-cluster-settings"></a>

<h4 id="v25-4-0-key-cluster-setting-changes">Key cluster setting changes</h4>

{% include releases/v25.4/cluster-setting-changes.md %}

<a name="v25-4-0-deprecations"></a>

<h4 id="v25-4-0-deprecations">Deprecations</h4>

{% include releases/v25.4/deprecations.md %}

<h4 id="v25-4-0-known-limitations">Known limitations</h4>

For information about new and unresolved limitations in CockroachDB v25.4, with suggested workarounds where applicable, refer to [Known Limitations]({% link v25.4/known-limitations.md %}).
