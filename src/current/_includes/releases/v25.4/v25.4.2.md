## v25.4.2

Release Date: December 12, 2025

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v25-4-2-db-console-changes">DB Console changes</h3>

- The background (elastic) store graphs for exhausted duration, and the wait duration histogram, have been separated from the foreground (regular) graphs. [#156869][#156869]

<h3 id="v25-4-2-sql-language-changes">SQL language changes</h3>

- Fixed a bug where creating a routine could create unnecessary column dependencies when the routine references columns through CHECK constraints (including those for RLS policies and hash-sharded indexes) or partial index predicates. These unnecessary dependencies prevented dropping the column without first dropping the routine. The fix is gated behind the session setting `use_improved_routine_deps_triggers_and_computed_cols`, which is off by default prior to v26.1. [#159469][#159469]

<h3 id="v25-4-2-bug-fixes">Bug fixes</h3>

- Fixed a bug that caused newly-created routines to incorrectly prevent dropping columns that were not directly referenced, most notably columns referenced by computed column expressions. The fix is gated behind the session setting `use_improved_routine_deps_triggers_and_computed_cols`, which is off by default prior to v26.1. [#159469][#159469]
- A mechanism that prevents unsafe replication changes from causing loss of quorum now functions correctly. An internal function has been fixed to properly return errors, enhancing the reliability of replication safeguards. [#156523][#156523]
- Fixed a bug where CockroachDB could encounter a `vector encoder doesn't support ForcePut yet` error when executing `COPY` commands concurrently with certain schema changes. The bug had existed since before v23.2. [#157200][#157200]
- Fixed a bug that could cause a schema change to be stuck in the reverting state if the `infer_rbr_region_col_using_constraint` storage parameter was being set at the same time as adding a constraint that had a foreign key violation. [#157844][#157844]

[#156523]: https://github.com/cockroachdb/cockroach/pull/156523
[#156869]: https://github.com/cockroachdb/cockroach/pull/156869
[#157011]: https://github.com/cockroachdb/cockroach/pull/157011
[#157200]: https://github.com/cockroachdb/cockroach/pull/157200
[#157228]: https://github.com/cockroachdb/cockroach/pull/157228
[#157844]: https://github.com/cockroachdb/cockroach/pull/157844
[#157853]: https://github.com/cockroachdb/cockroach/pull/157853
[#159122]: https://github.com/cockroachdb/cockroach/pull/159122
[#159469]: https://github.com/cockroachdb/cockroach/pull/159469
