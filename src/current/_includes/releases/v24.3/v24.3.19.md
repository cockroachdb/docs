## v24.3.19

Release Date: August 22, 2025

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v24-3-19-general-changes">General changes</h3>

- Backporting detailed error logging logic
  gated behind a cluster setting. The cluster setting  enables detailed
  error logging for messages exceeding Kafka v2 size limit. [#150182][#150182]
- Changefeeds emitting to Kafka sinks that were created in CockroachDB v24.2.1+, or v23.2.10+ and v24.1.4+ with the `changefeed.new_kafka_sink.enabled` cluster setting enabled now include the message key, size, and MVCC timestamp in "message too large" error logs. [#150182][#150182]

<h3 id="v24-3-19-operational-changes">Operational changes</h3>

- Introduced a cluster setting, `sql.stats.error_on_concurrent_create_stats.enabled`, which modifies how CockroachDB reacts to concurrent auto stats jobs. The default, `true`, maintains the previous behavior. Setting `sql.stats.error_on_concurrent_create_stats.enabled` to `false` will cause the concurrent auto stats job to be skipped with just a log entry and no increased error counters. [#149841][#149841]
- Updated TTL job replanning to be less sensitive by focusing specifically on detecting when nodes become unavailable rather than reacting to all plan differences. The cluster setting `sql.ttl.replan_flow_threshold` may have been set to `0` to work around the TTL replanner being too sensitive; this fix will alleviate that and any instance that had set `replan_flow_threshold` to `0` can be reset back to the default. [#151489][#151489]

<h3 id="v24-3-19-bug-fixes">Bug fixes</h3>

- Fixed an issue where the `mvcc_timestamp` field was incorrectly returning zero values when used with CDC queries. The timestamp is now emitted correctly. [#147112][#147112]
- Fixed a bug that would allow a race condition in foreign key cascades under `READ COMMITTED` and `REPEATABLE READ` isolation levels. [#150336][#150336]
- Fixed a bug that could cause some errors returned by attempts to upload backup data to external storage providers to be undetected, potentially causing incomplete backups. [#151081][#151081]
- Fixed a memory accounting issue in the client certificate cache that caused multiple allocations to be reported for the same certificate. The cache now accurately tracks memory usage and includes a safeguard to prevent it from negatively affecting SQL operations. [#151141][#151141]
- Fix a bug where debug.zips collected from
  clusters with disallow_full_table_scans set would have missing system
  table data. [#151223][#151223]

<h3 id="v24-3-19-build-changes">Build changes</h3>

- Upgrade Go to consume security fixes [#150989][#150989]

<h3 id="v24-3-19-miscellaneous">Miscellaneous</h3>

- Restore will now re-attempt `AdminSplit` KV requests
  instead of immediately failing and pausing the job. [#149619][#149619]


[#151489]: https://github.com/cockroachdb/cockroach/pull/151489
[#147112]: https://github.com/cockroachdb/cockroach/pull/147112
[#150336]: https://github.com/cockroachdb/cockroach/pull/150336
[#151141]: https://github.com/cockroachdb/cockroach/pull/151141
[#151223]: https://github.com/cockroachdb/cockroach/pull/151223
[#150182]: https://github.com/cockroachdb/cockroach/pull/150182
[#149841]: https://github.com/cockroachdb/cockroach/pull/149841
[#151081]: https://github.com/cockroachdb/cockroach/pull/151081
[#150989]: https://github.com/cockroachdb/cockroach/pull/150989
[#149619]: https://github.com/cockroachdb/cockroach/pull/149619
