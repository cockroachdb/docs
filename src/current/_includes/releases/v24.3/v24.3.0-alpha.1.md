## v24.3.0-alpha.1

Release Date: October 8, 2024


{% include releases/new-release-downloads-docker-image.md release=include.release %}
<h3 id="v24-3-0-alpha-1-security-updates">Security updates</h3>

- URLs in the [`CREATE CHANGEFEED`]({% link v24.3/create-changefeed.md %}) and [`CREATE SCHEDULE FOR CHANGEFEED`]({% link v24.3/create-schedule-for-changefeed.md %}) SQL statements are now sanitized of any secrets before being written to unredacted [logs]({% link v24.3/logging.md %}). [#126970][#126970]
- The LDAP [cluster settings]({% link v24.3/cluster-settings.md %}) `server.ldap_authentication.client.tls_certificate` and `server.ldap_authentication.client.tls_key` do not have callbacks installed to reload the settings value for LDAP authManager. This change fixes this by adding the necessary callbacks. [#131151][#131151]
- [Cluster settings]({% link v24.3/cluster-settings.md %}) for [host-based authentication]({% link v24.3/security-reference/authentication.md %}#authentication-configuration) configuration ([`server.host_based_authentication.configuration`]({% link v24.3/cluster-settings.md %}#setting-server-host-based-authentication-configuration)) and identity map configuration ([`server.identity_map.configuration`]({% link v24.3/cluster-settings.md %}#setting-identity-map-configuration)) need to be redacted as they can be configured to contain LDAP bind usernames, passwords, and mapping of external identities to SQL users that are sensitive and should be configurable for redaction via the `server.redact_sensitive_settings.enabled` cluster setting. [#131150][#131150]
- Added support for configuring authorization using LDAP. During login, the list of groups that a user belongs to are fetched from the LDAP server. These groups are mapped to [SQL roles]({% link v24.3/create-role.md %}) by extracting the common name (CN) from the group. After authenticating the user, the login flow grants these roles to the user, and revokes any other roles that are not returned by the LDAP server. The groups given by the LDAP server are treated as the sole source of truth for role memberships, so any roles that were manually granted to the user will not remain in place. [#131043][#131043]

<h3 id="v24-3-0-alpha-1-general-changes">General changes</h3>

- CockroachDB will now avoid [logging]({% link v24.3/logging.md %}) unnecessary stack traces while executing [scheduled jobs](({% link v24.3/show-jobs.md %})). [#129846][#129846]
- Upgrading to 24.3 is blocked if no license is installed, or if a trial/free license is installed with telemetry disabled. [#130576][#130576]
- Change the license cockroach is distributed under to the new CockroachDB Software License. [#131661][#131661]
- Attempting to install a second enterprise trial license on the same cluster will now fail. [#131422][#131422]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131690][#131690]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131686][#131686]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131688][#131688]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131687][#131687]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131717][#131717]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131689][#131689]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131693][#131693]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131691][#131691]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131777][#131777]
- Change the license cockroach is distributed under to the new CockroachDB Software License (CSL). [#131778][#131778]

<h3 id="v24-3-0-alpha-1-{{-site.data.products.enterprise-}}-edition-changes">{{ site.data.products.enterprise }} edition changes</h3>

- Added a `CompressionLevel` field to the changefeed [`kafka_sink_config`]({% link v24.3/changefeed-sinks.md %}#kafka-sink-configuration) option. [Changefeeds]({% link v24.3/change-data-capture-overview.md %}) will use this compression level when emitting events to a [Kafka sink]({% link v24.3/changefeed-sinks.md %}#kafka). The possible values depend on a compression codec. The `CompressionLevel` field optimizes for faster or stronger level of [compression]({% link v24.3/changefeed-sinks.md %}#kafka-sink-configuration). [#125456][#125456]
- The updated version of the [CockroachDB changefeed Kafka sink implementation]({% link v24.3/changefeed-sinks.md %}#kafka) now supports specifying compression levels. [#127827][#127827]
- Introduced the cluster setting [`server.jwt_authentication.client.timeout`]({% link v24.3/cluster-settings.md %}) to capture the HTTP client timeout for external calls made during [JWT authentication]({% link v24.3/sso-sql.md %}). [#127145][#127145]
- The JWT authentication [cluster-settings]({% link v24.3/cluster-settings.md %}) have been made `public`. [#128170][#128170]
- Updated certain error messages to refer to the `stable` docs tree rather than an explicit version. [#128842][#128842]
- Disambiguated [metrics]({% link v24.3/essential-metrics-self-hosted.md %}) and logs for the 2 buffers used by the KV feed. The affected metrics now have a suffix indicating which buffer they correspond to: `changefeed.buffer_entries.*`, `changefeed.buffer_entries_mem.*`, `changefeed.buffer_pushback_nanos.*`. The previous versions are still supported for backward compatibility, though using the new format is recommended. [#128813][#128813]
- Added support for authorization to a CockroachDB cluster via LDAP, retrieving AD groups membership information for LDAP user. The new HBA configuration cluster setting option `ldapgrouplistfilter` performs filtered search query on LDAP for matching groups. An example HBA configuration entry to support LDAP authZ configuration:

    {% include_cached copy-clipboard.html %}
    ~~~ sql
    # TYPE    DATABASE      USER           ADDRESS             METHOD             OPTIONS  # Allow all users to connect to using LDAP authentication with search and bind    host    all           all            all                 ldap               ldapserver=ldap.example.com ldapport=636 "ldapbasedn=ou=users,dc=example,dc=com" "ldapbinddn=cn=readonly,dc=example,dc=com" ldapbindpasswd=readonly_password ldapsearchattribute=uid "ldapsearchfilter=(memberof=cn=cockroachdb_users,ou=groups,dc=example,dc=com)" "ldapgrouplistfilter=(objectClass=groupOfNames)"  # Fallback to password authentication for the root user    host    all           root           0.0.0.0/0          password
    ~~~

    For example, to use for an Azure AD server:

    {% include_cached copy-clipboard.html %}
    ~~~ sql
    SET cluster setting server.host_based_authentication.configuration = 'host    all           all            all                 ldap ldapserver=azure.dev ldapport=636 "ldapbasedn=OU=AADDC Users,DC=azure,DC=dev" "ldapbinddn=CN=Some User,OU=AADDC Users,DC=azure,DC=dev" ldapbindpasswd=my_pwd ldapsearchattribute=sAMAccountName "ldapsearchfilter=(memberOf=CN=azure-dev-domain-sync-users,OU=AADDC Users,DC=crlcloud,DC=dev)" "ldapgrouplistfilter=(objectCategory=CN=Group,CN=Schema,CN=Configuration,DC=crlcloud,DC=dev)" host    all           root           0.0.0.0/0          password';
    ~~~

    Post configuration, the CockroachDB cluster should be able to authorize users via LDAP server if:
    1. Users LDAP authentication attempt is successful, and it has the user's DN for the LDAP server.
    1. `ldapgrouplistfilter` is properly configured, and it successfully syncs groups of the user. [#128498][#128498]
- Added changefeed support for the [`mvcc_timestamp`]({% link v24.3/create-changefeed.md %}#mvcc-timestamp) option when the changefeed is emitting in [`avro`]({% link v24.3/create-changefeed.md %}#avro) format. If both options are specified, the Avro schema includes an `mvcc_timestamp` metadata field and emits the row's [MVCC timestamp]({% link v24.3/architecture/storage-layer.md %}#mvcc) with the row data. [#129840][#129840]
- Updated the cluster setting [`changefeed.sink_io_workers`]({% link v24.3/cluster-settings.md %}#setting-changefeed-sink-io-workers) with all the [sinks]({% link v24.3/changefeed-sinks.md %}) that support the setting. [#129946][#129946]
- Added the `changefeed.total_ranges` metric, which [monitors]{% link v24.3/monitor-and-debug-changefeeds.md %} the number of [ranges]({% link v24.3/architecture/overview.md %}#architecture-range) that are watched by [changefeed aggregators]({% link v24.3/how-does-an-enterprise-changefeed-work.md %}). It shares the same polling interval as [`changefeed.lagging_ranges`]({% link v24.3/advanced-changefeed-configuration.md %}#lagging-ranges), which is controlled by the existing `lagging_ranges_polling_interval` option. [#130897][#130897]
- Added a LDAP authentication method to complement password-based login for the DB Console if HBA configuration has an entry for LDAP for the user attempting login, along with other matching criteria (like the requests originating IP address) for authentication to the DB Console. [#130418][#130418]
- Added timers around key parts of the [changefeed]({% link v24.3/change-data-capture-overview.md %}) pipeline to help debug feeds experiencing issues. The `changefeed.stage.<stage>.latency` metrics now emit latency histograms for each stage. The metric respects the [changefeed `scope` label]({% link v24.3/monitor-and-debug-changefeeds.md %}#using-metrics-labels) for debugging specific feeds. [#128794][#128794]
- For [enterprise changefeeds]({% link v24.3/how-does-an-enterprise-changefeed-work.md %}), [events]({% link v24.3/eventlog.md %}) `changefeed_failed` and `create_changefeed` now include a `JobId` field. [#131396][#131396]

<h3 id="v24-3-0-alpha-1-sql-language-changes">SQL language changes</h3>

- Added a session setting, [`optimizer_use_merged_partial_statistics`]({% link v24.3/session-variables.md %}), which can be set to `true` to enable usage of existing partial [statistics]({% link v24.3/cost-based-optimizer.md %}#table-statistics) merged with full statistics when [optimizing]({% link v24.3/cost-based-optimizer.md %}) a query, which is disabled by default. [#126948][#126948]
- The [`enable_create_stats_using_extremes`]({% link v24.3/session-variables.md %}) session setting is now `true` by default. Partial statistics at extremes can be collected using the [`CREATE STATISTICS <stat_name> ON <column_name> FROM <table_name> USING EXTREMES`]({% link v24.3/create-statistics.md %}) syntax. [#127850][#127850]
- Added [`SHOW SCHEMAS WITH COMMENT`]({% link v24.3/show-schemas.md %}) and `SHOW SCHEMAS FROM database_name WITH COMMENT` functionality similar to [`SHOW TABLES`]({% link v24.3/show-tables.md %}) and [`SHOW DATABASES`]({% link v24.3/show-databases.md %}). [#127816][#127816]
- The [`deadlock_timeout` session variable]({% link v24.3/session-variables.md %}) is now supported. The configuration can be used to specify the time to wait on a lock before pushing the lock holder for deadlock detection. It can be set at session granularity. [#128506][#128506]
- Partial statistics at extremes can now be collected on all valid columns of a table using the [`CREATE STATISTICS <stat_name>` `FROM <table_name> USING EXTREMES`]({% link v24.3/create-statistics.md %}) syntax, without an `ON <col_name>` clause. Valid columns are all single column prefixes of a forward [index]({% link v24.3/indexes.md %}) excluding partial, sharded, and implicitly partitioned indexes. [#127836][#127836]
- Partial [statistics]({% link v24.3/cost-based-optimizer.md %}#table-statistics) can now be automatically collected at the extremes of indexes when a certain fraction and minimum number of rows are stale (by default 5% and 100 respectively). These can be configured with new [table storage parameters]({% link v24.3/alter-table.md %}#set-andreset-storage-parameters) and [cluster settings]({% link v24.3/cluster-settings.md %}), and the feature is disabled by default. The new cluster settings and table parameters are:
    - `sql.stats.automatic_partial_collection.enabled`/`sql_stats_automatic_partial_collection_enabled`, defaults to `false`.
    - `sql.stats.automatic_partial_collection.min_stale_rows`/`sql_stats_automatic_partial_collection_min_stale_rows`, defaults to `100`.
    - `sql.stats.automatic_partial_collection.fraction_stale_rows `/`sql_stats_automatic_partial_collection_fraction_stale_rows`,  Defaults to `0.05`. [#93067][#93067]
- Session variable [`enforce_home_region_follower_reads_enabled`]({% link v24.3/session-variables.md %}#enforce-home-region-follower-reads-enabled) is now deprecated, and will be removed in a future release. The related session variable [`enforce_home_region`]({% link v24.3/session-variables.md %}#enforce-home-region) is **not** deprecated. [#129024][#129024]
- Added a new [cluster setting]({% link v24.3/cluster-settings.md %}) to control whether most common values are collected as part of [histogram collection]({% link v24.3/cost-based-optimizer.md %}#control-histogram-collection) for use by the [optimizer]({% link v24.3/cost-based-optimizer.md %}). The setting is called `sql.stats.histogram_buckets.include_most_common_values.enabled`. When enabled, the histogram collection logic will ensure that the most common sampled values are represented as histogram bucket upper bounds. Since histograms in CockroachDB track the number of elements equal to the upper bound in addition to the number of elements less, this allows the optimizer to identify the most common values in the histogram and better estimate the rows processed by a query plan. To set the number of most common values to include in a histogram, a second setting `sql.stats.histogram_buckets.max_fraction_most_common_values` was added. Currently, the default is `0.1`, or `10%` of the number of buckets. So with a 200 bucket histogram, by default, at most 20 buckets may be adjusted to include a most common value as the upper bound. [#129378][#129378]
- Added a new column to [`crdb_internal.table_spans`]({% link v24.3/crdb-internal.md %}#tables) to indicate whether a table is [dropped]({% link v24.3/drop-table.md %}). Rows for dropped tables will be removed once they are [garbage collected]({% link v24.3/architecture/storage-layer.md %}#garbage-collection). [#128788][#128788]
- Added the [cluster setting]({% link v24.3/cluster-settings.md %}) `sql.txn.repeatable_read_isolation.enabled`. which defaults to` false`. When set to `true`, the following statements will configure transactions to run under `REPEATABLE READ` isolation, rather than being automatically interpreted as [`SERIALIZABLE`]({% link v24.3/demo-serializable.md %}):
    - `BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ`
    - `SET TRANSACTION ISOLATION LEVEL REPEATABLE READ`
    - `SET default_transaction_isolation = 'repeatable read'`
    - `SET SESSION CHARACTERISTICS AS TRANSACTION ISOLATION LEVEL REPEATABLE READ`
    This setting was added since [`REPEATABLE READ` transactions]({% link v24.3/transactions.md %}#comparison-to-ansi-sql-isolation-levels) are a [preview]({% link v24.3/cockroachdb-feature-availability.md %}) feature, so usage of it is opt-in for v24.3. In a future CockroachDB major version, this setting will change to default to `true`. [#130089][#130089]
- Unified the age filter for [`SHOW JOBS`]({% link v24.3/show-jobs.md %}) and [`SHOW CHANGEFEED JOBS`]({% link v24.3/show-jobs.md %}#show-changefeed-jobs). [#127584][#127584]
- Set the default for session variable [`large_full_scan_rows`]({% link v24.3/session-variables.md %}#large-full-scan-rows) to `0`. This means that by default, [`disallow_full_table_scans`](({% link v24.3/session-variables.md %}#disallow-full-table-scans)) will disallow **all** [full table scans](({% link v24.3/show-full-table-scans.md %})), even full scans on very small tables. If `large_full_scan_rows` is set > 0, `disallow_full_table_scans` will allow full scans estimated to read fewer than `large_full_scan_rows`. [#131040][#131040]
- It is now possible to create PL/pgSQL trigger functions, which can be executed by a trigger in response to table mutation events. Note that this patch does not add support for triggers, only trigger functions. [#126734][#126734]
- Cluster settings enterprise.license and diagnostics.reporting.enabled have additional validation [#131097][#131097]
- The [`SHOW SESSIONS`]({% link v24.3/show-sessions.md %}) command was changed to include an `authentication_method` column in the result. This column will show the method used to authenticate the session, for example, `password`, `cert`, `LDAP`, etc. [#131625][#131625]

<h3 id="v24-3-0-alpha-1-operational-changes">Operational changes</h3>

- [Events]({% link v24.3/eventlog.md %}) `DiskSlownessDetected` and `DiskSlownessCleared` are now logged when disk slowness is detected and cleared on a store. [#127025][#127025]
- Several [cluster settings]({% link v24.3/cluster-settings.md %}) allow you to configure rate-limiting traffic to cloud storage over various protocols. These settings begin with `cloudstorage`. [#127207][#127207]
- The new [cluster setting]({% link v24.3/cluster-settings.md %}) `kv.range.range_size_hard_cap` allows you to limit how large a [range]({% link v24.3/architecture/overview.md %}#architecture-range) can grow before being split. The default is 8 GiB, which is 16 times the default max range size. If you have changed the max range size, you may need to adjust this cluster setting or reduce the range size. [#129450][#129450]
- The following `kvflowcontrol` [metrics]({% link v24.3/metrics.md %}) have been renamed. After a cluster is finalized on v24.3, old and new metrics will be populated. The previous metrics under `kvasdmission.flow_controller` will be removed.

      Old metric names                                                     | New metric names
      ---------------------------------------------------------------------|-----------------
      `kvadmission.flow_controller.(regular|elastic)_tokens_available`     | `kvflowcontrol.tokens.eval.(regular|elastic).available`
      `kvadmission.flow_controller.(regular|elastic)_tokens_deducted`      | `kvflowcontrol.tokens.eval.(regular|elastic).deducted`
      `kvadmission.flow_controller.(regular|elastic)_tokens_returned`      | `kvflowcontrol.tokens.eval.(regular|elastic).returned`
      `kvadmission.flow_controller.(regular|elastic)_tokens_unaccounted`   | `kvflowcontrol.tokens.eval.(regular|elastic).unaccounted`
      `kvadmission.flow_controller.(regular|elastic)_stream_count`         | `kvflowcontrol.streams.eval.(regular|elastic).total_count`
      `kvadmission.flow_controller.(regular|elastic)_blocked_stream_count` | `kvflowcontrol.streams.eval.(regular|elastic).blocked_count`
      `kvadmission.flow_controller.(regular|elastic)_requests_waiting`     | `kvflowcontrol.eval_wait.(regular|elastic).requests.waiting`
      `kvadmission.flow_controller.(regular|elastic)_requests_admitted`    | `kvflowcontrol.eval_wait.(regular|elastic).requests.admitted`
      `kvadmission.flow_controller.(regular|elastic)_requests_errored`     | `kvflowcontrol.eval_wait.(regular|elastic).requests.errored`
      `kvadmission.flow_controller.(regular|elastic)_requests_bypassed`    | `kvflowcontrol.eval_wait.(regular|elastic).requests.bypassed`
      `kvadmission.flow_controller.(regular|elastic)_wait_duration`        | `kvflowcontrol.eval_wait.(regular|elastic).duration`

      [#130167][#130167]
- The new `ranges.decommissioning` [metric]({% link v24.3/metrics.md %}) shows the number of ranges with a replica on a [decommissioning]({% link v24.3/node-shutdown.md %}) node. [#130117][#130117]
- New [cluster settings]({% link v24.3/cluster-settings.md %}) have been added which control the refresh behavior for the cached data in Databases pages of the [DB Console]():
      - `obs.tablemetadatacache.data_valid_duration`: the duration for which the data in `system.table_metadata` is considered valid before a cache reset will occur. Default: 20 minutes.
      - `obs.tablemetadatacache.automatic_updates.enabled`: whether to automatically update the cache according the validity interval. Default: `false`.

      [#130198][#130198]
- New gauge [metrics]({% link v24.3/metrics.md %}) `security.certificate.expiration.{cert-type}` and `security.certificate.ttl.{cert-type}` show the expiration and TTL for a certificate. [#130110][#130110]
- To set the logging format for `stderr`, you can now set the `format` field to any valid format, rather than only `crdb-v2-tty`. [#131529][#131529]
- The following new [metrics]({% link v24.3/metrics.md %}) show connection latency for each SQL authentication method:
      Authentication method | Metric
      ----------------------|-------
      Certificate           | `auth_cert_conn_latency`
      Java Web Token (JWT)  | `auth_jwt_conn_latency`
      Kerberos GSS          | `auth_gss_conn_latency`
      LDAP                  | `auth_ldap_conn_latency`
      Password              | `auth_password_conn_latency`
      SCRAM SHA-256         | `auth_scram_conn_latency`

      [#131578][#131578]

- Verbose logging of slow [Pebble]({% link v24.3/architecture/storage-layer.md %}#pebble) reads can no longer be enabled via the shorthand flag `--vmodule=pebble_logger_and_tracer=2`, where `pebble_logger_and_tracer` contains the CockroachDB implementation of the logger needed by Pebble. Instead, you must list the Pebble files that contain the log statements. For example  `--vmodule=reader=2,table=2`. [#127066][#127066]
- The lowest admission control priority for the storage layer has been renamed from `ttl-low-pri` to `bulk-low-pri`. [#129564][#129564]
- New clusters will now have a zone config defined for the `timeseries` range, which specifies `gc.ttlseconds` and inherits all other attributes from the zone config of the `default` range. This zone config will also be added to a cluster that is [upgraded]({% link v24.3/upgrade-cockroach-version.md %}) to v24.3 if it does not already have a zone config defined.[#128032][#128032]

<h3 id="v24-3-0-alpha-1-command-line-changes">Command-line changes</h3>

- Tsdump to include all the available resolutions in the time range supplied by the user [#127186][#127186]
- A new flag, `--tenant-name-scope`, has been added to the `cert create-client` command. This allows users to generate tenant-scoped client certificates using tenant names in addition to tenant IDs. [#129216][#129216]

<h3 id="v24-3-0-alpha-1-db-console-changes">DB Console changes</h3>

- Adding too large ranges to the problematic ranges page in DB Console. If a range is larger than twice the max range size, it will show up in the problematic ranges page. [#129001][#129001]
- Some metric charts on the overview and replication pages have more terse legends to facilitate easier browsing. [#129149][#129149]
- Changes notification alert icon [#130333][#130333]
- The "Write Too Old (multiple)" metric was rolled into the "Write Too Old" error in a previous release. The metric has now been removed altogether. [#131642][#131642]
- The grants table in the db details page (e.g. when clicking a db in the databases list) will now show the db level grants. Previously it showed grants per table in the db. [#131250][#131250]
- New db pages are available from the side naviation `Databases` link. [#131594][#131594]
- DB Console will reflect any throttling behavior from the cluster due to an expired license or missing telemetry data. Enterprise licenses are not affected. [#131326][#131326]

<h3 id="v24-3-0-alpha-1-bug-fixes">Bug fixes</h3>

- Previously, CockroachDB could incorrectly evaluate `IS NOT NULL` filter if it was applied to non-NULL tuples that had NULL elements (like `(1, NULL)` or `(NULL, NULL)`). The bug is present since 20.2 version and is now fixed. [#126901][#126901]
- Fixed a bug related to displaying the names of composite types in the SHOW CREATE TABLES command. The names are now shown as two-part names, which disambiguates the output and makes it more portable to other databases. [#127158][#127158]
- CONCAT() now accepts arguments of any data type. [#127098][#127098]
- Fixed a bug that prevented merged stats from being created after injecting stats or recreating statement bundles. This would occur when the injected stats/statement bundle contained related full and partial statistics. [#127252][#127252]
- CockroachDB previously could encounter spurious `(error encountered after some results were delivered)` `ERROR: context canceled` errors when evaluating some queries in rare cases. Most likely conditions are: - the query has to be executed locally - have a LIMIT - have at least two UNION clauses - have some lookup / index joins in the UNION branches.  The bug is present since 22.2 and is now fixed. [#127076][#127076]
- Updated restore job description from `RESTORE ... FROM` to `RESTORE FROM {backup} IN {collectionURI}` to reflect the new restore syntax. [#127970][#127970]
- Fixed a bug that could cause a CASE statement with multiple subqueries to produces the side effects of one of the subqueries even if it shouldn't have been evaluated. [#120327][#120327]
- Changed the schema changer’s merge process so that it can detect contention errors and automatically retry with a smaller batch size. This makes the merge process more likely to succeed without needing any manual tuning of settings. [#128201][#128201]
- SHOW CREATE ALL TYPES now shows corresponding type comments in it's output. [#128084][#128084]
- Enforce statement_timeout when waiting for jobs after a schema change in an implict txn. [#128474][#128474]
- Fixes bug in safari where certain dropdowns in db-console appeared to be empty with no options to select from [#128996][#128996]
- Fix a bug that would cause `hlc_to_timestamp` to return an incorrect timestamp for some input decimals. [#129153][#129153]
- Fixes a memory leak where statement insight objects may leak if the session is closed without the transaction finishing. [#128400][#128400]
- Fix bug in the public preview WAL failover feature that could prevent a node from starting if it crashed during a failover. Epic: none. [#129331][#129331]
- Fixed a bug where 'infinity'::timestamp returned a different result than Postgres. [#127141][#127141]
- A spurious error log from queue.go involving " needs lease, not adding" no longer occurs. [#129351][#129351]
- Using more than one DECLARE statment in the definition of a user defined function now correctly declares additional variables. [#129951][#129951]
- Fix a bug in which some SELECT FOR UPDATE or SELECT FOR SHARE queries using NOWAIT could still block on locked rows when using `optimizer_use_lock_op_for_serializable` under Serializable isolation. This bug was present when `optimizer_use_lock_op_for_serializable` was introduced in v23.2.0. [#130103][#130103]
- Addressed a bug in the upgrade pre-condition for repairing descriptor corruption, which could lead to finalization being stuck [#130064][#130064]
- A bug has been fixed that the optimizer to plan unnecessary post-query uniqueness checks during `INSERT`, `UPSERT`, and `UPDATE` statements on tables with partial, unique, hash-sharded indexes. These unnecessary checks added overhead to execution of these statements, and caused the statements to error when executed under read-committed isolation. [#130366][#130366]
- A bug has been fixed that caused incorrect evaluation of `CASE`, `COALESCE`, and `IF` expressions with branches producing fixed-width string-like types, such as `CHAR`. In addition, the `BPCHAR` type has been fixed so that it no longer incorrectly imposes a length limit of 1. [#129007][#129007]
- Fixed a bug where zone configuration changes issued by the declarative schema changer were not blocked if a table had `schema_locked` set. For more information about the declarative schema changer, see: https://www.cockroachlabs.com/docs/stable/online-schema-changes#declarative-schema-changer/. [#130670][#130670]
- Fix bug that could prevent a CHANGEFEED from being able to resume after being paused for prolonged period of time. [#130622][#130622]
- If a connection was attempting a schema change while the same schema objects were being dropped, it was possible for the connection to be incorrectly dropped. [#130928][#130928]
- Fixed a bug introduced in v23.1 that can cause incorrect results when: 1. The query contains a correlated subquery. 2. The correlated subquery has a GroupBy or DistinctOn operator with an    outer-column reference in its input. 3. The correlated subquery is in the input of a Select or Join operator 4. The Select or Join has a filter that sets the outer-column reference from    (2) equal to a non-outer column in the input of the grouping operator. 5. The grouping column set does not include the replacement column, and    functionally determines the replacement column. [#130925][#130925]
- A bug has been fixed which could cause errors with the message "internal error: Non-nullable column ..." when executing statements under read-committed isolation that involve tables with `NOT NULL` virtual columns. [#130725][#130725]
- A bug has been fixed that could cause a very rare internal error "lists in SetPrivate are not all the same length" when executing queries. [#130981][#130981]
- A bug has been fixed that could cause incorrect evaluation of scalar expressions involving `NULL` values in rare cases. [#128123][#128123]
- SHOW CREATE ALL SCHEMAS now shows corresponding schema comments in it's output. [#130164][#130164]
- Fixed a bug introduced in v23.2.0 where creating a new incremental schedule via `ALTER SCHEDULE` on a full backup schedule created on an older version would fail. [#131231][#131231]
- Fixed a bug that could cause an internal error if a table with an implicit (rowid) primary key was locked from within a subquery, like this: ``` SELECT * FROM (SELECT * FROM foo WHERE x = 2) FOR UPDATE; ``` The error could occur either under read-committed isolation, or with `optimizer_use_lock_op_for_serializable` enabled. [#129768][#129768]
- Fixes a bug where jobs created in session with non-zero session timezone offsets could hang before starting or report incorrect creation times when viewed in SHOW JOBS and the console.  Epic: none. [#123632][#123632]
- Fix a bug which could result in changefeeds using cdc queries failing due to a system table being GC'd. [#131027][#131027]
- ALTER COLUMN TYPE now errors out when we have a partial index dependent on the column being altered. [#131590][#131590]

<h3 id="v24-3-0-alpha-1-performance-improvements">Performance improvements</h3>

- Raft log sync callback handling is now parallelized, which can improve write-heavy workload performance on large, single-store nodes. [#126523][#126523]
- Planning time for complex queries has been reduced. [#128049][#128049]
- Reduce the write-amplification impact of rebalances by splitting snapshot sstable files into smaller ones before ingesting them into Pebble. [#127997][#127997]
- Further improves the performance of job-system related queries. [#123848][#123848]
- The query optimizer now plans limited, partial index scans in more cases. [#129901][#129901]
- The initialization of the execution engine for a query is now more efficient when the query plan contains aggregate functions. [#130834][#130834]
- The initialization of the execution engine for a query is now more efficient when the query plan contains aggregate functions. [#130834][#130834]
- Enables multi-level compactions which moderately reduce write amplification within the storage engine. [#131378][#131378]
- Increase the per-vCPU concurrency limits for KV operations.  Specifically, increase `kv.dist_sender.concurrency_limit` to 384/vCPU (up from 64/vCPU) and `kv.streamer.concurrency_limit` to 96/vCPU (up from 8/vCPU). [#131226][#131226]
- The optimizer now plans more efficient lookup joins in some cases. [#131383][#131383]

<h3 id="v24-3-0-alpha-1-build-changes">Build changes</h3>

- Changes the AWS SDK version used for interactions with external storage from v1 to v2. [#129938][#129938]

<h3 id="v24-3-0-alpha-1-miscellaneous">Miscellaneous</h3>

<h4 id="v24-3-0-alpha-1-missing-category">Missing category</h4>

- Non [#131309][#131309]

<h4 id="v24-3-0-alpha-1-changes-without-release-note-annotation">Changes without release note annotation</h4>

- [#131658][#131658] [ce8f20f65][ce8f20f65] Revert "server: add throttle metadata api"
- [#131480][#131480] [1f6ed61f3][1f6ed61f3] hba,rulebasedscanner: handle double quotes in HBA conf option value
- [#130628][#130628] [edc3277f0][edc3277f0] raft: refortify followers if they are not fortified
- [#130628][#130628] [e20bf34fe][e20bf34fe] raft: refortify followers if they are not fortified
- [#131339][#131339] [2c0eb170d][2c0eb170d] drtprod: yaml config for drt clusters
- [#131358][#131358] [070a6f818][070a6f818] backupccl: fix scheduled backup pts pushing race
- [#130646][#130646] [bae534f60][bae534f60] drtprod: yaml config support
- [#131310][#131310] [1e1a96f5f][1e1a96f5f] Add Stephen to Authors.
- [#131255][#131255] [0b0dd7f75][0b0dd7f75] roachtest: reuse Github issues for runtime-assertions failures
- [#131229][#131229] [592ea3a12][592ea3a12] roachprod, aws: simplify zone distribution logic
- [#130255][#130255] [2ce1d771c][2ce1d771c] server: add more info to max-go-limit warning
- [#130079][#130079] [fce0b2dd2][fce0b2dd2] roachtest: UT for test selection
- [#130458][#130458] [be49eae8a][be49eae8a] storage: fix test crash caused by invalid key passed to builtin
- [#130963][#130963] [c92fbc2d8][c92fbc2d8] roachtest, teamcity: publish runner logs to same directory
- [#130963][#130963] [0aca993b5][0aca993b5] roachtest, teamcity: publish runner logs to same directory
- [#130704][#130704] [7494ca5df][7494ca5df] cluster-ui: add region and nodes label component
- [#130907][#130907] [1c574974c][1c574974c] sqlproxyccl: static directory server lists pods when watch starts
- [#130548][#130548] [20fdc6138][20fdc6138] roachtest: Add test owner as a label to the VM
- [#130442][#130442] [557a62f5e][557a62f5e] sqlproxyccl: add ServerlessOnly test helper
- [#130543][#130543] [e7278804e][e7278804e] Revert "orchestration: set version 24.2.1"
- [#130330][#130330] [4a4fcc3ef][4a4fcc3ef] roachtest: test selection is broken due to CategoriseTests returning map
- [#130285][#130285] [141ba3afc][141ba3afc] crosscluster/logical: fix phantom delete handling in kv write path
- [#128796][#128796] [cff3e6924][cff3e6924] sqlproxyccl: skip TestFailedConnection under stress
- [#129923][#129923] [9325dd100][9325dd100] roachprod: enable sync command to accept cloud provider
- [#129628][#129628] [c86c3edab][c86c3edab] docs-issue-generation: added fix for abrupt script failure
- [#129628][#129628] [c129eb960][c129eb960] docs-issue-generation: added fix for abrupt script failure
- [#128785][#128785] [7110e05e4][7110e05e4] roachtest: test selector causes test starvation due to decommissioned tests
- [#129371][#129371] [5c830362c][5c830362c] roachprod: update roachprod-gc.yaml with azure-subscription-names flag
- [#128699][#128699] [37dcd2606][37dcd2606] roachtest: enable runtime assertions in nightlies without metamorphic constants
- [#128699][#128699] [c965ea059][c965ea059] roachtest: enable runtime assertions in nightlies without metamorphic constants
- [#128092][#128092] [f27e2d568][f27e2d568] kv/bulk: check gc threshold in TestDuplicateHandling
- [#129058][#129058] [44a0a3d5d][44a0a3d5d] roachprod: azure GC supports cleanup for multiple subscriptions
- [#127896][#127896] [69da7dee9][69da7dee9] roachtest: use spot VM for all tests
- [#128969][#128969] [7ce7cde3c][7ce7cde3c] roachprod: azure destroy cluster returns error if no resource group was found
- [#128858][#128858] [75fb4faaf][75fb4faaf] roachprod: more clearly log DestroyCluster progress
- [#128114][#128114] [d3a552867][d3a552867] backupccl: always close SSTWriter
- [#128456][#128456] [df9125da3][df9125da3] revertccl: fix race detector flake in TestRevertGCThreshold
- [#128451][#128451] [59dd59fb4][59dd59fb4] roachtest: rerun the test if failed due to VM preemption
- [#128614][#128614] [c99ea362d][c99ea362d] roachtest: revert workload cpu change for all ycsb variants
- [#128137][#128137] [da31b9a66][da31b9a66] workload/schemachange: enable drop column support
- [#127638][#127638] [e06f42d38][e06f42d38] roachtest: Exposes workload duration as env variable
- [#128334][#128334] [b25c77560][b25c77560] roachtest: fix ycsb regression by giving workload node more cpu
- [#128334][#128334] [869ea7a0d][869ea7a0d] roachtest: fix ycsb regression by giving workload node more cpu
- [#127881][#127881] [ae0d27bf5][ae0d27bf5] roachprod: fix the issue with test starvation in test selection
- [#128198][#128198] [f1b05e953][f1b05e953] ldr: send frontier updates to heartbeater
- [#127837][#127837] [6cdc33dd0][6cdc33dd0] roachtest: add RequiresDeprecatedWorkload testSpec
- [#127837][#127837] [d8695ae28][d8695ae28] roachtest: add RequiresDeprecatedWorkload testSpec
- [#127719][#127719] [0b3a803d3][0b3a803d3] Include grunning for s390x.
- [#127719][#127719] [7ea20140f][7ea20140f] Include grunning for s390x.
- [#127701][#127701] [b18b94080][b18b94080] Console: fix sources for network ui graphs
- [#127510][#127510] [66cc5ba0c][66cc5ba0c] roachprod: fix prom service update issue
- [#127806][#127806] [1c6145a1d][1c6145a1d] roachprod: reduce the test rerun time
- [#127830][#127830] [08fb97ebc][08fb97ebc] roachtest: readd erroneously deleted workload run in alterpk-bank
- [#127730][#127730] [0dc9924ce][0dc9924ce] Revert "logictest: add a new file for testing blathers, to be deleted soon"
- [#126506][#126506] [33d0af019][33d0af019] roachtest: refactor tests to use WorkloadNode spec
- [#127375][#127375] [f8cbedd99][f8cbedd99] mixedversion: don't find all predecessors if skip version is not available
- [#127226][#127226] [83a58b5d1][83a58b5d1] roachprod: test selector for aws
- [#127205][#127205] [d160a65d5][d160a65d5] roachtest: fix stdout logging when parallelism=1
- [#127173][#127173] [01788d7dd][01788d7dd] mixedversion: pass in cluster settings when restarting binary
- [#127173][#127173] [92e2e2499][92e2e2499] mixedversion: pass in cluster settings when restarting binary
- [#127063][#127063] [b7b3622a7][b7b3622a7] backupccl: skip backup/assume-role on aws
- [#126987][#126987] [b058d16b2][b058d16b2] build: fix seed corpus for oss-fuzz
- [#126990][#126990] [dfae68d37][dfae68d37] backupccl: deflake backup/assume-role roachtest

<h3 id="v24-3-0-alpha-1-doc-updates">Doc updates</h3>

{% comment %}Docs team: Please add these manually.{% endcomment %}



[#120327]: https://github.com/cockroachdb/cockroach/pull/120327
[#123632]: https://github.com/cockroachdb/cockroach/pull/123632
[#123848]: https://github.com/cockroachdb/cockroach/pull/123848
[#125456]: https://github.com/cockroachdb/cockroach/pull/125456
[#126506]: https://github.com/cockroachdb/cockroach/pull/126506
[#126523]: https://github.com/cockroachdb/cockroach/pull/126523
[#126734]: https://github.com/cockroachdb/cockroach/pull/126734
[#126901]: https://github.com/cockroachdb/cockroach/pull/126901
[#126948]: https://github.com/cockroachdb/cockroach/pull/126948
[#126970]: https://github.com/cockroachdb/cockroach/pull/126970
[#126987]: https://github.com/cockroachdb/cockroach/pull/126987
[#126990]: https://github.com/cockroachdb/cockroach/pull/126990
[#127025]: https://github.com/cockroachdb/cockroach/pull/127025
[#127063]: https://github.com/cockroachdb/cockroach/pull/127063
[#127066]: https://github.com/cockroachdb/cockroach/pull/127066
[#127076]: https://github.com/cockroachdb/cockroach/pull/127076
[#127098]: https://github.com/cockroachdb/cockroach/pull/127098
[#127141]: https://github.com/cockroachdb/cockroach/pull/127141
[#127145]: https://github.com/cockroachdb/cockroach/pull/127145
[#127158]: https://github.com/cockroachdb/cockroach/pull/127158
[#127173]: https://github.com/cockroachdb/cockroach/pull/127173
[#127186]: https://github.com/cockroachdb/cockroach/pull/127186
[#127205]: https://github.com/cockroachdb/cockroach/pull/127205
[#127207]: https://github.com/cockroachdb/cockroach/pull/127207
[#127226]: https://github.com/cockroachdb/cockroach/pull/127226
[#127252]: https://github.com/cockroachdb/cockroach/pull/127252
[#127375]: https://github.com/cockroachdb/cockroach/pull/127375
[#127510]: https://github.com/cockroachdb/cockroach/pull/127510
[#127584]: https://github.com/cockroachdb/cockroach/pull/127584
[#127638]: https://github.com/cockroachdb/cockroach/pull/127638
[#127701]: https://github.com/cockroachdb/cockroach/pull/127701
[#127719]: https://github.com/cockroachdb/cockroach/pull/127719
[#127730]: https://github.com/cockroachdb/cockroach/pull/127730
[#127806]: https://github.com/cockroachdb/cockroach/pull/127806
[#127816]: https://github.com/cockroachdb/cockroach/pull/127816
[#127827]: https://github.com/cockroachdb/cockroach/pull/127827
[#127830]: https://github.com/cockroachdb/cockroach/pull/127830
[#127836]: https://github.com/cockroachdb/cockroach/pull/127836
[#127837]: https://github.com/cockroachdb/cockroach/pull/127837
[#127850]: https://github.com/cockroachdb/cockroach/pull/127850
[#127881]: https://github.com/cockroachdb/cockroach/pull/127881
[#127896]: https://github.com/cockroachdb/cockroach/pull/127896
[#127970]: https://github.com/cockroachdb/cockroach/pull/127970
[#127997]: https://github.com/cockroachdb/cockroach/pull/127997
[#128032]: https://github.com/cockroachdb/cockroach/pull/128032
[#128049]: https://github.com/cockroachdb/cockroach/pull/128049
[#128084]: https://github.com/cockroachdb/cockroach/pull/128084
[#128092]: https://github.com/cockroachdb/cockroach/pull/128092
[#128114]: https://github.com/cockroachdb/cockroach/pull/128114
[#128123]: https://github.com/cockroachdb/cockroach/pull/128123
[#128137]: https://github.com/cockroachdb/cockroach/pull/128137
[#128170]: https://github.com/cockroachdb/cockroach/pull/128170
[#128198]: https://github.com/cockroachdb/cockroach/pull/128198
[#128201]: https://github.com/cockroachdb/cockroach/pull/128201
[#128334]: https://github.com/cockroachdb/cockroach/pull/128334
[#128400]: https://github.com/cockroachdb/cockroach/pull/128400
[#128451]: https://github.com/cockroachdb/cockroach/pull/128451
[#128456]: https://github.com/cockroachdb/cockroach/pull/128456
[#128474]: https://github.com/cockroachdb/cockroach/pull/128474
[#128498]: https://github.com/cockroachdb/cockroach/pull/128498
[#128506]: https://github.com/cockroachdb/cockroach/pull/128506
[#128614]: https://github.com/cockroachdb/cockroach/pull/128614
[#128699]: https://github.com/cockroachdb/cockroach/pull/128699
[#128785]: https://github.com/cockroachdb/cockroach/pull/128785
[#128788]: https://github.com/cockroachdb/cockroach/pull/128788
[#128794]: https://github.com/cockroachdb/cockroach/pull/128794
[#128796]: https://github.com/cockroachdb/cockroach/pull/128796
[#128813]: https://github.com/cockroachdb/cockroach/pull/128813
[#128842]: https://github.com/cockroachdb/cockroach/pull/128842
[#128858]: https://github.com/cockroachdb/cockroach/pull/128858
[#128969]: https://github.com/cockroachdb/cockroach/pull/128969
[#128996]: https://github.com/cockroachdb/cockroach/pull/128996
[#129001]: https://github.com/cockroachdb/cockroach/pull/129001
[#129007]: https://github.com/cockroachdb/cockroach/pull/129007
[#129024]: https://github.com/cockroachdb/cockroach/pull/129024
[#129058]: https://github.com/cockroachdb/cockroach/pull/129058
[#129149]: https://github.com/cockroachdb/cockroach/pull/129149
[#129153]: https://github.com/cockroachdb/cockroach/pull/129153
[#129216]: https://github.com/cockroachdb/cockroach/pull/129216
[#129331]: https://github.com/cockroachdb/cockroach/pull/129331
[#129351]: https://github.com/cockroachdb/cockroach/pull/129351
[#129371]: https://github.com/cockroachdb/cockroach/pull/129371
[#129378]: https://github.com/cockroachdb/cockroach/pull/129378
[#129450]: https://github.com/cockroachdb/cockroach/pull/129450
[#129564]: https://github.com/cockroachdb/cockroach/pull/129564
[#129628]: https://github.com/cockroachdb/cockroach/pull/129628
[#129768]: https://github.com/cockroachdb/cockroach/pull/129768
[#129840]: https://github.com/cockroachdb/cockroach/pull/129840
[#129846]: https://github.com/cockroachdb/cockroach/pull/129846
[#129901]: https://github.com/cockroachdb/cockroach/pull/129901
[#129923]: https://github.com/cockroachdb/cockroach/pull/129923
[#129938]: https://github.com/cockroachdb/cockroach/pull/129938
[#129946]: https://github.com/cockroachdb/cockroach/pull/129946
[#129951]: https://github.com/cockroachdb/cockroach/pull/129951
[#130064]: https://github.com/cockroachdb/cockroach/pull/130064
[#130079]: https://github.com/cockroachdb/cockroach/pull/130079
[#130089]: https://github.com/cockroachdb/cockroach/pull/130089
[#130103]: https://github.com/cockroachdb/cockroach/pull/130103
[#130110]: https://github.com/cockroachdb/cockroach/pull/130110
[#130117]: https://github.com/cockroachdb/cockroach/pull/130117
[#130164]: https://github.com/cockroachdb/cockroach/pull/130164
[#130167]: https://github.com/cockroachdb/cockroach/pull/130167
[#130198]: https://github.com/cockroachdb/cockroach/pull/130198
[#130255]: https://github.com/cockroachdb/cockroach/pull/130255
[#130285]: https://github.com/cockroachdb/cockroach/pull/130285
[#130330]: https://github.com/cockroachdb/cockroach/pull/130330
[#130333]: https://github.com/cockroachdb/cockroach/pull/130333
[#130366]: https://github.com/cockroachdb/cockroach/pull/130366
[#130418]: https://github.com/cockroachdb/cockroach/pull/130418
[#130442]: https://github.com/cockroachdb/cockroach/pull/130442
[#130458]: https://github.com/cockroachdb/cockroach/pull/130458
[#130543]: https://github.com/cockroachdb/cockroach/pull/130543
[#130548]: https://github.com/cockroachdb/cockroach/pull/130548
[#130576]: https://github.com/cockroachdb/cockroach/pull/130576
[#130622]: https://github.com/cockroachdb/cockroach/pull/130622
[#130628]: https://github.com/cockroachdb/cockroach/pull/130628
[#130646]: https://github.com/cockroachdb/cockroach/pull/130646
[#130670]: https://github.com/cockroachdb/cockroach/pull/130670
[#130704]: https://github.com/cockroachdb/cockroach/pull/130704
[#130725]: https://github.com/cockroachdb/cockroach/pull/130725
[#130834]: https://github.com/cockroachdb/cockroach/pull/130834
[#130897]: https://github.com/cockroachdb/cockroach/pull/130897
[#130907]: https://github.com/cockroachdb/cockroach/pull/130907
[#130925]: https://github.com/cockroachdb/cockroach/pull/130925
[#130928]: https://github.com/cockroachdb/cockroach/pull/130928
[#130963]: https://github.com/cockroachdb/cockroach/pull/130963
[#130981]: https://github.com/cockroachdb/cockroach/pull/130981
[#131027]: https://github.com/cockroachdb/cockroach/pull/131027
[#131040]: https://github.com/cockroachdb/cockroach/pull/131040
[#131043]: https://github.com/cockroachdb/cockroach/pull/131043
[#131097]: https://github.com/cockroachdb/cockroach/pull/131097
[#131150]: https://github.com/cockroachdb/cockroach/pull/131150
[#131151]: https://github.com/cockroachdb/cockroach/pull/131151
[#131226]: https://github.com/cockroachdb/cockroach/pull/131226
[#131229]: https://github.com/cockroachdb/cockroach/pull/131229
[#131231]: https://github.com/cockroachdb/cockroach/pull/131231
[#131250]: https://github.com/cockroachdb/cockroach/pull/131250
[#131255]: https://github.com/cockroachdb/cockroach/pull/131255
[#131309]: https://github.com/cockroachdb/cockroach/pull/131309
[#131310]: https://github.com/cockroachdb/cockroach/pull/131310
[#131326]: https://github.com/cockroachdb/cockroach/pull/131326
[#131339]: https://github.com/cockroachdb/cockroach/pull/131339
[#131358]: https://github.com/cockroachdb/cockroach/pull/131358
[#131378]: https://github.com/cockroachdb/cockroach/pull/131378
[#131383]: https://github.com/cockroachdb/cockroach/pull/131383
[#131396]: https://github.com/cockroachdb/cockroach/pull/131396
[#131422]: https://github.com/cockroachdb/cockroach/pull/131422
[#131480]: https://github.com/cockroachdb/cockroach/pull/131480
[#131529]: https://github.com/cockroachdb/cockroach/pull/131529
[#131578]: https://github.com/cockroachdb/cockroach/pull/131578
[#131590]: https://github.com/cockroachdb/cockroach/pull/131590
[#131594]: https://github.com/cockroachdb/cockroach/pull/131594
[#131625]: https://github.com/cockroachdb/cockroach/pull/131625
[#131642]: https://github.com/cockroachdb/cockroach/pull/131642
[#131658]: https://github.com/cockroachdb/cockroach/pull/131658
[#131661]: https://github.com/cockroachdb/cockroach/pull/131661
[#131686]: https://github.com/cockroachdb/cockroach/pull/131686
[#131687]: https://github.com/cockroachdb/cockroach/pull/131687
[#131688]: https://github.com/cockroachdb/cockroach/pull/131688
[#131689]: https://github.com/cockroachdb/cockroach/pull/131689
[#131690]: https://github.com/cockroachdb/cockroach/pull/131690
[#131691]: https://github.com/cockroachdb/cockroach/pull/131691
[#131693]: https://github.com/cockroachdb/cockroach/pull/131693
[#131717]: https://github.com/cockroachdb/cockroach/pull/131717
[#131777]: https://github.com/cockroachdb/cockroach/pull/131777
[#131778]: https://github.com/cockroachdb/cockroach/pull/131778
[#93067]: https://github.com/cockroachdb/cockroach/pull/93067
[01788d7dd]: https://github.com/cockroachdb/cockroach/commit/01788d7dd
[070a6f818]: https://github.com/cockroachdb/cockroach/commit/070a6f818
[08fb97ebc]: https://github.com/cockroachdb/cockroach/commit/08fb97ebc
[0aca993b5]: https://github.com/cockroachdb/cockroach/commit/0aca993b5
[0b0dd7f75]: https://github.com/cockroachdb/cockroach/commit/0b0dd7f75
[0b3a803d3]: https://github.com/cockroachdb/cockroach/commit/0b3a803d3
[0dc9924ce]: https://github.com/cockroachdb/cockroach/commit/0dc9924ce
[141ba3afc]: https://github.com/cockroachdb/cockroach/commit/141ba3afc
[1c574974c]: https://github.com/cockroachdb/cockroach/commit/1c574974c
[1c6145a1d]: https://github.com/cockroachdb/cockroach/commit/1c6145a1d
[1e1a96f5f]: https://github.com/cockroachdb/cockroach/commit/1e1a96f5f
[1f6ed61f3]: https://github.com/cockroachdb/cockroach/commit/1f6ed61f3
[20fdc6138]: https://github.com/cockroachdb/cockroach/commit/20fdc6138
[2c0eb170d]: https://github.com/cockroachdb/cockroach/commit/2c0eb170d
[2ce1d771c]: https://github.com/cockroachdb/cockroach/commit/2ce1d771c
[33d0af019]: https://github.com/cockroachdb/cockroach/commit/33d0af019
[37dcd2606]: https://github.com/cockroachdb/cockroach/commit/37dcd2606
[44a0a3d5d]: https://github.com/cockroachdb/cockroach/commit/44a0a3d5d
[4a4fcc3ef]: https://github.com/cockroachdb/cockroach/commit/4a4fcc3ef
[557a62f5e]: https://github.com/cockroachdb/cockroach/commit/557a62f5e
[592ea3a12]: https://github.com/cockroachdb/cockroach/commit/592ea3a12
[59dd59fb4]: https://github.com/cockroachdb/cockroach/commit/59dd59fb4
[5c830362c]: https://github.com/cockroachdb/cockroach/commit/5c830362c
[66cc5ba0c]: https://github.com/cockroachdb/cockroach/commit/66cc5ba0c
[69da7dee9]: https://github.com/cockroachdb/cockroach/commit/69da7dee9
[6cdc33dd0]: https://github.com/cockroachdb/cockroach/commit/6cdc33dd0
[7110e05e4]: https://github.com/cockroachdb/cockroach/commit/7110e05e4
[7494ca5df]: https://github.com/cockroachdb/cockroach/commit/7494ca5df
[75fb4faaf]: https://github.com/cockroachdb/cockroach/commit/75fb4faaf
[7ce7cde3c]: https://github.com/cockroachdb/cockroach/commit/7ce7cde3c
[7ea20140f]: https://github.com/cockroachdb/cockroach/commit/7ea20140f
[83a58b5d1]: https://github.com/cockroachdb/cockroach/commit/83a58b5d1
[869ea7a0d]: https://github.com/cockroachdb/cockroach/commit/869ea7a0d
[92e2e2499]: https://github.com/cockroachdb/cockroach/commit/92e2e2499
[9325dd100]: https://github.com/cockroachdb/cockroach/commit/9325dd100
[ae0d27bf5]: https://github.com/cockroachdb/cockroach/commit/ae0d27bf5
[b058d16b2]: https://github.com/cockroachdb/cockroach/commit/b058d16b2
[b18b94080]: https://github.com/cockroachdb/cockroach/commit/b18b94080
[b25c77560]: https://github.com/cockroachdb/cockroach/commit/b25c77560
[b7b3622a7]: https://github.com/cockroachdb/cockroach/commit/b7b3622a7
[bae534f60]: https://github.com/cockroachdb/cockroach/commit/bae534f60
[be49eae8a]: https://github.com/cockroachdb/cockroach/commit/be49eae8a
[c129eb960]: https://github.com/cockroachdb/cockroach/commit/c129eb960
[c86c3edab]: https://github.com/cockroachdb/cockroach/commit/c86c3edab
[c92fbc2d8]: https://github.com/cockroachdb/cockroach/commit/c92fbc2d8
[c965ea059]: https://github.com/cockroachdb/cockroach/commit/c965ea059
[c99ea362d]: https://github.com/cockroachdb/cockroach/commit/c99ea362d
[ce8f20f65]: https://github.com/cockroachdb/cockroach/commit/ce8f20f65
[cff3e6924]: https://github.com/cockroachdb/cockroach/commit/cff3e6924
[d160a65d5]: https://github.com/cockroachdb/cockroach/commit/d160a65d5
[d3a552867]: https://github.com/cockroachdb/cockroach/commit/d3a552867
[d8695ae28]: https://github.com/cockroachdb/cockroach/commit/d8695ae28
[da31b9a66]: https://github.com/cockroachdb/cockroach/commit/da31b9a66
[df9125da3]: https://github.com/cockroachdb/cockroach/commit/df9125da3
[dfae68d37]: https://github.com/cockroachdb/cockroach/commit/dfae68d37
[e06f42d38]: https://github.com/cockroachdb/cockroach/commit/e06f42d38
[e20bf34fe]: https://github.com/cockroachdb/cockroach/commit/e20bf34fe
[e7278804e]: https://github.com/cockroachdb/cockroach/commit/e7278804e
[edc3277f0]: https://github.com/cockroachdb/cockroach/commit/edc3277f0
[f1b05e953]: https://github.com/cockroachdb/cockroach/commit/f1b05e953
[f27e2d568]: https://github.com/cockroachdb/cockroach/commit/f27e2d568
[f8cbedd99]: https://github.com/cockroachdb/cockroach/commit/f8cbedd99
[fce0b2dd2]: https://github.com/cockroachdb/cockroach/commit/fce0b2dd2
