## v24.1.26

Release Date: February 19, 2026

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v24-1-26-general-changes">General changes</h3>

- The protected timestamp (PTS) records of running changefeeds are now updated when the set of targets changes, such as when system tables are added to the protected tables list. [#141157][#141157]

<h3 id="v24-1-26-sql-language-changes">SQL language changes</h3>

- Added the `WITH IGNORE_FOREIGN_KEYS` option to `SHOW CREATE TABLE` which omits foreign key constraints from the output schema. This option is also allowed in `SHOW CREATE VIEW`, but has no effect. It cannot be combined with the `WITH REDACT` option. [#142165][#142165]

<h3 id="v24-1-26-operational-changes">Operational changes</h3>

- The `goschedstats.always_use_short_sample_period.enabled` cluster setting should be set to `true` for any serious production cluster; this will prevent unnecessary queuing in admission control CPU queues. [#146742][#146742]

<h3 id="v24-1-26-bug-fixes">Bug fixes</h3>

- Fixed a rare bug in which a query could fail with the error `could not find computed column expression for column in table` while dropping a virtual computed column from a table. This bug was introduced in v23.2.4. [#139874][#139874]
- Fixed a bug that could cause `nil pointer dereference` errors when executing statements with user-defined functions (UDFs). The error could also occur when executing statements with some built-in functions, like `obj_description`. [#141666][#141666]
- Fixed a bug that could cause gateway nodes to panic when performing an `UPSERT` on a table with a `BOOL` primary key column and a partial index that used the primary key column as the predicate expression. [#141825][#141825]
- Fixed a bug that caused changefeeds to fail on startup when scanning a single key. [#143147][#143147]
- MVCC garbage collection is now fully subject to IO admission control. Previously, it was possible for MVCC GC to cause store overload (such as LSM inversion) when a large amount of data would become eligible for garbage collection. Should any issues arise from subjecting MVCC GC to admission control, the `kv.mvcc_gc.queue_kv_admission_control.enabled` cluster setting can be set to `false` to restore the previous behavior. [#143274][#143274]
- Fixed a bug that could leave behind a dangling reference to a dropped role if that role had default privileges granted to itself. The bug was caused by defining privileges such as: `ALTER DEFAULT PRIVILEGES FOR ROLE self_referencing_role GRANT INSERT ON TABLES TO self_referencing_role`. [#143291][#143291]
- Fixed a bug where CockroachDB would encounter an internal error when decoding the gists of plans with `CALL` statements. The bug had been present since v23.2. [#143312][#143312]
- Fixed a bug that could cause a stack overflow during execution of a prepared statement that invoked a PL/pgSQL routine with a loop. The bug existed in versions v23.2.22, v24.1.15, v24.3.9, v25.1.2, v25.1.3, and pre-release versions of v25.2 prior to v25.2.0-alpha.3. [#144029][#144029]
- Fixed a bug where using values `changefeed.aggregator.flush_jitter` and `min_checkpoint_frequency` such that `changefeed.aggregator.flush_jitter * min_checkpoint_frequency < 1` would cause a panic. Jitter will now be disabled in this case. [#144423][#144423]
- Improve the performance of `SHOW CREATE TABLE` on multi-region databases with large numbers of objects. [#145081][#145081]
- A bug where a NULL value could cause a
  parquet export to fail has been fixed. [#145084][#145084]
- Fixed an internal assertion failure that could occur during operations like `ALTER TYPE` or `ALTER DATABASE ... ADD REGION` when temporary tables were present. [#146200][#146200]
- Fixed a bug that prevented `TRUNCATE` from succeeding if any indexes on the table had back-reference dependencies, such as from a view or function referencing the index. [#146322][#146322]
- Fixed a bug that could potentially cause a changefeed to complete erroneously when one of its watched tables encounters a schema change. [#147040][#147040]
- Fixed a bug that caused the SQL Activity > Statement Fingerprint page to fail to load details for statements run with application names containing a `#` character. [#147219][#147219]
- Fixed a bug that could cause the `cockroach` process to `segfault` when collecting runtime execution traces (typically collected via the **Advanced Debug** page in the Console). [#147339][#147339]
- Fixed a bug that could cause stable expressions to be folded in cached query plans. The bug could cause stable expressions like `current_setting` to return the wrong result if used in a prepared statement. The bug was introduced in v23.2.22, v24.1.14, v24.3.9, v25.1.2, and the v25.2 alpha. [#147456][#147456]

<h3 id="v24-1-26-performance-improvements">Performance improvements</h3>

- TTL jobs now respond to cluster topology changes by restarting and rebalancing across available nodes. [#147224][#147224]
- Lookup joins can now be used on tables with virtual columns even if the type of the search argument is not identical to the column type referenced in the virtual column. [#152926][#152926]

<h3 id="v24-1-26-miscellaneous">Miscellaneous</h3>

- When configuring the `sql.ttl.default_delete_rate_limit` cluster setting, a notice is displayed informing the user that the TTL rate limit is per leaseholder per table with a link to the docs. [#142831][#142831]
- When configuring the `sql.ttl.default_delete_rate_limit` cluster setting, a notice is displayed informing that the TTL rate limit is per leaseholder per table with a link to the docs. [#142831][#142831]
- Fixed a rare corruption bug that impacts import and materialized views. [#144659][#144659]


[#142165]: https://github.com/cockroachdb/cockroach/pull/142165
[#143291]: https://github.com/cockroachdb/cockroach/pull/143291
[#142831]: https://github.com/cockroachdb/cockroach/pull/142831
[#141157]: https://github.com/cockroachdb/cockroach/pull/141157
[#141825]: https://github.com/cockroachdb/cockroach/pull/141825
[#144029]: https://github.com/cockroachdb/cockroach/pull/144029
[#145081]: https://github.com/cockroachdb/cockroach/pull/145081
[#147339]: https://github.com/cockroachdb/cockroach/pull/147339
[#144659]: https://github.com/cockroachdb/cockroach/pull/144659
[#139874]: https://github.com/cockroachdb/cockroach/pull/139874
[#141666]: https://github.com/cockroachdb/cockroach/pull/141666
[#143312]: https://github.com/cockroachdb/cockroach/pull/143312
[#146322]: https://github.com/cockroachdb/cockroach/pull/146322
[#147219]: https://github.com/cockroachdb/cockroach/pull/147219
[#146742]: https://github.com/cockroachdb/cockroach/pull/146742
[#143274]: https://github.com/cockroachdb/cockroach/pull/143274
[#144423]: https://github.com/cockroachdb/cockroach/pull/144423
[#145084]: https://github.com/cockroachdb/cockroach/pull/145084
[#146200]: https://github.com/cockroachdb/cockroach/pull/146200
[#147040]: https://github.com/cockroachdb/cockroach/pull/147040
[#147456]: https://github.com/cockroachdb/cockroach/pull/147456
[#147224]: https://github.com/cockroachdb/cockroach/pull/147224
[#143147]: https://github.com/cockroachdb/cockroach/pull/143147
[#152926]: https://github.com/cockroachdb/cockroach/pull/152926
