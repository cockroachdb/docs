## v25.2.11

Release Date: January 9, 2026

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v25-2-11-operational-changes">Operational changes</h3>

- Successfully completed automatic SQL stats collecton jobs are now automatically purged rather than being retained for the full default job retention period. [#159411][#159411]

<h3 id="v25-2-11-bug-fixes">Bug fixes</h3>

- Fixed a bug where a SQL statement with side effects (e.g., `INSERT`) inside a PL/pgSQL routine could be dropped if it used an `INTO` clause and none of the target variables were referenced. This bug had been present since v23.2. [#158344][#158344]
- Attempting to create a vector index with the legacy schema changer will now fail gracefully instead of crashing the node. [#158718][#158718]
- Fixed a bug that could cause incorrect query results when using prepared statements with _NULL_ placeholders. The bug has existed since v21.2 and violated SQL _NULL_-equality semantics by returning rows with _NULL_ values when the result set should have been empty. From v21.2 to v25.3, the bug occurred when all of the following were true:
    - The query was run with an explicit or implicit prepared statement
    - The query had an equality filter on a placeholder and a `UNIQUE` column
    - The column contained _NULL_ values
    - The placeholder was assigned to _NULL_ during execution
  - Starting in v25.4, the requirements to trigger the bug were loosened: the column no longer needed to be `UNIQUE`, and the bug could be reproduced if the column was included in any index. [#159070][#159070]
- Fixed a race condition that could occur during context cancellation of an incoming snapshot. [#159537][#159537]
- Fixed a bug that could cause a panic during changefeed startup if an error occurred while initializing the metrics controller. [#159546][#159546]
- Fixed a bug causing a query predicate to be ignored when the predicate was on a column following one or more `ENUM` columns in an index, the predicate constrained the column to multiple values, and a lookup join to the index was chosen for the query plan. This bug was introduced in v24.3.0 and was present in all versions since. [#159775][#159775]
- Fixed a deadlock that could occur when a statistics creation task panicked. [#160582][#160582]

<h3 id="v25-2-11-performance-improvements">Performance improvements</h3>

- `AFTER` triggers now use a cache for descriptor lookups of `TG_TABLE_SCHEMA`, which can significantly reduce trigger planning latency. [#159387][#159387]
- Added a new session variable, `distsql_prevent_partitioning_soft_limited_scans`, which, when true, prevents scans with soft limits from being planned as multiple `TableReaders` by the physical planner. This should decrease the initial setup costs of some fully-distributed query plans. [#160605][#160605]

[#159411]: https://github.com/cockroachdb/cockroach/pull/159411
[#158344]: https://github.com/cockroachdb/cockroach/pull/158344
[#158718]: https://github.com/cockroachdb/cockroach/pull/158718
[#159775]: https://github.com/cockroachdb/cockroach/pull/159775
[#160582]: https://github.com/cockroachdb/cockroach/pull/160582
[#159070]: https://github.com/cockroachdb/cockroach/pull/159070
[#159537]: https://github.com/cockroachdb/cockroach/pull/159537
[#159546]: https://github.com/cockroachdb/cockroach/pull/159546
[#159387]: https://github.com/cockroachdb/cockroach/pull/159387
[#160605]: https://github.com/cockroachdb/cockroach/pull/160605
