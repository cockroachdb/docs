## v26.1.0-beta.3

Release Date: January 14, 2026

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v26-1-0-beta-3-{{-site.data.products.enterprise-}}-edition-changes">{{ site.data.products.enterprise }} edition changes</h3>

- A new cluster setting,
  `security.provisioning.oidc.enabled`, has been added to allow for the
  automatic provisioning of users when they log in for the first time
  via OIDC. When enabled, a new user will be created in CockroachDB upon
  their first successful OIDC authentication. This feature is disabled
  by default.
  
  On enabling the setting, user gets created on oidc login and can be validated
  using the `SHOW users` command.
  
  ```
     > SELECT * FROM [SHOW USERS] WHERE username = 'testuser';
  
         username    |                     options                     | member_of | estimated_last_login_time
    -----------------+-------------------------------------------------+-----------+----------------------------
      testuser       | {PROVISIONSRC=oidc:https://accounts.google.com} | {}        | NULL
    (1 row)
  
    NOTICE: estimated_last_login_time is computed on a best effort basis; it is not guaranteed to capture every login event
  ``` [#160016][#160016]

<h3 id="v26-1-0-beta-3-sql-language-changes">SQL language changes</h3>

- Changed the default value of the `sql.catalog.allow_leased_descriptors.enabled` cluster setting to `true`. This setting allows introspection tables like `information_schema` and `pg_catalog` to use cached descriptors when building the table results, which improves the performance of introspection queries when there are many tables in the cluster. [#159566][#159566]
- New cluster settings that control the number
  of concurrent automatic statistic collection jobs have been introduced:
  - `sql.stats.automatic_full_concurrency_limit` controls the number of
  auto full statistics collections, 1 by default, matching the behavior
  since introduction of automatic stats collection around v19.2.
  - `sql.stats.automatic_extremes_concurrency_limit` controls the number
  of auto partial USING EXTREMES statistics collections, 128 by default.
  Note that at most one statistics collection can run on a single table. [#159870][#159870]

<h3 id="v26-1-0-beta-3-operational-changes">Operational changes</h3>

- The `kv.range_split.load_sample_reset_duration` cluster setting now defaults to `30m`. This should improve load-based splitting in rare edge cases. [#159677][#159677]

<h3 id="v26-1-0-beta-3-bug-fixes">Bug fixes</h3>

- Fixed an issue where long-running transactions with many statements could cause unbounded memory growth in the SQL statistics subsystem. When a transaction includes a large number of statements, the SQL statistics ingester now automatically flushes buffered statistics before the transaction commits. As a side effect, the flushed statement statistics might not have an associated transaction fingerprint ID because the transaction has not yet completed. In such cases, the transaction fingerprint ID cannot be backfilled after the fact. [#159644][#159644]
- Fixed a bug causing a query predicate to be ignored
  when the predicate is on a column following one or more ENUM columns in an
  index, the predicate constrains the column to multiple values, and a lookup
  join to the index is chosen for the query plan. This bug was introduced in
  24.3.0 and present in all versions since. [#159778][#159778]
- Fixed a deadlock that could occur when a
  statistics creation task panicked.
  
  ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
  
  Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com> [#160422][#160422]
- Fixed a bug that caused rolling back a transaction that
  just rolled back a savepoint to block transactions touching the same
  rows for five seconds. [#160477][#160477]
- CockroachDB could previously crash when handling
  decimals with negative scales via extended PGWire protocol and this has
  been fixed (an error is returned, similar to PG). [#160561][#160561]
- v26.1.0-beta.1 and v26.1.0-beta.2 versions of
  CockroachDB could encounter a rare process crash when running TTL jobs,
  and this has now been fixed. [#160689][#160689]

<h3 id="v26-1-0-beta-3-performance-improvements">Performance improvements</h3>

- Fixed a performance regression in `pg_catalog.pg_roles` and `pg_catalog.pg_authid` by avoiding privilege lookups for each row in the table. [#160228][#160228]
- Add a new session variable,
  `distsql_prevent_partitioning_soft_limited_scans`, which, when true,
  prevents scans with soft limits from being planned as multiple
  TableReaders by the physical planner. This should decrease the initial
  setup costs of some fully-distributed query plans. [#160600][#160600]
- enable setting
  `distsql_prevent_partitioning_soft_limited_scans` by default. [#160600][#160600]

<h3 id="v26-1-0-beta-3-miscellaneous">Miscellaneous</h3>

- Fixes an unlikely bug where import rollback could revert
  writes in an online descriptor. This is not a silent failure. It would
  only occur if the job entered a failed or cancelled state after the
  actual import succeeded and marked the descriptor as on line.
  Fixes: #159603 [#159904][#159904]


[#159677]: https://github.com/cockroachdb/cockroach/pull/159677
[#159778]: https://github.com/cockroachdb/cockroach/pull/159778
[#160477]: https://github.com/cockroachdb/cockroach/pull/160477
[#160228]: https://github.com/cockroachdb/cockroach/pull/160228
[#160016]: https://github.com/cockroachdb/cockroach/pull/160016
[#159566]: https://github.com/cockroachdb/cockroach/pull/159566
[#159870]: https://github.com/cockroachdb/cockroach/pull/159870
[#159644]: https://github.com/cockroachdb/cockroach/pull/159644
[#160422]: https://github.com/cockroachdb/cockroach/pull/160422
[#160561]: https://github.com/cockroachdb/cockroach/pull/160561
[#160689]: https://github.com/cockroachdb/cockroach/pull/160689
[#160600]: https://github.com/cockroachdb/cockroach/pull/160600
[#159904]: https://github.com/cockroachdb/cockroach/pull/159904
