## v26.1.0-beta.1

Release Date: December 17, 2025

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v26-1-0-beta-1-security-updates">Security updates</h3>

- A new flag on the `cockroach start` command enables a `debug_user` with preconfigured access to authenticate for SQL and RPC connections. This is part of a Private Preview and disabled by default, preventing such authentication. It is intended only for debugging and troubleshooting when using the Private Preview feature that allows restricting `root` from login via SQL and RPC connections, while using `debug_user` to access debug details that would have required `root`. [#158963][#158963]

<h3 id="v26-1-0-beta-1-{{-site.data.products.enterprise-}}-edition-changes">{{ site.data.products.enterprise }} edition changes</h3>

- Improved the description of the `changefeed.default_range_distribution_strategy` cluster setting to better explain the available options and their behavior. [#158602][#158602]

<h3 id="v26-1-0-beta-1-sql-language-changes">SQL language changes</h3>

- `crdb_internal.datums_to_bytes` is now available in the `information_schema` system catalog as `information_schema.crdb_datums_to_bytes`. [#156963][#156963]
- The `ALTER COLUMN ...` sequence identity
  commands are run by the declarative schema changer. [#157030][#157030]
- Added support for `EXECUTE SCHEDULE {schedule_id}` to allow immediate execution of a scheduled job. This does not apply to `ALTER BACKUP SCHEDULE`; attempting to execute a backup schedule will result in an error. [#158694][#158694]
- `CREATE TYPE` with composite type syntax now supports array types in field definitions. For example, `CREATE TYPE t AS (a INT[])` and `CREATE TYPE t AS (a INT ARRAY)` now work correctly, matching PostgreSQL behavior. [#158888][#158888]
- Added the `STRICT` option for locality-aware backups. When enabled, backups fail if data from a KV node with one locality tag would be backed up to a bucket with a different locality tag, ensuring data domiciling compliance. [#158999][#158999]
- The `WITH RESOLVED TIMESTAMP` option can be passed to `SHOW JOBS` or `SHOW JOB` to include the resolved timestamp, if any, for the jobs in the output columns. [#159068][#159068]

<h3 id="v26-1-0-beta-1-command-line-changes">Command-line changes</h3>

- You can now specify a user-defined database user when generating `debug zip` and `debug tsdump` files. Use the `--user` and `--url` flags to set the username. Previously, these operations required the root user. This change provides backward compatibility by defaulting the username to `root`. This update is part of an ongoing effort to limit root user access. [#158961][#158961]

<h3 id="v26-1-0-beta-1-bug-fixes">Bug fixes</h3>

- Fixed a bug where modifying a scheduled backup without changing the schedule could cause the next incremental backup to be skipped. [#158820][#158820]
- Fixed a bug that allowed columns to be dropped despite being referenced by a routine. This could occur when a column was only referenced as a target column in the SET clause of an UPDATE statement within the routine. This fix only applies to newly-created routines. In versions prior to v26.1, the fix must be enabled by setting the session variable `prevent_update_set_column_drop`. [#158935][#158935]
- Fixed a bug that caused newly-created routines to incorrectly prevent dropping columns that were not directly referenced, most notably columns referenced by computed column expressions. The fix is gated behind the session setting `use_improved_routine_deps_triggers_and_computed_cols`, which is off by default prior to v26.1. [#158935][#158935]
- Fixed a bug that could cause incorrect query results when using prepared statements with NULL placeholders. The bug has existed since v21.2 and violated SQL NULL-equality semantics by returning rows with NULL values when the result set should have been empty.

    From v21.2 to v25.3, the bug occurred when all of the following were true:

    - The query was run with an explicit or implicit prepared statement
    - The query had an equality filter on a placeholder and a UNIQUE column
    - The column contained NULL values
    - The placeholder was assigned to NULL during execution

    Starting in v25.4, the requirements were loosened: the column no longer needed to be UNIQUE, and the bug could reproduce if the column was included in any index. [#159001][#159001]
- Fixed a bug where the `schema_locked` table storage parameter could be bypassed by combining `SET (schema_locked=false)` with other schema changes in the same `ALTER TABLE` statement using comma syntax. Schema-locked tables now correctly reject such combined statements. [#159017][#159017]

<h3 id="v26-1-0-beta-1-performance-improvements">Performance improvements</h3>

- Triggers now perform the descriptor lookup for `TG_TABLE_SCHEMA` against a cache. This can significantly reduce trigger planning latency in multi-region databases. [#144217][#144217]
- `AFTER` triggers now use a cache for descriptor lookups of `TG_TABLE_SCHEMA`, which can significantly reduce trigger planning latency. [#158708][#158708]


[#158602]: https://github.com/cockroachdb/cockroach/pull/158602
[#158961]: https://github.com/cockroachdb/cockroach/pull/158961
[#159017]: https://github.com/cockroachdb/cockroach/pull/159017
[#158708]: https://github.com/cockroachdb/cockroach/pull/158708
[#158820]: https://github.com/cockroachdb/cockroach/pull/158820
[#159001]: https://github.com/cockroachdb/cockroach/pull/159001
[#144217]: https://github.com/cockroachdb/cockroach/pull/144217
[#158963]: https://github.com/cockroachdb/cockroach/pull/158963
[#156963]: https://github.com/cockroachdb/cockroach/pull/156963
[#158999]: https://github.com/cockroachdb/cockroach/pull/158999
[#159068]: https://github.com/cockroachdb/cockroach/pull/159068
[#158694]: https://github.com/cockroachdb/cockroach/pull/158694
[#158935]: https://github.com/cockroachdb/cockroach/pull/158935
[#157030]: https://github.com/cockroachdb/cockroach/pull/157030
[#158888]: https://github.com/cockroachdb/cockroach/pull/158888
