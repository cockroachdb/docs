## v25.3.6

Release Date: December 12, 2025

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v25-3-6-sql-language-changes">SQL language changes</h3>

- Fixed two cases where creation of a routine
  resolves unnecessary column dependencies, which can prevent drop of the
  column without first dropping the routine. Here, the unnecessary
  dependencies are due to references within CHECK constraints, including
  those for RLS policies and hash-sharded indexes, as well as those in
  partial index predicates. The fix is gated behind the session setting
  `use_improved_routine_deps_triggers_and_computed_cols`, which is off by
  default before 26.1. [#159470][#159470]

<h3 id="v25-3-6-bug-fixes">Bug fixes</h3>

- Fixed a bug that caused routines to prevent
  dropping more columns than necessary, most notably columns referenced
  by computed column expressions. The fix is gated behind the session
  setting `use_improved_routine_deps_triggers_and_computed_cols`, which
  is off by default prior to v26.1. [#159470][#159470]
- Fixed a bug that allowed a column to be dropped from
  its table despite being referenced by a routine. The bug could happen when the
  column was only referenced as a target column in the SET clause of an UPDATE
  statement within the routine. This fix only applies to newly-created routines.
  In versions prior to v26.1, the fix must be enabled by setting the session
  variable `prevent_update_set_column_drop`. [#159470][#159470]


[#159470]: https://github.com/cockroachdb/cockroach/pull/159470
