## v25.3.6

Release Date: December 12, 2025

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v25-3-6-bug-fixes">Bug fixes</h3>

- A mechanism that prevents unsafe replication changes from causing loss of quorum now functions correctly. An internal function has been fixed to properly return errors, enhancing the reliability of replication safeguards. [#156522][#156522]
- Fixed a bug where the "atomic" `COPY` command (controlled via the `copy_from_atomic_enabled` session setting, `true` by default) could encounter `RETRY_COMMIT_DEADLINE_EXCEEDED` transaction errors if the whole command took 1 minute or more. This bug occurred only when the vectorized engine was used for `COPY`. [#156694][#156694]
- Attempting to create a vector index with the legacy schema changer will now fail gracefully instead of crashing the node. [#156781][#156781]
- Fixed a bug that could cause internal errors for queries using generic query plans with `NULL` placeholder values. [#156978][#156978]
- Fixed a bug where CockroachDB could encounter an internal error when evaluating a `COPY FROM` command in a transaction after it was rolled back to a savepoint. The bug was present since before v23.2. [#157038][#157038]
- Fixed a bug where CockroachDB could encounter a `vector encoder doesn't support ForcePut yet` error when executing `COPY` commands concurrently with certain schema changes. The bug had existed since before v23.2. [#157199][#157199]
- Fixed a bug that could cause a schema change to be stuck in the reverting state if the `infer_rbr_region_col_using_constraint` storage parameter was being set at the same time as adding a constraint that had a foreign key violation. [#157843][#157843]

<h3 id="v25-3-6-performance-improvements">Performance improvements</h3>

- The cost of generic query plans is now calculated based on worst-case selectivities for placeholder equalities (e.g., `x = $1`). This reduces the chance of suboptimal generic query plans being chosen when `plan_cache_mode=auto`. [#156791][#156791]

<h3 id="v25-3-6-miscellaneous">Miscellaneous</h3>

- Span config reconciliation jobs no longer fail on the
  destination after failover from a PCR stream of a system virtual cluster. [#156811][#156811]


[#156791]: https://github.com/cockroachdb/cockroach/pull/156791
[#156781]: https://github.com/cockroachdb/cockroach/pull/156781
[#156978]: https://github.com/cockroachdb/cockroach/pull/156978
[#157038]: https://github.com/cockroachdb/cockroach/pull/157038
[#157843]: https://github.com/cockroachdb/cockroach/pull/157843
[#156522]: https://github.com/cockroachdb/cockroach/pull/156522
[#156694]: https://github.com/cockroachdb/cockroach/pull/156694
[#157199]: https://github.com/cockroachdb/cockroach/pull/157199
[#156811]: https://github.com/cockroachdb/cockroach/pull/156811
