## v25.3.1

Release Date: August 29, 2025

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v25-3-1-security-updates">Security updates</h3>

- The following provisioning usability metric
  counters were added for ldap based user provisioning.
  
  * An enablement tracking counter for organizations enabling ldap provisioning
   (`auth.provisioning.ldap.enable`)
  * A counter for number of organizations & tenants which have enabled ldap to
  auto-provision  users(`auth.provisioning.ldap.begin`).
  * A counter for the number of auto-provisioned users
   (`auth.provisioning.ldap.success`).
  * A telemetry counter for number of logins performed by provisioned users
   (`auth.provisioning.login_success`). [#150579][#150579]

<h3 id="v25-3-1-operational-changes">Operational changes</h3>

- Updated TTL job replanning to be less sensitive by focusing specifically on detecting when nodes become unavailable rather than reacting to all plan differences. The cluster setting `sql.ttl.replan_flow_threshold` may have been set to `0` to work around the TTL replanner being too sensitive; this fix will alleviate that and any instance that had set `replan_flow_threshold` to `0` can be reset back to the default. [#151483][#151483]

<h3 id="v25-3-1-bug-fixes">Bug fixes</h3>

- Fixed a bug where the entire schema would become inaccessible if a table was referenced as an implicit record type by a user-defined function (UDF) while the table was undergoing an `IMPORT`. [#150440][#150440]
- Fixed invalid zone configurations that were generated when adding a super region to a 3-region database with a secondary region and region survivability. Previously, this could result in assigning more than the allowed number of replicas. [#150620][#150620]
- Fixed a bug that could cause some errors returned by attempts to upload backup data to external storage providers to go undetected, potentially causing incomplete backups. [#151080][#151080]
- Fixed a memory accounting issue in the client certificate cache that caused multiple allocations to be reported for the same certificate. The cache now accurately tracks memory usage and includes a safeguard to prevent it from negatively affecting SQL operations. [#151136][#151136]
- Previously, CockroachDB could encounter an internal error `trying to add a column of UNKNOWN type at ...` in rare cases when handling `CASE` or `OR` operations. This bug was present since v20.2 and is now fixed. [#151160][#151160]
- Fixed a bug where `debug.zip` files collected from clusters with `disallow_full_table_scans` enabled were missing system table data. [#151247][#151247]
- Fixed a bug where sequences could lose references to triggers, allowing them to be dropped incorrectly. [#151593][#151593]
- Previously, CockroachDB could hit an error `ERROR: span with results after resume span...` when evaluating some queries with `ORDER BY ... DESC` in an edge case. This bug was present since v22.1 and is now fixed. [#152183][#152183]

<h3 id="v25-3-1-miscellaneous">Miscellaneous</h3>

- Upgrade to Go 1.23.11 [#150868][#150868]


[#151160]: https://github.com/cockroachdb/cockroach/pull/151160
[#151593]: https://github.com/cockroachdb/cockroach/pull/151593
[#150868]: https://github.com/cockroachdb/cockroach/pull/150868
[#150440]: https://github.com/cockroachdb/cockroach/pull/150440
[#150620]: https://github.com/cockroachdb/cockroach/pull/150620
[#151136]: https://github.com/cockroachdb/cockroach/pull/151136
[#151247]: https://github.com/cockroachdb/cockroach/pull/151247
[#152183]: https://github.com/cockroachdb/cockroach/pull/152183
[#150579]: https://github.com/cockroachdb/cockroach/pull/150579
[#151483]: https://github.com/cockroachdb/cockroach/pull/151483
[#151080]: https://github.com/cockroachdb/cockroach/pull/151080
