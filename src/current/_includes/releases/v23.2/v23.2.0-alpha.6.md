## v23.2.0-alpha.6

Release Date: November 6, 2023

{% include releases/release-downloads-docker-image.md release=include.release %}

<h3 id="v23-2-0-alpha-6-general-changes">General changes</h3>

- The cockroach docker image is now based on Red Hat's ubi9/ubi-minimal image (instead of ubi8/ubi-minimal). [#112967][#112967]
- Set the default behaviour for `kv.gc.sticky_hint.enabled` cluster setting to enabled since 23.2. The setting is deprecated in 23.2 going forward. [#113040][#113040]

<h3 id="v23-2-0-alpha-6-sql-language-changes">SQL language changes</h3>

- New builtin `jsonb_array_to_string_array` that converts JSONB array to string array. [#112865][#112865]
- The builtin `jsonb_array_to_string_array` returns NULL objects. [#112865][#112865]

<h3 id="v23-2-0-alpha-6-operational-changes">Operational changes</h3>

- Introduce a default-off cluster setting `kv.gc.sticky_hint.enabled` which helps expediting garbage collection after range deletions, such as when a SQL table or index is dropped. [#113040][#113040]
- Debug zip will now collect the active traces of all running/reverting Traceable jobs. At this point this includes restores, imports, backups and physical cluster replication. [#113172][#113172]

<h3 id="v23-2-0-alpha-6-cluster-virtualization">Cluster virtualization</h3>

- The privilege that controls access to CREATE VIRTUAL CLUSTER and other vcluster management syntax is now called MANAGEVIRTUALCLUSTER. [#113076][#113076]

<h3 id="v23-2-0-alpha-6-bug-fixes">Bug fixes</h3>

- Fixed a bug that could prevent RESTORE from working if it was performed during a cluster upgrade. [#112759][#112759]
- Fixed a bug where if we create a trigram index and later display it via SHOW CREATE TABLE, the opclass for this trigram index is not shown. [#113071][#113071]
- CockroachDB previously could incorrectly evaluate lookup and index joins into tables with at least 3 column families in some cases (either "non-nullable column with no value" internal error would occur or the query would return incorrect results), and this is now fixed. The bug was introduced in 22.2. [#113105][#113105]
- ALTER PRIMARY KEY would incorrectly disable secondary indexes while new secondary indexes were being backfilled when using the declarative schema changer. [#112627][#112627]
- The unique_constraint_catalog and unique_constraint_schema columns in information_schema.referential_constraints could be incorrect for cross schema / cross DB references. [#112739][#112739]
- Fixes a bug in a method that was used by some of the jobs observability infrastructure, that could be triggered if a file was overwrriten with a different chunking strategy [#113290][#113290]
- The result of SHOW CREATE for a table that has a collated string column with a default expression was incorrect, since the statement was not parseable. This is now fixed. [#113119][#113119]
- Fix the SQL activity update job to avoid conflicts on update, reduces the amount of data cached to just what the overview page requires, and fix the correctess of the top queries. [#112865][#112865]

<h3 id="v23-2-0-alpha-6-miscellaneous">Miscellaneous</h3>

<h4 id="v23-2-0-alpha-6-changes-without-release-note-annotation">Changes without release note annotation</h4>

- [#113284][#113284] [59986b52e][59986b52e] release-23.2: sql/logictest: skip unreliable mixed version tests (Marcus Gartner <marcus@cockroachlabs.com>)

<h3 id="v23-2-0-alpha-6-doc-updates">Doc updates</h3>

{% comment %}Docs team: Please add these manually.{% endcomment %}

<div class="release-note-contributors" markdown="1">

<h3 id="v23-2-0-alpha-6-contributors">Contributors</h3>

This release includes 70 merged PRs by 28 authors.
We would like to thank the following contributors from the CockroachDB community:

- David Hartunian (first-time contributor, CockroachDB team member)

</div>

[#112627]: https://github.com/cockroachdb/cockroach/pull/112627
[#112739]: https://github.com/cockroachdb/cockroach/pull/112739
[#112759]: https://github.com/cockroachdb/cockroach/pull/112759
[#112865]: https://github.com/cockroachdb/cockroach/pull/112865
[#112967]: https://github.com/cockroachdb/cockroach/pull/112967
[#113040]: https://github.com/cockroachdb/cockroach/pull/113040
[#113071]: https://github.com/cockroachdb/cockroach/pull/113071
[#113076]: https://github.com/cockroachdb/cockroach/pull/113076
[#113105]: https://github.com/cockroachdb/cockroach/pull/113105
[#113119]: https://github.com/cockroachdb/cockroach/pull/113119
[#113172]: https://github.com/cockroachdb/cockroach/pull/113172
[#113284]: https://github.com/cockroachdb/cockroach/pull/113284
[#113290]: https://github.com/cockroachdb/cockroach/pull/113290
[59986b52e]: https://github.com/cockroachdb/cockroach/commit/59986b52e
