## v23.2.0-alpha.1

Release Date: September 26, 2023

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v23-2-0-alpha-1-backward-incompatible-changes">Backward-incompatible changes</h3>

- The pre-v23.1 output produced by `SHOW RANGES`, `crdb_internal.ranges`, and `crdb_internal.ranges_no_leases` was deprecated in 23.1 and is now replaced by default with output that's compatible with coalesced ranges (i.e., ranges that pack multiple tables/indexes/partitions into individual ranges). See the [v23.1 release notes]({% link releases/v23.1.md %}) for `SHOW RANGES` for more details. [#102961][#102961]
- When a deployment is configured to use a time zone (new feature) for log file output using formats `crdb-v1` or `crdb-v2`, it becomes impossible to process the new output log files using the [`cockroach debug merge-logs` command]({% link v23.2/cockroach-debug-merge-logs.md %}) from a previous version. The newest `cockroach debug merge-logs` code must be used instead. [#104265][#104265]
- When customizing the [SQL shell's interactive prompt]({% link v23.2/cockroach-sql.md %}), the special sequence `%M` now expands to the full host name instead of the combination of host name and port number. To include the port number explicitly, use `%>`. The special sequence `%m` now expands to the host name up to the first period. [#105137][#105137]
- The [`cockroach debug zip`]({% link v23.2/cockroach-debug-zip.md %}) command stores data retrieved from SQL tables in the remote cluster using the TSV format by default. [#107474][#107474]
- The [`changefeed.protect_timestamp.max_age` cluster setting]({% link v23.2/protect-changefeed-data.md %}) will only apply to newly created changefeeds in v23.2. For existing changefeeds, you can set the [`protect_data_from_gc_on_pause`]({% link v23.2/create-changefeed.md %}#protect-pause) option so that changefeeds do not experience infinite retries and accumulate protected change data. You can use the [`ALTER CHANGEFEED`]({% link v23.2/alter-changefeed.md %}) statement to add `protect_data_from_gc_on_pause` to existing changefeeds. [#103539][#103539]
- The `changefeed.new_pubsub_sink_enabled` cluster setting is now enabled by default, which improves changefeed throughput. With this setting enabled, the top-level fields in JSON-encoded messages are capitalized: `{Key: ..., Value: ..., Topic: ...}`. After upgrading to CockroachDB v23.2, you may need to reconfigure downstream systems to parse the new message format. If you disable this setting, changefeeds emitting to Pub/Sub sinks with JSON-encoded events have the top-level message fields all lowercase: `{key: ..., value: ..., topic: ...}`.

<h3 id="v23-2-0-alpha-1-security-updates">Security updates</h3>

- Users who have the [`CREATEROLE` role option]({% link v23.2/grant.md %}) can now grant and revoke role membership in any non-admin role. This change also removes the [`sql.auth.createrole_allows_grant_role_membership.enabled` cluster setting]({% link v23.2/cluster-settings.md %}), which was added in v23.1. In v23.2, the cluster setting is effectively always true. [#104376][#104376]

<h3 id="v23-2-0-alpha-1-general-changes">General changes</h3>

- You can now set [Docker]({% link v23.2/start-a-local-cluster-in-docker-mac.md %}) command arguments using the `COCKROACH_ARGS` environment variable. [#98899][#98899]
- Extended the [`/api/v2/nodes` API endpoint](https://www.cockroachlabs.com/docs/api/cluster/v2.html) with a `storeMetrics` field. [#98208][#98208]
- CockroachDB would previously use separate [ranges]({% link v23.2/architecture/distribution-layer.md %}) for each table, index, or partition. This is no longer true. It is possible now to have multiple tables, indexes, and partitions get packed into the same range. For users with many of these schema objects, this will reduce the total range count in their clusters. This is especially true if individual tables, indexes, or partitions are smaller than the default configured maximum range size (controlled using [zone configs]({% link v23.2/zone-config-extensions.md %}), specifically the `range_max_bytes` parameter). We made this change to improve scalability with respect to the number of schema objects, since the underlying range count is now no longer a bottleneck. Users upgrading from v22.2, when finalizing their upgrade, may observe a round of range merges and snapshot transfers (to power said range merges) as a result of this change. If users want to opt-out of this optimization, they can configure the following cluster setting: `SET CLUSTER SETTING spanconfig.storage_coalesce_adjacent.enabled = false;` [#98820][#98820]
- [`EXPORT INTO PARQUET`]({% link v23.2/export.md %}) will now use a new internal implementation for writing Parquet files using the Parquet spec version 2.6. There should be no significant impact to the structure of files being written. There is one minor change: all columns written to Parquet files will be nullable (i.e., the Parquet repetition type is `OPTIONAL`). [#104234][#104234]
- [Spatial libraries]({% link v23.2/spatial-data-overview.md %}) for CockroachDB now rely on GEOS 3.11 instead of GEOS 3.8. [#106642][#106642]
- CockroachDB no longer distributes `libgeos` for the experimental [Windows build]({% link v23.2/install-cockroachdb-windows.md %}). Users can instead install GEOS directly from the source: <https://libgeos.org/usage/download/>. [#106642][#106642]
- The Formatting of byte figures in Pebble logs has been improved. Tools that parse these logs might need updating. [#107392][#107392]
- CockroachDB now has a new [CLI option]({% link v23.2/cockroach-commands.md %}), `--experimental-shared-storage` to rebalance data faster from node to node. [#105839][#105839]
- Fixed a bug where, internally, if we print a 0 decimal with a very low exponent we use excessive memory. This is not possible when using the [DECIMAL]({% link v23.2/decimal.md %}) type, but may be possible when using `crdb_internal` functions. [#110527][#110527]

<h3 id="v23-2-0-alpha-1-{{-site.data.products.enterprise-}}-edition-changes">{{ site.data.products.enterprise }} edition changes</h3>

- The [`kafka_sink_config`]({% link v23.2/advanced-changefeed-configuration.md %}) `Compression` and `RequiredAcks` options are now case-insensitive. [#100929][#100929]
- [Changefeeds]({% link v23.2/change-data-capture-overview.md %}) emit significantly fewer duplicate messages during node and cluster restarts. [#102717][#102717]
- CockroachDB has a new `changefeed.protect_timestamp.max_age` setting (by default 4 days), which will cancel running changefeed jobs if they fail to make forward progress for a period of time. This setting is used if the explicit `gc_protect_expires_after` option is not set. In addition, the `protect_data_from_gc_on_pause` option has been deprecated. This option is no longer needed since changefeed jobs always protect data. [#103539][#103539]
- Changefeeds now officially support the Parquet format using specification version 2.6. It is only usable with the [cloud storage sink]({% link v23.2/changefeed-sinks.md %}#cloud-storage-sink). The syntax to use Parquet is: `CREATE CHANGEFEED FOR foo INTO ... WITH format=parquet`. It supports all standard changefeed options and features including CDC transformations, except it does not support the `topic_in_value` option. [#104528][#104528]
- Changefeeds that create files over an HTTP connection may now be specified using `INTO 'file-https://'` to disambiguate with `webhook-https`. [#107572][#107572]
- The `pgcrypto` [functions]({% link v23.2/functions-and-operators.md %}) `encrypt`, `encrypt_iv`, `decrypt`, and `decrypt_iv` are now implemented. These functions require an enterprise license on a CCL distribution. [#105654][#105654]
- CockroachDB now paces the rangefeed goroutine creation rate to improve scheduler latency. This improves observability by adding an additional column in the `crdb_internal.active_rangefeed` table to indicate if the range is currently in catchup scan mode. [#109346][#109346]

<h3 id="v23-2-0-alpha-1-sql-language-changes">SQL language changes</h3>

- Fixed the helper message on [UPDATE]({% link v23.2/update.md %}) SQL statements to include the optional FROM cause. [#98709][#98709]
- CockroachDB now supports enabling forward [indexes]({% link v23.2/indexes.md %}) and ordering on [JSON]({% link v23.2/jsonb.md %}) values. [#99275][#99275]
- Added a new column `visibility` to `crdb_internal.table_indexes` and `information_schema.statistics`. Also added a new column `visibility` to the output of following SQL statements:

    {% include_cached copy-clipboard.html %}
    ~~~ sql
    SHOW INDEX FROM (table_name);
    ~~~

    ~~~ sql
    SHOW INDEXES FROM (table_name);
    ~~~

    ~~~ sql
    SHOW KEYS FROM (table_name);
    ~~~

    ~~~ sql
    SHOW INDEX FROM DATABASE (database_name);
    ~~~

    ~~~ sql
    SHOW INDEXES FROM DATABASE (database_name);
    ~~~

    ~~~ sql
    SHOW KEYS FROM DATABASE (database_name);
    ~~~

    This new column contains a floating point number specifying the level of visibility of the index, from 0 (not visible) to 1 (fully visible). If the value is between 0 and 1, the index will be visible to the corresponding fraction of queries. [#101334][#101334]

- `ALTER INDEX ... VISIBILITY ...` is now supported. It can change an index visibility to any visibility between 0.0 and 1.0. Visibility 0.0 means the index is not visible to the [optimizer]({% link v23.2/cost-based-optimizer.md %}), while visibility 1.0 means the index is fully visible. A value in the range between 0.0 and 1.0 means the index will be visible to the corresponding fraction of queries. [#87301][#87301]
- CockroachDB now has support for non-aggregate expressions involving columns outside of the grouping columns when the grouping columns include all key columns of a unique index and those key columns are not nullable. [#101675][#101675]
- CockroachDB now supports [`CREATE INDEX ... VISIBILITY ...`]({% link v23.2/create-index.md %}) and [`CREATE TABLE ... (... INDEX (...) VISIBILITY ...)`]({% link v23.2/create-table.md %}). This allows users to set the index visibility to any visibility between 0.0 and 1.0. Visibility 0.0 means the index is not visible to the optimizer, while visibility 1.0 means the index is fully visible. A value in the range between 0.0 and 1.0 means the index will be visible to the corresponding fraction of queries. [#101812][#101812]
- [Row level TTL]({% link v23.2/row-level-ttl.md %}) now supports `DESC` order primary key columns. [#101869][#101869]
- Added the `ST_BdPolyFromText` [built-in]({% link v23.2/functions-and-operators.md %}#spatial-functions) which copies the behavior of the PostGIS function. Takes in only a multilinestring geometry and returns a polygon. It will return an error if anything other than a multilinestring is input, and will return an error if internally a multipolygon is created for some reason. `NULL` inputs also return `NULL`. [#102708][#102708]
- [`SHOW SCHEDULES`]({% link v23.2/show-schedules.md %}) now shows the schedule options with which the schedules were created. `SHOW SCHEDULES FOR BACKUP` additionally shows if the schedule is a full or incremental backup schedule. [#102890][#102890]
- You can no longer use `PREPARE` with [`EXPLAIN ANALYZE`]({% link v23.2/explain-analyze.md %}) statements. Previously, this was allowed, but attempts to `EXECUTE` the prepared `EXPLAIN ANALYZE` statements would result in an error. [#103259][#103259]
- `ttl_expiration_expression` now allows stable operators and functions. This allows intervals to be directly added to `TIMESTAMPTZ` expressions. See <https://www.postgresql.org/docs/15/xfunc-volatility.html>. [#102974][#102974]
- CockroachDB now allows `INSERT` commands in [UDF]({% link v23.2/user-defined-functions.md %}) statement bodies. [#102773][#102773]
- CockroachDB now allows `UPDATE` and `UPSERT` commands in UDF statement bodies. [#102773][#102773]
- The `READ COMMITTED` [isolation level]({% link v23.2/transactions.md %}#isolation-levels) is now supported. It can be used in the following ways:

  - When starting a transaction, use `BEGIN ISOLATION LEVEL READ COMMITTED`.
  - After starting a transaction, but before performing reads or writes, use `SET TRANSACTION ISOLATION READ COMMITTED`.
  - Configure it as the default isolation level using the `default_transaction_isolation` session variable. To see the isolation level of the currently running transaction, use either `SHOW TRANSACTION ISOLATION LEVEL` or `SHOW transaction_isolation`.

    [#103482][#103482]

- Added version gates which require all nodes in a given cluster to have a minimum binary version number, which in turn is required for creating forward indexes on JSON columns and for ordering JSON columns. [#101932][#101932]
- CockroachDB now allows `DELETE` commands in UDF statement bodies. [#103531][#103531]
- Added a new cluster setting `sql.auth.public_schema_create_privilege.enabled` which controls whether users receive [`CREATE` privileges]({% link v23.2/grant.md %}) on the public schema or not. The setting applies at the time that the public schema is created, which happens whenever a database is created. The setting is `true` by default. [#103598][#103598]
- [`EXPLAIN (DDL)`]({% link v23.2/explain.md %}) statements now have descriptor, index, column, constraint, and other ID values decorated with names when available. There is now also a new `EXPLAIN (DDL, SHAPE)` statement that provides information on costly operations planned by the declarative schema changer, like which index backfills and validations will get performed. [#103930][#103930]
- A new statistic `KV pairs read` is now exposed on [`EXPLAIN ANALYZE`]({% link v23.2/explain-analyze.md %}) output in some cases (when this number is different from the `KV rows read` statistic or when the `VERBOSE` option is requested). This new statistic is also added to the telemetry sampled query events. [#104079][#104079]
- The `KV rows read` statistic in `EXPLAIN ANALYZE` output has been renamed to `KV rows decoded` to better reflect its meaning. [#104079][#104079]
- Table names are now allowed in `SELECT` lists inside [view]({% link v23.2/views.md %}) and UDF definitions. [#104929][#104929]
- [`SHOW JOB WITH EXECUTION DETAILS`]({% link v23.2/show-jobs.md %}) for a backup job will regenerate the DistSQL plan diagram with per-node and per-processor progress information. This will help users better understand the state of a running backup job. [#103145][#103145]
- The `crdb_internal.node_transactions` and `crdb_internal.cluster_transactions` tables now have columns for `isolation_level`, `priority`, and `quality_of_service`. [#105009][#105009]
- The [`SHOW RANGES`]({% link v23.2/show-ranges.md %}) command will now emit span statistics when the `DETAILS` option is specified. The statistics are included in a new column named `span_stats`, as a `JSON` object. The statistics are calculated for the identifier of each row. `SHOW RANGES WITH DETAILS` will compute span statistics for each range. `SHOW RANGES WITH TABLES, DETAILS` will compute span statistics for each table, and so on. The `span_stats` `JSON` object has the following keys:

  - `approximate_disk_bytes`
  - `[key|val|sys|live|intent]_count`
  - `[key|val|sys|live|intent]_bytes`

    `approximate_disk_bytes` is an approximation of the total on-disk size of the given object.

    `key_count` is the number of meta keys tracked under `key_bytes`. `key_bytes` is the number of bytes stored in all non-system point keys, including live, meta, old, and deleted keys. Only meta keys really account for the "full" key; value keys only for the timestamp suffix.

    `val_count` is the number of meta values tracked under `val_bytes`. `val_bytes` is the number of bytes in all non-system version values, including meta values.

    `sys_count` is the number of meta keys tracked under `sys_bytes`. `sys_bytes` is the number of bytes stored in system-local key-value pairs. This tracks the same quantity as (`key_bytes` + `val_bytes`), but for system-local metadata keys (which aren't counted in either `key_bytes` or `val_bytes`).

    `live_count` is the number of meta keys tracked under `live_bytes`. `live_bytes` is the number of bytes stored in keys and values which can in principle be read by means of a Scan or Get in the far future, including intents but not deletion tombstones (or their intents). Note that the size of the meta key-value pair (which could be explicit or implicit) is included in this. Only the meta key-value pair counts for the actual length of the encoded key (regular pairs only count the timestamp suffix).

    `intent_count` is the number of keys tracked under `intent_bytes`. It is equal to the number of meta keys in the system with a non-empty Transaction proto. `intent_bytes` is the number of bytes in intent key-value pairs (without their meta keys).

    [#103128][#103128]

- Introduced the `pg_lsn` data type, which is used to store the `lsn` associated with replication. [#105031][#105031]
- Users now can issue one [`ALTER TABLE` statement]({% link v23.2/alter-table.md %}) with a combination of any number of `ADD COLUMN`, any number of `DROP COLUMN`, one `ALTER PRIMARY KEY`, and any number of `ADD CONSTRAINT` clauses. For example, with this PR, we now support statements like:

    {% include_cached copy-clipboard.html %}
    ~~~ sql
    CREATE TABLE t (i INT PRIMARY KEY, j INT NOT NULL, k INT NOT NULL);  ALTER TABLE t ADD COLUMN p INT DEFAULT 30, ALTER PRIMARY KEY USING COLUMNS (j), DROP COLUMN k, ADD CHECK (i > 0);
    ~~~

    [#99526][#99526]

- Added the ability to add numeric values to LSNs, or sub a decimal value from a LSN. [#105326][#105326]
- Implemented the `pg_lsn - pg_lsn = decimal` built-in function, which subtracts 2 LSNs to return a decimal. [#105326][#105326]
- Added limited support for scalar PL/pgSQL functions. Supported statements are variable declarations, variable assignments, `IF` statements, simple `LOOP` statements (with no conditions), `EXIT` and `CONTINUE` statements, and `RETURN` statements. [#104755][#104755]
- Implemented the spatial built-in `ST_AsMVTGeom`. [#105530][#105530]
- `Pg_class`'s `relreplident` field was previously unpopulated. It is now populated with `d` for all tables (as each table has a primary key) and `n` otherwise. [#106242][#106242]
- Added the `pg_sequence_last_value` built-in function, which returns the last value generated by the sequence. [#106445][#106445]
- [`RESTORE`]({% link v23.2/restore.md %}) can now be passed a `WITH EXECUTION LOCALITY` option similar to [`BACKUP`]({% link v23.2/backup.md %}), to restrict execution of the job to nodes with matching localities. [#104439][#104439]
- Added the `REPLICATION` user role option, which allows a user to use the streaming replication protocol. There is a corresponding [`REPLICATION` system privilege]({% link v23.2/grant.md %}). [#106082][#106082]
- A new view-only [session variable]({% link v23.2/session-variables.md %}), `max_connections` was added. This can be used with `SHOW` to view the maximum amount of non-superuser SQL connections allowed at a given time. [#106952][#106952]
- Added the `nameconcatoid` built-in function, which concatenates a name with an OID. [#105944][#105944]
- The `pg_catalog.pg_language` table is now populated with data about the languages used to define functions. [#105944][#105944]
- The `information_schema.routines` view is now populated with information about functions. [#105944][#105944]
- The `information_schema.parameters` table is now populated with information about function parameters. [#105944][#105944]
- Added support for the PLpgSQL `RAISE` statement, which allows sending notices to the client and raising errors. Currently the notice is only sent to the client. Support for logging notices will be added in a future release. [#106351][#106351]
- The `public` pseudo-role now receives the `EXECUTE` privilege by default for all user-defined functions that are created. This can be adjusted by using `ALTER DEFAULT PRIVILEGES`. [#107317][#107317]
- The `crdb_interanal.node_statement_statistics` table redacts the error message if the user has the `VIEWACTIVITYREDACTED` privilege, and does not redact the error message if the user has `VIEWACTIVITY`. If the user has both, `VIEWACTIVITYREDACTED` takes precedence and the last error is redacted. [#107076][#107076]
- The `crdb_internal.cluster_locks` table now has a `isolation_level` column indicating the isolation level. [#107309][#107309]
- In `CommonSQLExecDetails`, which is emitted as part of the SQL audit logs, SQL exec logs, and telemetry events, there is a new field: `StmtPosInTxn`. It represents the statement's index in the transaction, starting at 1. [#107081][#107081]
- `cluster_logical_timestamp` now returns an error when called at isolation levels lower than `SERIALIZABLE`. [#107090][#107090]
- `EXPLAIN ANALYZE` output now includes:

  - The isolation level of the statement's transaction.
  - The priority of the statement's transaction.
  - The quality of service level of the statement's transaction.

    [#105857][#105857]

- Added a new session variable, `enable_implicit_fk_locking_for_serializable`, which controls locking during foreign key checks under `SERIALIZABLE` isolation. With this set to `true`, foreign key checks of the referenced (parent) table, such as those performed during an `INSERT` or `UPDATE` of the referencing (child) table, will lock the referenced row using `SELECT FOR SHARE` locking. This is somewhat analogous to the existing `enable_implicit_select_for_update` variable but applies to the foreign key checks of a mutation statement instead of the initial row fetch. Under weaker isolation levels such as read committed, `SELECT FOR SHARE` locking will always be used to ensure the database maintains the foreign key constraint, regardless of the current setting of `enable_implicit_fk_locking_for_serializable`. [#105857][#105857]
- Add a new session variable, `enable_durable_locking_for_serializable`, which controls locking durability under `SERIALIZABLE` isolation. With this set to true, `SELECT FOR UPDATE` locks, `SELECT FOR SHARED` locks, and constraint check locks (e.g., locks acquired during foreign key checks if `enable_implicit_fk_locking_for_serializable` is set to `true`) will be guaranteed-durable under serializable isolation, meaning they will always be held to transaction commit. These locks are always guaranteed-durable under weaker isolation levels. By default, under serializable isolation these locks are best-effort rather than guaranteed-durable, meaning in some cases (e.g., leaseholder transfer, node loss, etc.) they could be released before the transaction commits. Serializable isolation does not rely on locking for correctness, only using it to improve performance under contention, so this default is a deliberate choice to avoid the performance overhead of lock replication. [#107749][#107749]
- The cluster setting `server.cpu_profile.enabled` has been removed. `server.cpu_profile.cpu_usage_combined_threshold` can enable and disable CPU profiling. [#107717][#107717]
- Added support for `CONSTANT` variable declarations in PLpgSQL routines. Any assignment to a variable declared with the `CONSTANT` keyword will raise a compile-time error. [#107682][#107682]
- Added a new syntax to `SHOW DEFAULT PRIVILEGES`, `SHOW DEFAULT PRIVILEGES FOR GRANTEE <grantee>`, that shows the default privileges that a grantee received. [#107953][#107953]
- The Statement diagnostics feature has been extended to support collecting a bundle for a particular plan. Namely, the existing fingerprint-based matching has been extended to also include plan-gist-based matching. Such bundles will miss a couple of things: `plan.txt` file as well as the tracing of the optimizer. At the moment, the feature is only exposed via an overload to the `crdb_internal.request_statement_bundle` built-in function. We now also support "anti-match": collecting a bundle for any plan other than the provided plan gist. [#105477][#105477]
- [`SHOW BACKUP`]({% link v23.2/show-backup.md %})'s timestamp columns are now `TIMESTAMPTZ`, meaning they render in the session offset. [#108290][#108290]
- Attempting to [drop a column]({% link v23.2/alter-table.md %}#drop-column) when safe updates are enabled (`sql_safe_updates = on`) now additionally warns users that indexes referencing that column will be automatically dropped. [#108047][#108047]
- `NOTICE`s are now emitted for each index dropped by an `ALTER TABLE ... DROP COLUMN ...` statement. [#108047][#108047]
- `SHOW JOBS` now returns times (`created`, `last_run`, and so on) using the `TIMESTAMPTZ` column type instead of the `TIMESTAMP` type, meaning they are now rendered using the session offset. [#108353][#108353]
- Added a cluster setting `sql.schema.force_declarative_statements` to enable/disable DDL in the [declarative schema changer]({% link v23.2/online-schema-changes.md %}#declarative-schema-changer). [#107815][#107815]
- Added the new built-in functions `workload_index_recs()` and `workload_index_recs(TIMESTAMPTZ)`, which return workload level index recommendations (columns of string, each string represent an index recommendation) from statement level index recommendations (as candidates) in `system.statement_statistics`. If the `TIMESTAMPTZ` is given, it will only consider those candidates generated after that `TIMESTAMPTZ` value. [#106525][#106525]
- Added support for specifying PLpgSQL `IF` statements with `ELSIF` branches. [#108211][#108211]
- The admin API database details endpoint now returns authoritative range statistics. [#108037][#108037]
- Added the `max_retries_for_read_committed` session variable. It defaults to 10, and determines the number of times an individual statement in an explicit `READ COMMITTED` transaction will be retried if it encounters a retryable transaction error. [#107044][#107044]
- Added support for the execution of PLpgSQL functions with exception blocks. This allows a PLpgSQL function to catch and handle arbitrary errors it encounters during its execution. [#107601][#107601]
- Added the built-in functions `bitmask_or`, `bitmask_and` and `bitmask_xor` for variable-length input bitwise `OR`, `AND`, and `XOR` operations, respectively. [#107863][#107863]
- The `oidvectortypes` built-in has been implemented, which can format `oidvector`. [#108467][#108467]
- Added support for executing SQL statements directly within PLpgSQL routines. Note that this currently only applies to the subset of statements that can be executed within SQL UDFs, so `CREATE TABLE` is not supported, for example. `INTO` syntax is also supported. For example, `SELECT * INTO a, b FROM xy;`. [#107920][#107920]
- A SQL client can now request strict atomicity for mixed DDL/DML transactions with the new session variable `strict_ddl_atomicity`, which defaults to `false`. When this variable is set to `true`, CockroachDB will refuse to accept processing those specific DDL statements inside `BEGIN...COMMIT` for which it cannot guarantee atomic processing (other DDL statements are still allowed). Note that schema changes implicit in certain operations (e.g., `IMPORT`) are not protected via the new mechanism and can still fail with `XXA00` errors. [#42063][#42063]
- Fixed an issue where the UI was missing query text and details on the SQL Activity [Transactions page]({% link v23.2/ui-transactions-page.md %}) if there were more than 500 transactions or statements. The `statement_activity` table now includes all statements for a transaction that are in the `transaction_activity` table. [#109424][#109424]
- Added the [`VIEWSYSTEMTABLE` system privilege]({% link v23.2/grant.md %}). Users with this privilege have `SELECT` privileges for all tables in the system database. [#109474][#109474]
- The `statement_activity` and `transaction_activity` tables column `execution_total_cluster_seconds` is now accurate. The `combinedstmts` endpoint returns the correct value for the `StmtsTotalRuntimeSecs` and `TxnsTotalRuntimeSecs` properties. [#109592][#109592]
- The `persistedsqlstats` table maximum size check is now done once an hour instead of every 10 minutes. This reduces the risk of serialization errors on the statistics tables. [#109696][#109696]
- The deprecated session variable `idle_in_session_timeout` is now hidden from introspection. It was previously changed to `idle_session_timeout`. [#109872][#109872]
- The session variable `ssl` is now visible through introspection for better compatibility with PostgreSQL. [#109872][#109872]
- The session variable `session_user` is now invisible through introspection, in a way consistent with `session_authorization` and PostgreSQL. [#109872][#109872]
- There is now a `CREATEROLE` system privilege, which is analogous to the existing `CREATEROLE` role option, but can also be inherited by role membership. [#109258][#109258]
- Added the `gen_random_bytes` built-in function, which generates cryptographically secure random bytes. [#110107][#110107]
- The hash function used by [hash-sharded indexes]({% link v23.2/hash-sharded-indexes.md %}) was changed to `mod(fnv32(md5(crdb_internal.datums_to_bytes(columns))), bucket_count)`. Previously, it did not use `md5`. This change was made to enhance the uniformity of bucket distribution in cases when the bucket count is a power of 2, and the columns being sharded have numerical properties that make the `fnv32` function return values with a non-uniformly distributed modulus. [#109374][#109374]
- New datetime built-ins (`make_date`, `make_timestamp`, and `make_timestamptz`) have been added, allowing for the creation of timestamps, timestamps with time zones, and dates. In addition, `date_trunc` now allows for a timestamp to be truncated in a specified timezone (to a specified precision). [#108824][#108824]
- There is now a `CREATELOGIN` system privilege, which is analogous to the existing `CREATELOGIN` role option, but can also be inherited by role membership. [#110220][#110220]
- There is now a `CREATEDB` system privilege, which is analogous to the existing `CREATEDB` role option, but can also be inherited by role membership. [#110220][#110220]
- There is now a `CONTROLJOB` system privilege, which is analogous to the existing `CONTROLJOB` role option, but can also be inherited by role membership. [#110220][#110220]
- The `persistedsqlstats` table maximum size check is now done once an hour instead of every 10 minutes. This reduces the risk of serialization errors on the statistics tables. [#110173][#110173]
- The new [cluster setting](https://www.cockroachlabs.com/docs/v23.2/cluster-settings) `sql.txn.read_committed_syntax.enabled`, controls whether transactions run under `READ COMMITTED` or `SERIALIZABLE` isolation. It defaults to `false`. When set to `true`, the following statements will configure transactions to run under `READ COMMITTED` isolation:

  - `BEGIN TRANSACTION ISOLATION LEVEL READ COMMITTED`
  - `SET TRANSACTION ISOLATION LEVEL READ COMMITTED`
  - `SET default_transaction_isolation = 'read committed'`
  - `SET SESSION CHARACTERISTICS AS TRANSACTION ISOLATION LEVEL READ COMMITTED`

    [#110624][#110624]

- The [cluster setting](https://www.cockroachlabs.com/docs/v23.2/cluster-settings) `sql.metrics.statement_details.gateway_node.enabled` now defaults to false, to reduce the number of rows generated in SQL Statistics pages. [#107788][#107788]
- The default value for the [`ttl_job_cron`](https://cockroachlabs.com/docs/v23.2/row-level-ttl) table storage parameter is now `@daily` rather than `@hourly`. This parameter controls the default recurrence of the row-level TTL job. As part of this change, the output of the `SHOW CREATE TABLE` statements now include the `ttl_cron_job` parameter only if it is explicitly set. [#110623][#110623]

<h3 id="v23-2-0-alpha-1-operational-changes">Operational changes</h3>

- Removed a timeseries metric that has not been reported for several versions. [#100524][#100524]
- Added two new metrics, `range.snapshots.(send|recv)-queue-bytes`, to track the total size of all snapshots waiting in the snapshot queue. [#100942][#100942]
- Exposed a new metric `storage.compactions.duration`, computed by the storage engine, that provides the cumulative time the storage engine has spent in compactions. This duration may exceed time elapsed, because of concurrent compactions, and may be useful in monitoring compaction concurrency. [#103670][#103670]
- Two new store metrics, `range.snapshots.cross-region.sent-bytes` and `range.snapshots.cross-region.rcvd-bytes`, were added to track the aggregate of snapshot bytes sent from and received at a store across different regions. Note that these metrics require the nodes' localities to include a “region” tier key. If a node lacks this key but is involved in cross-region batch activities, an error message will be logged. [#104111][#104111]
- Added new store metrics to track the aggregate of snapshot bytes sent from and received at a store across different zones.

  - `range.snapshots.cross-zone.sent-bytes`
  - `range.snapshots.cross-zone.rcvd-bytes`

    For accurate metrics, follow these recommendations:

    - Configure region and zone tier keys consistently across nodes.
    - Within a node locality, ensure unique region and zone tier keys.
    - Maintain consistent configuration of region and zone tiers across nodes.

    [#104417][#104417]

- Added new store metrics:

    - `raft.rcvd.bytes`
    - `raft.sent.bytes`
    - `raft.rcvd.cross_region.bytes`
    - `raft.sent.cross_region.bytes`
    - `raft.rcvd.cross_zone.bytes`
    - `raft.sent.cross_zone.bytes`

    [#105122][#105122]

- Added new DistSender metrics:

  - `distsender.batch_requests.replica_addressed.bytes`
  - `distsender.batch_responses.replica_addressed.bytes`
  - `distsender.batch_requests.cross_region.bytes`
  - `distsender.batch_responses.cross_region.bytes`
  - `distsender.batch_requests.cross_zone.bytes`
  - `distsender.batch_responses.cross_zone.bytes`.

    [#103963][#103963]

- Added new Node metrics:

  - `batch_requests.bytes`
  - `batch_responses.bytes`
  - `batch_requests.cross_region.bytes`
  - `batch_responses.cross_region.bytes`
  - `batch_requests.cross_zone.bytes`
  - `batch_responses.cross_zone.bytes`

    [#104585][#104585]

- Added new RPC metrics to help you to diagnose RPC connection issues:

  - `grpc.connection.avg_round_trip_latency`
  - `rpc.connection.failures`
  - `rpc.connection.healthy`
  - `rpc.connection.healthy_nanos`
  - `rpc.connection.heartbeats`
  - `rpc.connection.unhealthy`
  - `rpc.connection.unhealthy_nanos`

    [#99191][#99191]

- Added a new metric `changefeed.lagging_ranges` that shows the number of ranges which are behind in changefeeds. This metric can be used with the `metrics_label` changefeed option. Added a new [changefeed option](https://cockroachlabs.com/docs/v23.2/create-changefeed) `lagging_ranges_threshold`, which is the amount of time a range needs to be behind to be considered lagging. By default this is 3 minutes. Added a new option `lagging_ranges_polling_interval`, which controls how often the lagging ranges calculation is done. This setting defaults to polling every 1 minute.  Note that polling adds latency to the metric being updated. For example, if a range falls behind by 3 minutes, the metric may not update for an additional minute afterwards. Also note that ranges undergoing an initial scan for longer than the threshold are considered to be lagging. Starting a changefeed with an initial scan on a large table will likely increment the metric for each range in the table. However, as ranges complete the initial scan, the number of ranges will decrease. [#109835][#109835]
- A histogram metric `raft.replication.latency` was added. It tracks the time between evaluation and application of the command. This includes time spent in the quota pool, in replication (including re-proposals) as well as log application, but notably *not* sequencing latency (i.e., contention and latch acquisition). [#106094][#106094]
- The default Raft scheduler concurrency cap has been increased from 96 to 128 workers, scaling with 8 workers per CPU up to the cap. The scheduler concurrency can be controlled using the `COCKROACH_SCHEDULER_CONCURRENCY` environment variable. [#105521][#105521]
- The new cluster setting `server.hot_ranges_request.node.timeout` controls the maximum amount of time that a hot ranges request will spend waiting for a node to provide a response. It defaults to 5 minutes. To disable timeouts, set it to `0`. [#107796][#107796]
- Two new cluster settings control whether intent resolution is subject to admission control: `kv.intent_resolver.send_immediately.bypass_admission_control.enabled` and `kv.intent_resolver.batch.bypass_admission_control.enabled`. [#109932][#109932]
- The new cluster setting `admission.l0_min_size_per_sub_level` reduces the probability of [admission control]({% link v23.2/admission-control.md %}) throttling when there is a sequence of small `memtable` flushes or small files ingested into L0. [#109332][#109332]
- The new cluster setting `kv.intent_resolver.batcher.in_flight_backpressure_limit.enabled` controls whether an in-flight RPC limit is enforced on intent resolution RPCs. It defaults to `false`. [#109899][#109899]
- [`BACKUP`]({% link v23.2/backup.md %}) now skips contacting the ranges for tables on which `exclude_data_from_backup` is set, and can thus succeed even if an excluded table is unavailable. [#108627][#108627]
- Span stats requests will return a partial result if the request encounters any errors. Errors that would have previously terminated the request are now included in the response. [#108456][#108456]
- The rangefeed closed timestamp interval controlled by `kv.rangefeed.closed_timestamp_refresh_interval` now defaults to 3 seconds. This affects how often rangefeeds emit resolved timestamps, and thus how often changefeeds can emit checkpoints. Previously, its default value of 0 would fall back to `kv.closed_timestamp.side_transport_interval`, which defaults to 200 milliseconds. Users who rely on the setting `kv.closed_timestamp.side_transport_interval` to control the rangefeed closed timestamp interval should make sure they either set `kv.rangefeed.closed_timestamp_refresh_interval` to 0 to retain the old behavior (preferably before upgrading), or to an appropriate value. [#108667][#108667]
- The default value of `timeout` for `http-servers` [logging sinks]({% link v23.2/configure-logs.md %}#configure-log-sinks) has been changed from `0` (i.e., "no timeout") to `2s`. This is reflected in the `http-defaults` section of the log configuration. Users still maintain the ability to override the timeout, or disable it by explicitly setting it to `0` (e.g. `timeout: 0`). [#109264][#109264]
- [Changefeed]({% link v23.2/change-data-capture-overview.md %}) metrics now include a `changefeed.checkpoint_progress` metric which is similar to `changefeed.max_behind_nanos` but supports metrics labels, as well as a `changefeed.aggregator_progress` metric which can track the progress of individual aggregators (the lowest timestamp for which all aggregators with the label have emitted all values they're responsible for). [#108757][#108757]
- Added support for Prometheus native histograms behind an environment variable flag. [#104302][#104302]
- Requests for database details or table details from the UI, or usages of [`SHOW RANGES WITH DETAILS`]{% link v23.2/show-ranges.md %} are no longer subject to errors if the number of requested spans is too large. [#109464][#109464]
- The [`cockroach debug zip`]({% link v23.2/cockroach-debug-zip.md %}) command now has an option to omit goroutine stack dumps. This impacts the creation of `nodes/*/stacks.txt` and `nodes/*/stacks_with_labels.txt` within debug ZIP bundles. Users can opt to exclude these goroutine stacks by using the `--include-goroutine-stacks=false` flag.  Note that fetching stack traces for all goroutines is a "stop-the-world" operation, which can momentarily have negative impacts on SQL service latency. Note also that any periodic goroutine dumps previously taken on the node will still be included in `nodes/*/goroutines/*.txt.gz`, as these would have already been generated and don't require any stop-the-world operations. [#110177][#110177]
- New rangefeed metrics help to troubleshoot rangefeed restarts. The metric names have the format `distsender.rangefeed.retry.{reason}`. [#109346][#109346]
- Rangefeeds regularly attempt to push long-running transactions to a future timestamp in order to emit checkpoints. The interval at which this is attempted has been increased from 250 milliseconds to 1 seconds. This is now configurable via the environment variable `COCKROACH_RANGEFEED_PUSH_TXNS_INTERVAL`. [#110332][#110332]

<h3 id="v23-2-0-alpha-1-cluster-virtualization">Cluster virtualization</h3>

When cluster virtualization is enabled:

- A selection box displays in DB Console Metrics pages when you are connected to the system virtual cluster, and allows you to view metrics for a specific virtual cluster. [#103308][#103308]
- A "no data" empty graph state has been added when switching to a virtual cluster with no data. [#103971][#103971]
- A selection box displays on custom charts in the DB Console and allows you to select a specific virtual cluster. [#103780][#103780]
- The name of the virtual cluster, when known, is now reported in logging events. [#108807][#108807]
- When `cockroach debug zip` is run for a cluster with virtualization enabled, data about virtual clusters is now stored in a `virtual` subdirectory rather than a `tenants` subdirectory. [#106117][#106117]
- When cluster virtualization is enabled, the following closed timestamp side-transport settings can be set only from the system virtual cluster: `kv.closed_timestamp.target_duration`, `kv.closed_timestamp.side_transport_interval`, and `kv.closed_timestamp.lead_for_global_reads_override`. [#108678][#108678]

<h3 id="v23-2-0-alpha-1-command-line-changes">Command-line changes</h3>

- The CLI commands that output SQL data now support the JSON output format (`--format=json`), in addition to newline-delimited JSON (ND-JSON, `--format=ndjson`) that had been supported since v22.2. [#102595][#102595]
- [`cockroach debug zip`]({% link v23.2/cockroach-debug-zip.md %}) now supports the command-line flag `--format` to select the format used to store SQL table data, in the same way as [`cockroach sql`]({% link v23.2/cockroach-sql.md %}). In contrast to `cockroach sql` however, its default value is `json` (resulting in files named `.json`) and the default is not dependent on whether the terminal is interactive. [#102607][#102607]
- The SQL shell now supports argument quoting for client-side commands in a similar way to `psql`: inside single quotes, `\` can escape characters and recognize octal/hexadecimal sequences; and inside double quotes characters are passed through. The quote characters themselves, when doubled, result in themselves as part of the string.

    For example, the following commands both result in a SQL prompt that says `go "world"`:

    {% include_cached copy-clipboard.html %}
    ~~~ shell
    \set prompt1 'go "world"'
    \set prompt1 go' '"world"
    ~~~

    To add color to the prompt:

    {% include_cached copy-clipboard.html %}
    ~~~ shell
    \set prompt1 '\033[34mmydb>\033[m'
    ~~~

    These quoting rules are similar to PostgreSQL, but are different from the rules used by POSIX shells and of other programming languages like Python or Go. For example, octal and hex escape sequences support a variable number of digits, and double quoted strings preserve the surrounding quotes. When in doubt, refer to the PostgreSQL documentation.

    [#104610][#104610]

- The configuration for log output sinks now accepts a new `format-options` field. This can be used to customize the output of a given format. Each format accepts different options.  One available option for the `json` output format is `datetime-format`.

    For example:

    {% include_cached copy-clipboard.html %}
    ~~~ yaml
    sinks:
      fluent-groups:
        custom-json:
          format: json
          format-options: {datetime-format: rfc3339}
    ~~~


    This introduces a (new) field `datetime` in each output JSON event, with the format specified by the option. As of this writing, the following values are documented:

  - `none`: disable the creation of the `datetime` field. This is the default value.
  - `iso8601` / `rfc3339`: format the time stamp like "2006-01-02T15:04:05.999999999Z".
  - `rfc1123`: format the time stamp like "Mon, 02 Jan 2006 15:04:05 +0000".

    Enabling the `datetime` field introduces CPU overhead and is not recommended. When using output to a log collector such as Fluent or Datadog, the log collector can be configured to transform the timestamp provided by CockroachDB without requiring participation from CockroachDB itself. When inspecting a log file containing JSON output produced by CockroachDB, the command `cockroach debug merge-log` can consume the JSON data and reformat it using the `crdb-v2` format which also includes the date and time using the RFC3339 format. [#104265][#104265]

- The `json` log output format now recognizes the extra format option `datetime-timezone` which selects which timezone to use when formatting the `datetime` field. `datetime-timezone` must be combined with `datetime-format` because the default value for the latter option is `none` (i.e., `datetime` is not produced by default). For example:

    {% include_cached copy-clipboard.html %}
    ~~~ yaml
    sinks:
      fluent-groups:
        custom-json:
          format: json
          format-options: {datetime-format: rfc3339, datetime-timezone: America/New_York}
    ~~~

    [#104265][#104265]

- The `json` log format now recognizes the format options `tag-style` and `fluent-tag`. The existing formats `json-compact`, `json-fluent`, `json-fluent-compact` have been redefined to become aliases for `json` with different defaults for the two new options. [#104265][#104265]
- The `crdb-v1` log format now recognizes the format options `show-counter` and `colors`. The existing formats `crdb-v1-tty`, `crdb-v1-count`, `crdb-v1-tty-count` have been redefined to become aliases for `crdb-v1` with different defaults for the two new options. [#104265][#104265]
- The `crdb-v2` log format now recognizes the format option `colors`. The existing formats `crdb-v2-tty` has been redefined to become aliases for `crdb-v2` with a different default for the new option. [#104265][#104265]
- The log output formats `crdb-v1` and `crdb-v2` now support the format option `timezone`. When specified, the corresponding time zone is used to produce the timestamp column. For example:

    {% include_cached copy-clipboard.html %}
    ~~~ yaml
    file-defaults:
        format: crdb-v2
        format-options: {timezone: america/new_york}
    ~~~

    Example logging output:

    ~~~
    I230606 12:43:01.553407-040000 1 1@cli/start.go:575 ⋮ [n?] 4  soft memory limit of Go runtime is set to 35 GiB                        ^^^^^^^ indicates GMT-4 was used
    ~~~

    The timezone offset is also always included in the format if it is not zero (e.g., for non-UTC time zones). This is necessary to ensure that the times can be read back precisely. [#104265][#104265]

- The command `cockroach debug merge-log` was adapted to understand time zones in input files read with format `crdb-v1` or `crdb-v2`. [#104265][#104265]
- When customizing the SQL interactive prompt, `%M` and `%m` now behave more like `psql` when connecting over a Unix datagram socket. [#105137][#105137]
- The default value of the `--format` parameter to `cockroach debug zip` is `tsv`, like other CLI commands that can extract SQL data. [#107474][#107474]
- The `debug.zip` now includes the `crdb_internal.probe_range` table with a limit of 100 rows to prevent the query from taking too long. [#107720][#107720]
- The default value for the `--max-sql-memory` parameter of the [`cockroach demo` command]({% link v23.2/cockroach-demo.md %}) has been increased from 128 MiB to 256 MiB. [#103642][#103642]
- The command `\demo recommission` has been removed from [`cockroach demo`]({% link v23.2/cockroach-demo.md %}). It had been obsolete and non-functional ever since v20.2. [#108566][#108566]
- Added limited `statement_statistics` to the debug ZIP file. [#108210][#108210]
- The following user-visible cluster settings have been renamed. The previous name is still available for backward compatibility.

    | Previous name | New name |
    |---------------|----------|
    | `server.web_session_timeout` | `server.web_session.timeout`|
    | `kv.closed_timestamp.follower_reads_enabled` | `kv.closed_timestamp.follower_reads.enabled`|
    | `kv.range_split.by_load_enabled`| `kv.range_split.by_load.enabled` |
    | `changefeed.balance_range_distribution.enable` | `changefeed.balance_range_distribution.enabled`|
    | `changefeed.batch_reduction_retry_enabled` | `changefeed.batch_reduction_retry.enabled` |
    | `server.clock.forward_jump_check_enabled` | `server.clock.forward_jump_check.enabled` |
    | `server.oidc_authentication.autologin` | `server.oidc_authentication.autologin.enabled` |
    | `sql.metrics.statement_details.dump_to_logs` | `sql.metrics.statement_details.dump_to_logs.enabled` |
    | `sql.trace.log_statement_execute` | `sql.log.all_statements.enabled` |
    | `trace.debug.enable`| `trace.http_debug_endpoint.enabled`|

    [#109074][#109074]

- The following cluster settings have been renamed. The previous names are available for backward-compatibility.

    | Previous name | New name |
    |---------------|----------|
    | `spanconfig.tenant_coalesce_adjacent.enabled` | `spanconfig.range_coalescing.application.enabled` |
    | `spanconfig.storage_coalesce_adjacent.enabled` | `spanconfig.range_coalescing.system.enabled`|

    [#109077][#109077]

- The new `cockroach gen metric-list` command generates metadata that describes the various metrics collected by an idle server. The list does not include dynamic metric names whose names are generated based on the workload. [#109042][#109042]

<h3 id="v23-2-0-alpha-1-db-console-changes">DB Console changes</h3>

- The time window selection for metrics charts is now encoded in the URL via query params. [#101258][#101258]
- The [Job Details page]({% link v23.2/ui-jobs-page.md %}#job-details) now has a tabbed UI that will allow users to toggle between the Overview and other future views for advanced debugging and observability. [#102737][#102737]
- Renamed "recent executions" to "active executions" in the UI. [#103784][#103784]
- The [Changefeed Dashboard]({% link v23.2/ui-cdc-dashboard.md %}) has been updated with new graphs to track backfill progress, protected timestamps age, and the number of schema registry registrations. The updates include renaming the **Sink Byte Traffic** graph to **Emitted Bytes** and the **Max Changefeed Latency** graph to **Max Checkpoint Latency**. [#101790][#101790]
- A new **Networking** tab has been added to the DB Console metrics dashboard. Metrics for network bytes sent and received are now displayed in the **Networking** tab rather than the **Hardware** tab. In addition, the following metrics have been added:

  - `cr.node.round-trip-latency-p50`
  - `cr.node.round-trip-latency-p99`
  - `cr.node.rpc.connection.unhealthy`

  [#104394][#104394]

- The Job Details page now has a profiler tab for more advanced observability into a job's execution. Currently, we support collecting a cluster-wide CPU profile of the job. [#103945][#103945]
- The active executions views in the SQL Activity pages now support toggling between automatic and manual refresh. A manual refresh button was also added along with a timestamp indicating when the last refresh was performed. [#103786][#103786]
- The visibility of the cluster setting `ui.display_timezone` has been set to public. Documentation of the cluster setting has been added. No functionality has been changed. [#106530][#106530]
- Added a table in the Profiler job details page that lists all the available files describing a job's execution details [#106879][#106879]
- Add columns for p50, p90, p99 percentiles and latency min and max on Explain Plan tab on the [Statement Execution Details page]({% link v23.2/ui-statements-page.md %}#statement-execution-details-page). [#107719][#107719]
- Fixed a broken query for the database details page that was causing an infinite loading state. [#107893][#107893]
- Added summary cards with total/average values for statistics on the Statement Execution Details page. [#109056][#109056]
- The DB Console now Shows a warning when the time period selected on SQL Activity pages is older than the oldest data available. [#109164][#109164]
- Users without the `VIEWCLUSTERSETTINGS` permission but with `VIEWACTIVITY` or `VIEWACTIVITYREDACTED` can now see index recommendations. [#109047][#109047]
- The DB Console now allows non-admin users to view the [Databases page]({% link v23.2/ui-databases-page.md %}). [#109245][#109245]
- Non-admin users are able to use the Database Details page. [#109432][#109432]
- Non-admin users are able to use the Database Table page. [#109521][#109521]
- The "SQL Connection Rate" metric on the [SQL Dashboard]({% link v23.2/ui-sql-dashboard.md %}) is downsampled using the MAX function instead of SUM. This improves situations where zooming out would cause the connection rate to increase for downsampled data. [#110391][#110391]


<h3 id="v23-2-0-alpha-1-bug-fixes">Bug fixes</h3>

- Fixed an internal error that can occur when [`CREATE OR REPLACE VIEW`]({% link v23.2/create-view.md %}) replaces a view with fewer columns and another entity depended on the view. [#99057][#99057]
- If views are created with circular dependencies, CockroachDB now returns an error (`cyclic view dependency for relation`) instead of crashing the node. This bug was present since at least 21.1. [#99174][#99174]
- Fixed a potential bug whereby a failed or cancelled [IMPORT]({% link v23.2/import.md %}) could in some cases leave some of the imported rows behind after it was cancelled, in the rare event that the writing processes were slow enough to continue writing after the cleanup process started. [#97071][#97071]
- Fixed a very rare bug that could cause keys to get unexpectedly deleted when rebalances occurred in a write-heavy workload. [#102164][#102164]
- It is now possible to properly redirect the output of SQL queries using the `ndjson` output table format in [`cockroach sql`]({% link v23.2/cockroach-sql.md %}). This bug had been introduced in v22.2. [#102595][#102595]
- The `unaccent` built-in [function]({% link v23.2/functions-and-operators.md %}) no longer removes spaces. [#103819][#103819]
- The details of errors pertaining to invalid descriptors are not included any more in redacted debug ZIP files. [#104050][#104050]
- Fixed a bug where join expressions were processed incorrectly. [#103782][#103782]
- Fixed a bug that could cause a [UDF]({% link v23.2/user-defined-functions.md %}) to return a value that does not conform to the return type of the UDF. This bug was only present for UDFs that return user-defined types. The bug was present since v23.1. [#104151][#104151]
- Fixed a bug where if a user was logged in while a different session dropped that user, the dropped user would still inherit privileges from the `public` role. Now, CockroachDB checks that the user exists before allowing it to inherit privileges from the `public` role. In addition, any active web sessions are now revoked when a user is dropped. [#104215][#104215]
- Fixed a bug in upstream `etcd-io/raft` which could result in pulling unlimited amount of logs into memory, and lead to out-of-memory errors. Now the log scan has a limited memory footprint. [#104483][#104483]
- Fixed a bug where, in rare circumstances, a [replication](https://cockroachlabs.com/docs/v23.2/architecture/replication-layer) could get stuck when proposed near lease or leadership changes, especially under overload, and the [replica circuit breakers]([../v23.2](https://cockroachlabs.com/docs/v23.2/architecture/replication-layer#per-replica-circuit-breakers) could trip. A previous attempt to fix this issue has been reverted in favor of this fix. [#106515][#106515]
- CockroachDB now automatically deletes statistics for dropped tables from the `system.table_statistics` table. [#105364][#105364]
- Fixed a rare internal error which occurs when a query uses a "project set" operation involving simple column expressions. [#104756][#104756]
- The [Raft]({% link v23.2/architecture/replication-layer.md %}#raft) `PreVote` and `CheckQuorum` mechanisms are now fully enabled. These prevent spurious elections when followers already have an active leader, and cause leaders to step down if they don't hear back from a quorum of followers. This improves reliability under partial and asymmetric network partitions, by avoiding spurious elections and preventing unavailability where a partially partitioned node could steal leadership away from an established leaseholder who would then no longer be able to reach the leader and submit writes. [#104042][#104042]
- Fixed a bug that could produce incorrect values for [virtual computed columns]({% link v23.2/computed-columns.md %}) in rare cases. The bug only occurred when the virtual column expression's type did not match the type of the virtual column. [#105736][#105736]
- Fixed a rounding error that could cause distributed execution for some decimal aggregate functions to return slightly inaccurate results in rare cases. [#105694][#105694]
- Fixed the `StatementStatistics.Nodes` to contain all of the nodes involved in the query. Fixed the region info in [`EXPLAIN ANALYZE (DISTSQL)`]({% link v23.2/explain-analyze.md %}) for virtual clusters. [#106587][#106587]
- Fixed a bug that caused [backups]({% link v23.2/take-full-and-incremental-backups.md %}) to fail if there are tables and functions of the same name. [#106626][#106626]
- Fixed edge cases in decimal and float evaluation for division operators. `'NaN'::DECIMAL / 0` will now return `NaN` instead of a division-by-zero error, and `0 / 'inf'::DECIMAL` will return `0` instead of `0E-2019`. [#106472][#106472]
- Fixed a bug present since before v22.2 that could cause a query with `LIMIT` and `ORDER BY` to return results in the wrong order. This bug could cause incorrect results as well if the `LIMIT` was nested within an outer query (e.g., under another `LIMIT`). [#106717][#106717]
- Added missing `SQLInstanceIDs` used to execute the statement to the telemetry `SampledQuery` event. [#106753][#106753]
- Fixed a bug where inserting geometries into a table with an inverted index involving a NaN coordinate could result in a panic. This now produces errors instead. [#106671][#106671]
- Avoid displaying `undefined` regions on the [Databases page]({% link v23.2/ui-databases-page.md %}). [#106778][#106778]
- The [`cockroach userfile upload` command]({% link v23.2/cockroach-userfile-upload.md %}) uses less memory when uploading a file. [#106056][#106056]
- `CASE`, `IF`, `COALESCE`, and `IFNULL` expressions now return an error when passed a generator function as an argument. This mirrors the behavior of PostgreSQL. [#105582][#105582]
- Fixed a bug that allowed views created with `CREATE OR REPLACE VIEW` to reference user-defined types in other databases, even with `sql.cross_db_views.enabled` set to `false`. This bug was present since user-defined types were introduced in v20.1. [#106869][#106869]
- Removed a source of unnecessary Raft snapshots during replica movement. [#106793][#106793]
- Fixed a bug where in rare situations nodes would get stuck during start-up. It would manifest itself through a stack frame sitting on a select in `waitForAdditionalStoreInit` for extended periods of time (i.e., minutes). [#107124][#107124]
- Fixed a bug that caused internal errors when using an aggregate function in an `ORDER BY` clause of a [`DELETE`]({% link v23.2/delete.md %}) or [`UPDATE`]({% link v23.2/update.md %}) statement. Aggregate functions are no longer allowed in these contexts. The bug has been present since at least v20.2. [#107641][#107641]
- The filter on the [Statements page]({% link v23.2/ui-statements-page.md %}) works when application name is an empty string. [#107750][#107750]
- The [Transaction Details page]({% link v23.2/ui-transactions-page.md %}#transaction-details-page) now loads with the fingerprint details even if no application is specified in the URL. [#107742][#107742]
- The [Schema Insights page]({% link v23.2/ui-insights-page.md %}#schema-insights-tab) no longer times out. [#107292][#107292]
- The last SQL statement in a user-defined function with a `VOID` return type can now produce any number of columns of any type. This bug was present since UDFs were introduced in v22.2. [#108299][#108299]
- Fixed a bug that caused nodes to crash when attempting to `EXECUTE` a prepared statement with an argument that referenced a user-defined function. This bug was present since user-defined functions were introduced in v22.2. [#108213][#108213]
- Fixed a bug where a release [save point]({% link v23.2/savepoint.md %}) could incorrectly emit a "cannot publish new versions for descriptors" error instead of a retryable error. [#108133][#108133]
- Users with the `VIEWACTIVITY` privilege now are able to see other users sessions from both the CLI and the DB Console. [#106590][#106590]
- Fixed a bug in [`cockroach demo`]({% link v23.2/cockroach-demo.md %}) whereby `\demo add` could sometimes crash with an error "`index out of range [...] with length ...`". This bug had been introduced in v19.x. [#108566][#108566]
- Fixed a bug introduced in v20.2 where the command `\demo decommission` in `cockroach demo` could leave the demo cluster in a broken state. [#108566][#108566]
- Fixed a bug where [`cockroach start`]({% link v23.2/cockroach-start.md %}) would sometimes incorrectly hang upon shutting down a server after encountering an internal error. This bug had been introduced some time in v22.x. [#108612][#108612]
- Fixed a bug in the index recommendations provided in the [`EXPLAIN`]({% link v23.2/explain.md %}) output where `ALTER INDEX ... VISIBLE` index recommendations may suggest making the wrong index visible when there are multiple invisible indexes in a table. [#108576][#108576]
- Users with the [`VIEWACTIVITY` privilege]({% link v23.2/grant.md %}) can now view correct values for timezones. [#108486][#108486]
- Fixed a bug present since v23.1.0 that would cause queries on the `pg_catalog.pg_statistic_ext` table to fail if a table was dropped recently. This bug also caused the `\d` CLI shortcut to encounter errors. [#108818][#108818]
- Fixed a bug where `pg_attribute` and `pg_attrdef` did not properly return results for generated columns. [#108964][#108964]
- Fixed a bug where a `SpanStatsRequest` would return post-replicated MVCC stats. Now, a `SpanStatsRequest` returns the logical MVCC stats for the requested span. [#108852][#108852]
- Fixed the column name on the selects on the tables `crdb_internal.node_txn_execution_insights` and `crdb_internal.cluster_txn_execution_insights` upon the creation of `debug.zip`. [#109444][#109444]
- Fixed the type resolution logic for `CASE` statements to more closely match Postgres' logic. In particular, we now adhere to rule 5 listed in the [PostgreSQL documentation](https://www.postgresql.org/docs/current/typeconv-union-case.html), which requires that we select the first non-unknown input type as the candidate type, then consider each other non-unknown input type, left to right (`CASE` treats its `ELSE` clause (if any) as the "first" input, with the `THEN` clauses(s) considered after that). If the candidate type can be implicitly converted to the other type, but not vice-versa, select the other type as the new candidate type. Then continue considering the remaining inputs. If, at any stage of this process, a preferred type is selected, stop considering additional inputs (note that CockroachDB does not yet support the concept of a "preferred type"). [#108387][#108387]
- Fixed an issue on the [Metrics page]({% link v23.2/ui-overview-dashboard.md %}) where no metrics would load when viewing metrics for a virtual cluster with a hyphenated name in a global context. [#109174][#109174]
- Fixed a potential livelock between a high-priority transactional read and a normal-priority write. The read pushes the timestamp of the write, but if the read gets pushed as well, it may repeatedly fail to refresh because it keeps encountering the intent of the write. [#108190][#108190]
- Fixed a nil dereference panic during node startup that could be caused by an incorrect initialization order. [#109659][#109659]
- The `difference` built-in had its return type incorrectly set to a string instead of an integer. [#109731][#109731]
- Fixed a bug that could cause a transaction performing multiple parallel foreign key checks to return a `concurrent txn use detected` error. [#109510][#109510]
- Fixed a bug causing performance regression when disabling `sql.metrics.statement_details.enabled` which caused execution stats to be collected for all queries instead of the default one percent. [#109785][#109785]
- Fixed a bug where certain SQL session variables meant to be hidden from introspection were showing up in `information_schema.session_variables`, which was incoherent with the handling in `pg_catalog.pg_settings`. [#109872][#109872]
- CockroachDB now properly handles RPC failures on writes using the parallel commit protocol that execute in parallel to the commit operation, avoiding incorrect retryable failures and `transaction unexpectedly committed` assertions by detecting when writes cannot be retried idempotently, instead returning an `AmbiguousResultError`. [#107658][#107658]
- Fixed a bug where dependencies on sequences from tables would be reported with the wrong value for the `classid` column in the `pg_catalog.pg_depend` table. [#110144][#110144]
- Two `ALTER RANGE default CONFIGURE ZONE` statements on the same line no longer displays an error. [#109774][#109774]
- Fixed a DB Console issue where the `DROP_UNUSED` index recommendations produced by the table details page produced an invalid `DROP INDEX` statement. [#110429][#110429]
- Removed buggy [TTL]({% link v23.2/row-level-ttl.md %}) descriptor repair. Previously, upgrading from v22.2.X to v23.1.9 incorrectly removed TTL storage parameters from tables (visible by running a `SHOW CREATE TABLE <ttl-table>;` statement) while attempting to repair table descriptors. This resulted in the node that attempted to run the TTL job crashing due to a panic caused by the missing TTL storage parameters. [#110364][#110364]
- `cockroach debug pebble` commands now work correctly with encrypted stores which don't use the default `cockroach-data` path without having to also pass `--store`. [#110150][#110150]
- Fixed a bug where `CREATE INDEX` for [partial indexes]({% link v23.2/partial-indexes.md %}) could fail with `ERROR: duplicate key value violates unique constraint` if concurrent inserts happened simultaneously. [#110216][#110216]
- Observability pages no longer crash when they encounter zeros (e.g., a session with no memory allocated). [#108752][#108752]
- Removed the [cluster setting]({% link v23.2/cluster-settings.md %}) `kv.snapshot_recovery.max_rate`:
  - In v23.2, this setting is disabled; it is a no-op. If you previously set `kv.snapshot_recovery.max_rate` on a cluster running v23.1 and upgraded to v23.2, the setting is ignored, and the [`kv.snapshot_rebalance.max_rate`]({% link v23.2/cluster-settings.md %}#setting-kv-snapshot-rebalance-max-rate ) setting is used instead.
  - In v24.1 and later, this setting is removed entirely. If you had previously set `kv.snapshot_recovery.max_rate` prior to upgrade, it will be cleared, and any attempts to set it will fail with the error message: `ERROR: unknown cluster setting 'kv.snapshot_recovery.max_rate'`. [#102596][#102596]
- Fixed a bug in which a `CREATE FUNCTION` may produce a syntax error if the UDF body wrapped in tagged dollar quotes (e.g., `$func$`), contains two consecutive dollar signs `$$`. If the UDF body is known to contain dollar signs, then the caller should use tagged dollar quotes or single quotes when defining the UDF. For example:

    {% include_cached copy-clipboard.html %}
    ~~~ sql
     CREATE FUNCTION f(a STRING) RETURNS STRING LANGUAGE SQL AS $func$ SELECT concat('$$', a); $func$
    ~~~

    [#101352][#101352]

- CockroachDB now prevents setting `max_range_size` below the `COCKROACH_MIN_RANGE_MAX_BYTES` environment variable, which defaults to 64 MiB (half of the default minimum range size). [#96725][#96725]
- Fixed a bug that could occasionally cause schema change jobs, such as table or index drops, to appear stuck in state "waiting for MVCC GC" for much longer than expected. The fix only applies to future schema changes. To process existing stuck jobs, manually force-enqueue the relevant ranges in the MVCC GC queue from the DB Console's [Advanced Debug](https://cockroachlabs.com/docs/v23.2/ui-debug-pages) page. [#110078][#110078]
- Fixed a bug introduced when the `ChartCatalog` API endpoint was introduced, where the endpoint did not correctly report the unit of metrics. [#109042][#109042]
- Fixed a bug that could occur when the "multiple active portals" execution mode (Preview) was enabled to evaluate queries such as lookup joins. The bug could result in an internal error like `unexpected 40960 leftover bytes` if the portal was not fully consumed. [#110625][#110625]
- Fixed a bug where an `ALTER TABLE ... ADD CONSTRAINT CHECK ...` statement that utilized a user-defined function in the `CHECK` could cause a validation error. [#110130][#110130]
- Fixed a bug where `RESET (ttl_expire_after)` could incorrectly remove `ttl_expiration_expression`. [#110252][#110252]
- Fixed a bug where the `format_type` built-in did not honor `typemod` information for array types, leading to incorrect output. [#110900][#110900]
- Fixed a bug introduced in v22.2 that incorrectly allowed users without the `EXECUTE` privilege to execute a user-defined function. [#107587][#107587]

<h3 id="v23-2-0-alpha-1-performance-improvements">Performance improvements</h3>

- The [optimizer]({% link v23.2/cost-based-optimizer.md %}) now plans inverted index scans for queries using `IN` or the `=` operators without the fetch val (`->`) operator. For example: `json_col = '{"b":"c"}' OR json_col IN ('"a"', '1')` [#101178][#101178]
- Queries that have subqueries in equality expressions are now more efficiently planned by the optimizer. [#100881][#100881]
- Query planning time has been reduced for some queries with multiple [joins]({% link v23.2/joins.md %}). [#102011][#102011]
- CockroachDB now enables the pacing mechanism in rangefeed closed timestamp notifications, by setting the default `kv.rangefeed.closed_timestamp_smear_interval` cluster setting to 1ms. This makes rangefeed closed timestamp delivery more uniform and less spikey, which reduces its impact on the Go scheduler and, ultimately, foreground SQL latencies. [#103006][#103006]
- Some large, long-running [`INSERT`]({% link v23.2/insert.md %}) statements now perform less work during their commit phase and can run faster. [#103241][#103241]
- Ranges now only quiesce after 3 seconds without proposals, to avoid frequent unquiescence which incurs an additional Raft proposal. This is configurable via the `COCKROACH_QUIESCE_AFTER_TICKS` environment variable, which defaults to 6. [#103266][#103266]
- SQL statements that must clean up intents from many different previously abandoned transactions now do so moderately more efficiently. [#103265][#103265]
- The optimizer can now avoid a grouping stage in more cases when de-duplicating the input to an [`UPSERT`]({% link v23.2/upsert.md %}) or `INSERT ... ON CONFLICT` statement. [#105206][#105206]
- The optimizer can now eliminate joins in more cases. [#105214][#105214]
- CockroachDB now improves the time to disk space reclamation when deleting rows. Previously, in scenarios where rows had large variations in row size, it was possible for disk space to not be reclaimed after MVCC garbage collection deleted the rows. [#104539][#104539]
- CockroachDB now has improved disk space reclamation heuristics, making disk space reclamation more timely. [#106177][#106177]
- `bool_and` and `bool_or` aggregates will now scale linearly instead of quadratically when used as a window function with a non-shrinking window, [#106477][#106477]
- CockroachDB now has reduced lock contention on `ssmemstorage.RecordStatement`. This is useful for workloads that execute the same statement concurrently on the same SQL instance. [#106860][#106860]
- The optimizer now produces more efficient query plans in some cases for queries with  subqueries and user-defined functions. [#107133][#107133]
- The default Raft entry cache size has been increased from 16 MB to 1/256 of system memory with a minimum of 32 MB, divided evenly between all stores. This can be configured using the `COCKROACH_RAFT_ENTRY_CACHE_SIZE` environment variable. [#107424][#107424]
- CockroachDB now automatically collects table statistics on the `system.jobs` table, which will enable the optimizer to produce better query plans for internal queries that access the `system.jobs` table. This may result in better performance of the system. [#108139][#108139]
- The impact of high concurrency blind writes to the same key on goroutine scheduling latency was reduced. [#109349][#109349]
- [Changefeeds]({% link v23.2/change-data-capture-overview.md %}) to Webhook or Pub/Sub endpoints now support much higher throughput [#109351][#109351]
- This release improved the cost of resolving a user-defined enum type that has many values. [#109394][#109394]
- Queries that compare collated strings now use less memory and may execute faster. [#110066][#110066]
- Added a scheduler based rangefeed processor which improves rangefeed and changefeed performance for very large tables. The new processor is disabled by default, but can be enabled by setting `kv.rangefeed.scheduler.enabled` cluster setting to `true`. [#107553][#107553]
- This release disables `sql.defaults.zigzag_join.enabled` by default. [#110214][#110214]

<h3 id="v23-2-0-alpha-1-build-changes">Build changes</h3>

- Go has been upgraded to 1.20.8. [#109773][#109773]
- The top-level `Makefile` was replaced by a stub `GNUmakefile` which defers its behavior to `dev`. The common targets `make [all]`, `make test`, and `make install` remain for compatibility with most UNIX installation guides. The previous `make` rules remain available via `make -C build/GNUmakefile.obsolete`. [#84565][#84565]

<div class="release-note-contributors" markdown="1">

<h3 id="v23-2-0-alpha-1-contributors">Contributors</h3>

This release includes 3208 merged PRs by 124 authors.

</div>

[#100113]: https://github.com/cockroachdb/cockroach/pull/100113
[#100199]: https://github.com/cockroachdb/cockroach/pull/100199
[#100524]: https://github.com/cockroachdb/cockroach/pull/100524
[#100612]: https://github.com/cockroachdb/cockroach/pull/100612
[#100742]: https://github.com/cockroachdb/cockroach/pull/100742
[#100858]: https://github.com/cockroachdb/cockroach/pull/100858
[#100881]: https://github.com/cockroachdb/cockroach/pull/100881
[#100898]: https://github.com/cockroachdb/cockroach/pull/100898
[#100929]: https://github.com/cockroachdb/cockroach/pull/100929
[#100942]: https://github.com/cockroachdb/cockroach/pull/100942
[#101095]: https://github.com/cockroachdb/cockroach/pull/101095
[#101178]: https://github.com/cockroachdb/cockroach/pull/101178
[#101258]: https://github.com/cockroachdb/cockroach/pull/101258
[#101334]: https://github.com/cockroachdb/cockroach/pull/101334
[#101352]: https://github.com/cockroachdb/cockroach/pull/101352
[#101388]: https://github.com/cockroachdb/cockroach/pull/101388
[#101525]: https://github.com/cockroachdb/cockroach/pull/101525
[#101675]: https://github.com/cockroachdb/cockroach/pull/101675
[#101787]: https://github.com/cockroachdb/cockroach/pull/101787
[#101790]: https://github.com/cockroachdb/cockroach/pull/101790
[#101812]: https://github.com/cockroachdb/cockroach/pull/101812
[#101869]: https://github.com/cockroachdb/cockroach/pull/101869
[#101931]: https://github.com/cockroachdb/cockroach/pull/101931
[#101932]: https://github.com/cockroachdb/cockroach/pull/101932
[#102011]: https://github.com/cockroachdb/cockroach/pull/102011
[#102033]: https://github.com/cockroachdb/cockroach/pull/102033
[#102164]: https://github.com/cockroachdb/cockroach/pull/102164
[#102595]: https://github.com/cockroachdb/cockroach/pull/102595
[#102596]: https://github.com/cockroachdb/cockroach/pull/102596
[#102607]: https://github.com/cockroachdb/cockroach/pull/102607
[#102708]: https://github.com/cockroachdb/cockroach/pull/102708
[#102717]: https://github.com/cockroachdb/cockroach/pull/102717
[#102737]: https://github.com/cockroachdb/cockroach/pull/102737
[#102772]: https://github.com/cockroachdb/cockroach/pull/102772
[#102773]: https://github.com/cockroachdb/cockroach/pull/102773
[#102890]: https://github.com/cockroachdb/cockroach/pull/102890
[#102961]: https://github.com/cockroachdb/cockroach/pull/102961
[#102974]: https://github.com/cockroachdb/cockroach/pull/102974
[#103006]: https://github.com/cockroachdb/cockroach/pull/103006
[#103051]: https://github.com/cockroachdb/cockroach/pull/103051
[#103077]: https://github.com/cockroachdb/cockroach/pull/103077
[#103115]: https://github.com/cockroachdb/cockroach/pull/103115
[#103128]: https://github.com/cockroachdb/cockroach/pull/103128
[#103138]: https://github.com/cockroachdb/cockroach/pull/103138
[#103145]: https://github.com/cockroachdb/cockroach/pull/103145
[#103241]: https://github.com/cockroachdb/cockroach/pull/103241
[#103259]: https://github.com/cockroachdb/cockroach/pull/103259
[#103265]: https://github.com/cockroachdb/cockroach/pull/103265
[#103266]: https://github.com/cockroachdb/cockroach/pull/103266
[#103285]: https://github.com/cockroachdb/cockroach/pull/103285
[#103301]: https://github.com/cockroachdb/cockroach/pull/103301
[#103308]: https://github.com/cockroachdb/cockroach/pull/103308
[#103436]: https://github.com/cockroachdb/cockroach/pull/103436
[#103476]: https://github.com/cockroachdb/cockroach/pull/103476
[#103482]: https://github.com/cockroachdb/cockroach/pull/103482
[#103525]: https://github.com/cockroachdb/cockroach/pull/103525
[#103531]: https://github.com/cockroachdb/cockroach/pull/103531
[#103539]: https://github.com/cockroachdb/cockroach/pull/103539
[#103590]: https://github.com/cockroachdb/cockroach/pull/103590
[#103598]: https://github.com/cockroachdb/cockroach/pull/103598
[#103642]: https://github.com/cockroachdb/cockroach/pull/103642
[#103670]: https://github.com/cockroachdb/cockroach/pull/103670
[#103780]: https://github.com/cockroachdb/cockroach/pull/103780
[#103782]: https://github.com/cockroachdb/cockroach/pull/103782
[#103784]: https://github.com/cockroachdb/cockroach/pull/103784
[#103786]: https://github.com/cockroachdb/cockroach/pull/103786
[#103819]: https://github.com/cockroachdb/cockroach/pull/103819
[#103921]: https://github.com/cockroachdb/cockroach/pull/103921
[#103923]: https://github.com/cockroachdb/cockroach/pull/103923
[#103930]: https://github.com/cockroachdb/cockroach/pull/103930
[#103945]: https://github.com/cockroachdb/cockroach/pull/103945
[#103963]: https://github.com/cockroachdb/cockroach/pull/103963
[#103971]: https://github.com/cockroachdb/cockroach/pull/103971
[#104042]: https://github.com/cockroachdb/cockroach/pull/104042
[#104050]: https://github.com/cockroachdb/cockroach/pull/104050
[#104079]: https://github.com/cockroachdb/cockroach/pull/104079
[#104111]: https://github.com/cockroachdb/cockroach/pull/104111
[#104151]: https://github.com/cockroachdb/cockroach/pull/104151
[#104215]: https://github.com/cockroachdb/cockroach/pull/104215
[#104234]: https://github.com/cockroachdb/cockroach/pull/104234
[#104265]: https://github.com/cockroachdb/cockroach/pull/104265
[#104302]: https://github.com/cockroachdb/cockroach/pull/104302
[#104375]: https://github.com/cockroachdb/cockroach/pull/104375
[#104376]: https://github.com/cockroachdb/cockroach/pull/104376
[#104394]: https://github.com/cockroachdb/cockroach/pull/104394
[#104410]: https://github.com/cockroachdb/cockroach/pull/104410
[#104417]: https://github.com/cockroachdb/cockroach/pull/104417
[#104439]: https://github.com/cockroachdb/cockroach/pull/104439
[#104483]: https://github.com/cockroachdb/cockroach/pull/104483
[#104528]: https://github.com/cockroachdb/cockroach/pull/104528
[#104539]: https://github.com/cockroachdb/cockroach/pull/104539
[#104585]: https://github.com/cockroachdb/cockroach/pull/104585
[#104610]: https://github.com/cockroachdb/cockroach/pull/104610
[#104755]: https://github.com/cockroachdb/cockroach/pull/104755
[#104756]: https://github.com/cockroachdb/cockroach/pull/104756
[#104772]: https://github.com/cockroachdb/cockroach/pull/104772
[#104777]: https://github.com/cockroachdb/cockroach/pull/104777
[#104915]: https://github.com/cockroachdb/cockroach/pull/104915
[#104929]: https://github.com/cockroachdb/cockroach/pull/104929
[#104945]: https://github.com/cockroachdb/cockroach/pull/104945
[#105006]: https://github.com/cockroachdb/cockroach/pull/105006
[#105009]: https://github.com/cockroachdb/cockroach/pull/105009
[#105031]: https://github.com/cockroachdb/cockroach/pull/105031
[#105122]: https://github.com/cockroachdb/cockroach/pull/105122
[#105137]: https://github.com/cockroachdb/cockroach/pull/105137
[#105206]: https://github.com/cockroachdb/cockroach/pull/105206
[#105214]: https://github.com/cockroachdb/cockroach/pull/105214
[#105270]: https://github.com/cockroachdb/cockroach/pull/105270
[#105326]: https://github.com/cockroachdb/cockroach/pull/105326
[#105364]: https://github.com/cockroachdb/cockroach/pull/105364
[#105456]: https://github.com/cockroachdb/cockroach/pull/105456
[#105477]: https://github.com/cockroachdb/cockroach/pull/105477
[#105521]: https://github.com/cockroachdb/cockroach/pull/105521
[#105530]: https://github.com/cockroachdb/cockroach/pull/105530
[#105582]: https://github.com/cockroachdb/cockroach/pull/105582
[#105654]: https://github.com/cockroachdb/cockroach/pull/105654
[#105694]: https://github.com/cockroachdb/cockroach/pull/105694
[#105716]: https://github.com/cockroachdb/cockroach/pull/105716
[#105736]: https://github.com/cockroachdb/cockroach/pull/105736
[#105750]: https://github.com/cockroachdb/cockroach/pull/105750
[#105839]: https://github.com/cockroachdb/cockroach/pull/105839
[#105842]: https://github.com/cockroachdb/cockroach/pull/105842
[#105857]: https://github.com/cockroachdb/cockroach/pull/105857
[#105876]: https://github.com/cockroachdb/cockroach/pull/105876
[#105877]: https://github.com/cockroachdb/cockroach/pull/105877
[#105881]: https://github.com/cockroachdb/cockroach/pull/105881
[#105944]: https://github.com/cockroachdb/cockroach/pull/105944
[#106056]: https://github.com/cockroachdb/cockroach/pull/106056
[#106082]: https://github.com/cockroachdb/cockroach/pull/106082
[#106094]: https://github.com/cockroachdb/cockroach/pull/106094
[#106103]: https://github.com/cockroachdb/cockroach/pull/106103
[#106104]: https://github.com/cockroachdb/cockroach/pull/106104
[#106117]: https://github.com/cockroachdb/cockroach/pull/106117
[#106145]: https://github.com/cockroachdb/cockroach/pull/106145
[#106177]: https://github.com/cockroachdb/cockroach/pull/106177
[#106242]: https://github.com/cockroachdb/cockroach/pull/106242
[#106267]: https://github.com/cockroachdb/cockroach/pull/106267
[#106270]: https://github.com/cockroachdb/cockroach/pull/106270
[#106351]: https://github.com/cockroachdb/cockroach/pull/106351
[#106402]: https://github.com/cockroachdb/cockroach/pull/106402
[#106438]: https://github.com/cockroachdb/cockroach/pull/106438
[#106445]: https://github.com/cockroachdb/cockroach/pull/106445
[#106472]: https://github.com/cockroachdb/cockroach/pull/106472
[#106477]: https://github.com/cockroachdb/cockroach/pull/106477
[#106525]: https://github.com/cockroachdb/cockroach/pull/106525
[#106530]: https://github.com/cockroachdb/cockroach/pull/106530
[#106549]: https://github.com/cockroachdb/cockroach/pull/106549
[#106574]: https://github.com/cockroachdb/cockroach/pull/106574
[#106587]: https://github.com/cockroachdb/cockroach/pull/106587
[#106590]: https://github.com/cockroachdb/cockroach/pull/106590
[#106595]: https://github.com/cockroachdb/cockroach/pull/106595
[#106607]: https://github.com/cockroachdb/cockroach/pull/106607
[#106626]: https://github.com/cockroachdb/cockroach/pull/106626
[#106642]: https://github.com/cockroachdb/cockroach/pull/106642
[#106671]: https://github.com/cockroachdb/cockroach/pull/106671
[#106717]: https://github.com/cockroachdb/cockroach/pull/106717
[#106750]: https://github.com/cockroachdb/cockroach/pull/106750
[#106753]: https://github.com/cockroachdb/cockroach/pull/106753
[#106778]: https://github.com/cockroachdb/cockroach/pull/106778
[#106793]: https://github.com/cockroachdb/cockroach/pull/106793
[#106860]: https://github.com/cockroachdb/cockroach/pull/106860
[#106869]: https://github.com/cockroachdb/cockroach/pull/106869
[#106879]: https://github.com/cockroachdb/cockroach/pull/106879
[#106952]: https://github.com/cockroachdb/cockroach/pull/106952
[#107044]: https://github.com/cockroachdb/cockroach/pull/107044
[#107076]: https://github.com/cockroachdb/cockroach/pull/107076
[#107081]: https://github.com/cockroachdb/cockroach/pull/107081
[#107090]: https://github.com/cockroachdb/cockroach/pull/107090
[#107124]: https://github.com/cockroachdb/cockroach/pull/107124
[#107128]: https://github.com/cockroachdb/cockroach/pull/107128
[#107133]: https://github.com/cockroachdb/cockroach/pull/107133
[#107178]: https://github.com/cockroachdb/cockroach/pull/107178
[#107211]: https://github.com/cockroachdb/cockroach/pull/107211
[#107292]: https://github.com/cockroachdb/cockroach/pull/107292
[#107294]: https://github.com/cockroachdb/cockroach/pull/107294
[#107296]: https://github.com/cockroachdb/cockroach/pull/107296
[#107299]: https://github.com/cockroachdb/cockroach/pull/107299
[#107303]: https://github.com/cockroachdb/cockroach/pull/107303
[#107309]: https://github.com/cockroachdb/cockroach/pull/107309
[#107317]: https://github.com/cockroachdb/cockroach/pull/107317
[#107392]: https://github.com/cockroachdb/cockroach/pull/107392
[#107424]: https://github.com/cockroachdb/cockroach/pull/107424
[#107474]: https://github.com/cockroachdb/cockroach/pull/107474
[#107533]: https://github.com/cockroachdb/cockroach/pull/107533
[#107553]: https://github.com/cockroachdb/cockroach/pull/107553
[#107563]: https://github.com/cockroachdb/cockroach/pull/107563
[#107572]: https://github.com/cockroachdb/cockroach/pull/107572
[#107601]: https://github.com/cockroachdb/cockroach/pull/107601
[#107613]: https://github.com/cockroachdb/cockroach/pull/107613
[#107641]: https://github.com/cockroachdb/cockroach/pull/107641
[#107658]: https://github.com/cockroachdb/cockroach/pull/107658
[#107682]: https://github.com/cockroachdb/cockroach/pull/107682
[#107717]: https://github.com/cockroachdb/cockroach/pull/107717
[#107719]: https://github.com/cockroachdb/cockroach/pull/107719
[#107720]: https://github.com/cockroachdb/cockroach/pull/107720
[#107742]: https://github.com/cockroachdb/cockroach/pull/107742
[#107749]: https://github.com/cockroachdb/cockroach/pull/107749
[#107750]: https://github.com/cockroachdb/cockroach/pull/107750
[#107796]: https://github.com/cockroachdb/cockroach/pull/107796
[#107815]: https://github.com/cockroachdb/cockroach/pull/107815
[#107863]: https://github.com/cockroachdb/cockroach/pull/107863
[#107893]: https://github.com/cockroachdb/cockroach/pull/107893
[#107920]: https://github.com/cockroachdb/cockroach/pull/107920
[#107953]: https://github.com/cockroachdb/cockroach/pull/107953
[#107984]: https://github.com/cockroachdb/cockroach/pull/107984
[#108037]: https://github.com/cockroachdb/cockroach/pull/108037
[#108047]: https://github.com/cockroachdb/cockroach/pull/108047
[#108133]: https://github.com/cockroachdb/cockroach/pull/108133
[#108139]: https://github.com/cockroachdb/cockroach/pull/108139
[#108190]: https://github.com/cockroachdb/cockroach/pull/108190
[#108210]: https://github.com/cockroachdb/cockroach/pull/108210
[#108211]: https://github.com/cockroachdb/cockroach/pull/108211
[#108213]: https://github.com/cockroachdb/cockroach/pull/108213
[#108289]: https://github.com/cockroachdb/cockroach/pull/108289
[#108290]: https://github.com/cockroachdb/cockroach/pull/108290
[#108299]: https://github.com/cockroachdb/cockroach/pull/108299
[#108353]: https://github.com/cockroachdb/cockroach/pull/108353
[#108387]: https://github.com/cockroachdb/cockroach/pull/108387
[#108401]: https://github.com/cockroachdb/cockroach/pull/108401
[#108456]: https://github.com/cockroachdb/cockroach/pull/108456
[#108467]: https://github.com/cockroachdb/cockroach/pull/108467
[#108486]: https://github.com/cockroachdb/cockroach/pull/108486
[#108566]: https://github.com/cockroachdb/cockroach/pull/108566
[#108576]: https://github.com/cockroachdb/cockroach/pull/108576
[#108597]: https://github.com/cockroachdb/cockroach/pull/108597
[#108612]: https://github.com/cockroachdb/cockroach/pull/108612
[#108627]: https://github.com/cockroachdb/cockroach/pull/108627
[#108667]: https://github.com/cockroachdb/cockroach/pull/108667
[#108678]: https://github.com/cockroachdb/cockroach/pull/108678
[#108752]: https://github.com/cockroachdb/cockroach/pull/108752
[#108757]: https://github.com/cockroachdb/cockroach/pull/108757
[#108807]: https://github.com/cockroachdb/cockroach/pull/108807
[#108818]: https://github.com/cockroachdb/cockroach/pull/108818
[#108824]: https://github.com/cockroachdb/cockroach/pull/108824
[#108852]: https://github.com/cockroachdb/cockroach/pull/108852
[#108883]: https://github.com/cockroachdb/cockroach/pull/108883
[#108923]: https://github.com/cockroachdb/cockroach/pull/108923
[#108964]: https://github.com/cockroachdb/cockroach/pull/108964
[#109047]: https://github.com/cockroachdb/cockroach/pull/109047
[#109056]: https://github.com/cockroachdb/cockroach/pull/109056
[#109074]: https://github.com/cockroachdb/cockroach/pull/109074
[#109077]: https://github.com/cockroachdb/cockroach/pull/109077
[#109164]: https://github.com/cockroachdb/cockroach/pull/109164
[#109165]: https://github.com/cockroachdb/cockroach/pull/109165
[#109166]: https://github.com/cockroachdb/cockroach/pull/109166
[#109171]: https://github.com/cockroachdb/cockroach/pull/109171
[#109174]: https://github.com/cockroachdb/cockroach/pull/109174
[#109226]: https://github.com/cockroachdb/cockroach/pull/109226
[#109229]: https://github.com/cockroachdb/cockroach/pull/109229
[#109245]: https://github.com/cockroachdb/cockroach/pull/109245
[#109258]: https://github.com/cockroachdb/cockroach/pull/109258
[#109264]: https://github.com/cockroachdb/cockroach/pull/109264
[#109332]: https://github.com/cockroachdb/cockroach/pull/109332
[#109346]: https://github.com/cockroachdb/cockroach/pull/109346
[#109349]: https://github.com/cockroachdb/cockroach/pull/109349
[#109351]: https://github.com/cockroachdb/cockroach/pull/109351
[#109374]: https://github.com/cockroachdb/cockroach/pull/109374
[#109394]: https://github.com/cockroachdb/cockroach/pull/109394
[#109424]: https://github.com/cockroachdb/cockroach/pull/109424
[#109432]: https://github.com/cockroachdb/cockroach/pull/109432
[#109444]: https://github.com/cockroachdb/cockroach/pull/109444
[#109464]: https://github.com/cockroachdb/cockroach/pull/109464
[#109474]: https://github.com/cockroachdb/cockroach/pull/109474
[#109510]: https://github.com/cockroachdb/cockroach/pull/109510
[#109530]: https://github.com/cockroachdb/cockroach/pull/109530
[#109592]: https://github.com/cockroachdb/cockroach/pull/109592
[#109659]: https://github.com/cockroachdb/cockroach/pull/109659
[#109694]: https://github.com/cockroachdb/cockroach/pull/109694
[#109696]: https://github.com/cockroachdb/cockroach/pull/109696
[#109720]: https://github.com/cockroachdb/cockroach/pull/109720
[#109727]: https://github.com/cockroachdb/cockroach/pull/109727
[#109731]: https://github.com/cockroachdb/cockroach/pull/109731
[#109773]: https://github.com/cockroachdb/cockroach/pull/109773
[#109774]: https://github.com/cockroachdb/cockroach/pull/109774
[#109785]: https://github.com/cockroachdb/cockroach/pull/109785
[#109790]: https://github.com/cockroachdb/cockroach/pull/109790
[#109835]: https://github.com/cockroachdb/cockroach/pull/109835
[#109844]: https://github.com/cockroachdb/cockroach/pull/109844
[#109872]: https://github.com/cockroachdb/cockroach/pull/109872
[#109899]: https://github.com/cockroachdb/cockroach/pull/109899
[#109932]: https://github.com/cockroachdb/cockroach/pull/109932
[#110066]: https://github.com/cockroachdb/cockroach/pull/110066
[#110107]: https://github.com/cockroachdb/cockroach/pull/110107
[#110144]: https://github.com/cockroachdb/cockroach/pull/110144
[#110150]: https://github.com/cockroachdb/cockroach/pull/110150
[#110173]: https://github.com/cockroachdb/cockroach/pull/110173
[#110174]: https://github.com/cockroachdb/cockroach/pull/110174
[#110177]: https://github.com/cockroachdb/cockroach/pull/110177
[#110214]: https://github.com/cockroachdb/cockroach/pull/110214
[#110216]: https://github.com/cockroachdb/cockroach/pull/110216
[#110220]: https://github.com/cockroachdb/cockroach/pull/110220
[#110280]: https://github.com/cockroachdb/cockroach/pull/110280
[#110332]: https://github.com/cockroachdb/cockroach/pull/110332
[#110364]: https://github.com/cockroachdb/cockroach/pull/110364
[#110391]: https://github.com/cockroachdb/cockroach/pull/110391
[#110429]: https://github.com/cockroachdb/cockroach/pull/110429
[#110527]: https://github.com/cockroachdb/cockroach/pull/110527
[#42063]: https://github.com/cockroachdb/cockroach/pull/42063
[#87301]: https://github.com/cockroachdb/cockroach/pull/87301
[#96725]: https://github.com/cockroachdb/cockroach/pull/96725
[#97071]: https://github.com/cockroachdb/cockroach/pull/97071
[#97728]: https://github.com/cockroachdb/cockroach/pull/97728
[#98203]: https://github.com/cockroachdb/cockroach/pull/98203
[#98208]: https://github.com/cockroachdb/cockroach/pull/98208
[#98382]: https://github.com/cockroachdb/cockroach/pull/98382
[#98562]: https://github.com/cockroachdb/cockroach/pull/98562
[#98709]: https://github.com/cockroachdb/cockroach/pull/98709
[#98820]: https://github.com/cockroachdb/cockroach/pull/98820
[#98848]: https://github.com/cockroachdb/cockroach/pull/98848
[#98899]: https://github.com/cockroachdb/cockroach/pull/98899
[#99057]: https://github.com/cockroachdb/cockroach/pull/99057
[#99069]: https://github.com/cockroachdb/cockroach/pull/99069
[#99126]: https://github.com/cockroachdb/cockroach/pull/99126
[#99174]: https://github.com/cockroachdb/cockroach/pull/99174
[#99191]: https://github.com/cockroachdb/cockroach/pull/99191
[#99275]: https://github.com/cockroachdb/cockroach/pull/99275
[#99348]: https://github.com/cockroachdb/cockroach/pull/99348
[#99526]: https://github.com/cockroachdb/cockroach/pull/99526
[#99789]: https://github.com/cockroachdb/cockroach/pull/99789
[#99839]: https://github.com/cockroachdb/cockroach/pull/99839
[#99842]: https://github.com/cockroachdb/cockroach/pull/99842
[#99847]: https://github.com/cockroachdb/cockroach/pull/99847
[#99876]: https://github.com/cockroachdb/cockroach/pull/99876
[06cd54a4e]: https://github.com/cockroachdb/cockroach/commit/06cd54a4e
[09506add4]: https://github.com/cockroachdb/cockroach/commit/09506add4
[0c660fa0d]: https://github.com/cockroachdb/cockroach/commit/0c660fa0d
[0de1c8aaf]: https://github.com/cockroachdb/cockroach/commit/0de1c8aaf
[1629e11a6]: https://github.com/cockroachdb/cockroach/commit/1629e11a6
[1b8d40fbc]: https://github.com/cockroachdb/cockroach/commit/1b8d40fbc
[208a7eb6c]: https://github.com/cockroachdb/cockroach/commit/208a7eb6c
[20e033cf2]: https://github.com/cockroachdb/cockroach/commit/20e033cf2
[2132ebd00]: https://github.com/cockroachdb/cockroach/commit/2132ebd00
[22bbef16d]: https://github.com/cockroachdb/cockroach/commit/22bbef16d
[26d007b7e]: https://github.com/cockroachdb/cockroach/commit/26d007b7e
[27af3713a]: https://github.com/cockroachdb/cockroach/commit/27af3713a
[28fe10f03]: https://github.com/cockroachdb/cockroach/commit/28fe10f03
[29edf817d]: https://github.com/cockroachdb/cockroach/commit/29edf817d
[2b1553ce6]: https://github.com/cockroachdb/cockroach/commit/2b1553ce6
[2b39f1af4]: https://github.com/cockroachdb/cockroach/commit/2b39f1af4
[2bbd66e03]: https://github.com/cockroachdb/cockroach/commit/2bbd66e03
[2f782d32a]: https://github.com/cockroachdb/cockroach/commit/2f782d32a
[311fdc318]: https://github.com/cockroachdb/cockroach/commit/311fdc318
[338e99bb4]: https://github.com/cockroachdb/cockroach/commit/338e99bb4
[346bbc9a9]: https://github.com/cockroachdb/cockroach/commit/346bbc9a9
[36d18daf8]: https://github.com/cockroachdb/cockroach/commit/36d18daf8
[36e098f6b]: https://github.com/cockroachdb/cockroach/commit/36e098f6b
[3b35d3b0d]: https://github.com/cockroachdb/cockroach/commit/3b35d3b0d
[3c12e0d20]: https://github.com/cockroachdb/cockroach/commit/3c12e0d20
[3c64af25d]: https://github.com/cockroachdb/cockroach/commit/3c64af25d
[3faf1e1eb]: https://github.com/cockroachdb/cockroach/commit/3faf1e1eb
[401cc12f8]: https://github.com/cockroachdb/cockroach/commit/401cc12f8
[43cc87f80]: https://github.com/cockroachdb/cockroach/commit/43cc87f80
[4741147f7]: https://github.com/cockroachdb/cockroach/commit/4741147f7
[488e5a3ae]: https://github.com/cockroachdb/cockroach/commit/488e5a3ae
[49855990f]: https://github.com/cockroachdb/cockroach/commit/49855990f
[4b5fa7ce6]: https://github.com/cockroachdb/cockroach/commit/4b5fa7ce6
[4e8a998bc]: https://github.com/cockroachdb/cockroach/commit/4e8a998bc
[4f02d6c09]: https://github.com/cockroachdb/cockroach/commit/4f02d6c09
[5320237ce]: https://github.com/cockroachdb/cockroach/commit/5320237ce
[53f2fcd9a]: https://github.com/cockroachdb/cockroach/commit/53f2fcd9a
[55745a86e]: https://github.com/cockroachdb/cockroach/commit/55745a86e
[5b3e4e311]: https://github.com/cockroachdb/cockroach/commit/5b3e4e311
[5bf79409d]: https://github.com/cockroachdb/cockroach/commit/5bf79409d
[5c1909bde]: https://github.com/cockroachdb/cockroach/commit/5c1909bde
[5c2920177]: https://github.com/cockroachdb/cockroach/commit/5c2920177
[5ef1e3442]: https://github.com/cockroachdb/cockroach/commit/5ef1e3442
[5f4496b89]: https://github.com/cockroachdb/cockroach/commit/5f4496b89
[5fe941557]: https://github.com/cockroachdb/cockroach/commit/5fe941557
[62665c54d]: https://github.com/cockroachdb/cockroach/commit/62665c54d
[655588aa2]: https://github.com/cockroachdb/cockroach/commit/655588aa2
[6886ce4ce]: https://github.com/cockroachdb/cockroach/commit/6886ce4ce
[69c682c17]: https://github.com/cockroachdb/cockroach/commit/69c682c17
[6f1a0761a]: https://github.com/cockroachdb/cockroach/commit/6f1a0761a
[70b00643b]: https://github.com/cockroachdb/cockroach/commit/70b00643b
[70c51c0a3]: https://github.com/cockroachdb/cockroach/commit/70c51c0a3
[70dce126e]: https://github.com/cockroachdb/cockroach/commit/70dce126e
[746d4ff92]: https://github.com/cockroachdb/cockroach/commit/746d4ff92
[759e606b8]: https://github.com/cockroachdb/cockroach/commit/759e606b8
[75ec8b7cd]: https://github.com/cockroachdb/cockroach/commit/75ec8b7cd
[76860d69b]: https://github.com/cockroachdb/cockroach/commit/76860d69b
[7846c54ee]: https://github.com/cockroachdb/cockroach/commit/7846c54ee
[788decfef]: https://github.com/cockroachdb/cockroach/commit/788decfef
[7a6dbc31b]: https://github.com/cockroachdb/cockroach/commit/7a6dbc31b
[7c307a8e6]: https://github.com/cockroachdb/cockroach/commit/7c307a8e6
[7f433bb0f]: https://github.com/cockroachdb/cockroach/commit/7f433bb0f
[7fa8b09c9]: https://github.com/cockroachdb/cockroach/commit/7fa8b09c9
[836ca4355]: https://github.com/cockroachdb/cockroach/commit/836ca4355
[85c5ff414]: https://github.com/cockroachdb/cockroach/commit/85c5ff414
[89639fc5d]: https://github.com/cockroachdb/cockroach/commit/89639fc5d
[8a54f4d3c]: https://github.com/cockroachdb/cockroach/commit/8a54f4d3c
[8eecff7cf]: https://github.com/cockroachdb/cockroach/commit/8eecff7cf
[8fc9cf3bf]: https://github.com/cockroachdb/cockroach/commit/8fc9cf3bf
[90862db03]: https://github.com/cockroachdb/cockroach/commit/90862db03
[9194c4fb3]: https://github.com/cockroachdb/cockroach/commit/9194c4fb3
[92def9e4e]: https://github.com/cockroachdb/cockroach/commit/92def9e4e
[9332af775]: https://github.com/cockroachdb/cockroach/commit/9332af775
[9397945fd]: https://github.com/cockroachdb/cockroach/commit/9397945fd
[968870b00]: https://github.com/cockroachdb/cockroach/commit/968870b00
[9816f30fc]: https://github.com/cockroachdb/cockroach/commit/9816f30fc
[98744d378]: https://github.com/cockroachdb/cockroach/commit/98744d378
[9885b80f3]: https://github.com/cockroachdb/cockroach/commit/9885b80f3
[99c8020da]: https://github.com/cockroachdb/cockroach/commit/99c8020da
[9b5991d4d]: https://github.com/cockroachdb/cockroach/commit/9b5991d4d
[9d96bb69d]: https://github.com/cockroachdb/cockroach/commit/9d96bb69d
[9faf13771]: https://github.com/cockroachdb/cockroach/commit/9faf13771
[a2545b4f8]: https://github.com/cockroachdb/cockroach/commit/a2545b4f8
[a65c98636]: https://github.com/cockroachdb/cockroach/commit/a65c98636
[a732de028]: https://github.com/cockroachdb/cockroach/commit/a732de028
[a83c0e1e8]: https://github.com/cockroachdb/cockroach/commit/a83c0e1e8
[a9358f9cb]: https://github.com/cockroachdb/cockroach/commit/a9358f9cb
[ab9f165ef]: https://github.com/cockroachdb/cockroach/commit/ab9f165ef
[af4df7927]: https://github.com/cockroachdb/cockroach/commit/af4df7927
[b0360e59b]: https://github.com/cockroachdb/cockroach/commit/b0360e59b
[b1a554371]: https://github.com/cockroachdb/cockroach/commit/b1a554371
[b2add06c5]: https://github.com/cockroachdb/cockroach/commit/b2add06c5
[b40009496]: https://github.com/cockroachdb/cockroach/commit/b40009496
[b4dead6ac]: https://github.com/cockroachdb/cockroach/commit/b4dead6ac
[b56d4660f]: https://github.com/cockroachdb/cockroach/commit/b56d4660f
[ba3b8a4b8]: https://github.com/cockroachdb/cockroach/commit/ba3b8a4b8
[bb5d813e5]: https://github.com/cockroachdb/cockroach/commit/bb5d813e5
[bc8c500f8]: https://github.com/cockroachdb/cockroach/commit/bc8c500f8
[bea148291]: https://github.com/cockroachdb/cockroach/commit/bea148291
[bed253e8c]: https://github.com/cockroachdb/cockroach/commit/bed253e8c
[c096bd7f3]: https://github.com/cockroachdb/cockroach/commit/c096bd7f3
[c2e4b695b]: https://github.com/cockroachdb/cockroach/commit/c2e4b695b
[c42294531]: https://github.com/cockroachdb/cockroach/commit/c42294531
[c968a33a5]: https://github.com/cockroachdb/cockroach/commit/c968a33a5
[caaa7d8c2]: https://github.com/cockroachdb/cockroach/commit/caaa7d8c2
[cc232325e]: https://github.com/cockroachdb/cockroach/commit/cc232325e
[ceb5cd52d]: https://github.com/cockroachdb/cockroach/commit/ceb5cd52d
[cfa437560]: https://github.com/cockroachdb/cockroach/commit/cfa437560
[d14d7b678]: https://github.com/cockroachdb/cockroach/commit/d14d7b678
[d1c7fcd34]: https://github.com/cockroachdb/cockroach/commit/d1c7fcd34
[d21226daa]: https://github.com/cockroachdb/cockroach/commit/d21226daa
[d795e6d12]: https://github.com/cockroachdb/cockroach/commit/d795e6d12
[db60a0718]: https://github.com/cockroachdb/cockroach/commit/db60a0718
[df30a451b]: https://github.com/cockroachdb/cockroach/commit/df30a451b
[e3c07672d]: https://github.com/cockroachdb/cockroach/commit/e3c07672d
[e3e9b77b9]: https://github.com/cockroachdb/cockroach/commit/e3e9b77b9
[e9f52e5fb]: https://github.com/cockroachdb/cockroach/commit/e9f52e5fb
[ea5a2ff15]: https://github.com/cockroachdb/cockroach/commit/ea5a2ff15
[ec0ca0730]: https://github.com/cockroachdb/cockroach/commit/ec0ca0730
[f0da5e8ec]: https://github.com/cockroachdb/cockroach/commit/f0da5e8ec
[f2ab387b9]: https://github.com/cockroachdb/cockroach/commit/f2ab387b9
[f3619c1e1]: https://github.com/cockroachdb/cockroach/commit/f3619c1e1
[f5800498f]: https://github.com/cockroachdb/cockroach/commit/f5800498f
[f9aca5d95]: https://github.com/cockroachdb/cockroach/commit/f9aca5d95
[fb8f99b15]: https://github.com/cockroachdb/cockroach/commit/fb8f99b15
[fc5920459]: https://github.com/cockroachdb/cockroach/commit/fc5920459
[fedb692ae]: https://github.com/cockroachdb/cockroach/commit/fedb692ae
[fef97d93c]: https://github.com/cockroachdb/cockroach/commit/fef97d93c
[#110624]: https://github.com/cockroachdb/cockroach/pull/110624
[#110623]: https://github.com/cockroachdb/cockroach/pull/110623
[#107788]: https://github.com/cockroachdb/cockroach/pull/107788
[#109042]: https://github.com/cockroachdb/cockroach/pull/109042
[#109521]: https://github.com/cockroachdb/cockroach/pull/109521
[#110078]: https://github.com/cockroachdb/cockroach/pull/110078
[#110625]: https://github.com/cockroachdb/cockroach/pull/110625
[#110130]: https://github.com/cockroachdb/cockroach/pull/110130
[#110252]: https://github.com/cockroachdb/cockroach/pull/110252
[#110900]: https://github.com/cockroachdb/cockroach/pull/110900
[#107587]: https://github.com/cockroachdb/cockroach/pull/107587
[#106515]: https://github.com/cockroachdb/cockroach/pull/106515
[#84565]: https://github.com/cockroachdb/cockroach/pull/84565
