## v23.2.0

Release Date: January 17, 2024

With the release of CockroachDB v23.2, we've added new capabilities to help you migrate, build, and operate more efficiently. See our summary of the most significant user-facing changes under [Feature Highlights](#v23-2-0-feature-highlights).

{% include releases/release-downloads-docker-image.md release=include.release advisory_key="a103220"%}

<h3 id="v23-2-0-feature-highlights">Feature highlights</h3>

TODO: 

- Consolidate feature categories (don't use all product area names)
- Add doc links and minor description edits <a href="https://docs.google.com/document/d/1q64FNkYx49GaKEZ8ze6ByNqf4C6cYxXqHZYiMR0fRTw/edit">per Google Doc</a>.

This section summarizes the most significant user-facing changes in v23.2.0 and other features recently made available to CockroachDB users across versions. For a complete list of features and changes in v23.2, including bug fixes and performance improvements, see the [release notes]({% link releases/index.md %}#testing-releases) for previous v23.2 testing releases. You can also search the docs for sections labeled [New in v23.2](https://www.cockroachlabs.com/docs/search?query=new+in+v23.2).

- [Observability](#v23-2-0-observability)
- [Security and compliance](#v23-2-0-security-and-compliance)
- [Recovery and I/O](#v23-2-0-recovery-and-io)
- [Deployment and operations](#v23-2-0-deployment-and-operations)
- [KV](#v23-2-0-kv)
- [SQL Foundations](#v23-2-0-sql-foundations)
- [SQL Queries](#v23-2-0-sql-queries)
- [Backward-incompatible changes](#v23-2-0-backward-incompatible-changes)
- [Deprecations](#v23-2-0-deprecations)
- [Known limitations](#v23-2-0-known-limitations)
- [Additional resources](#v23-2-0-additional-resources)

<!--<style>
    table td:first-child {
        min-width: 100px !important;
    }
    table td:nth-child(2) {
        min-width: 200px !important;
    }
</style>-->

<style>

    table-icon {
        border-collapse: collapse;
        width: 100%;
        font-family: Arial, sans-serif;
        border: none;
    }

    th, td {
        border: none;
        padding: 5px;
        text-align: left;
    }

    th {
        background-color: #e6eaf0;
    }

    .center-align {
        text-align: center;
        vertical-align: middle;
    }

    .icon-center {
        text-align: center;
    }

    .table-icon {
        width: 22px;
        border: none;
    }

    .narrow {
        width: 5%;
    }

    img.table-icon {
        width: 32px;
        border: none;
    }

    .feature-summary {
        font-weight: bold;
    }

    .feature-description {
        margin-top: 5px;
    }
</style>

<!-- TABLE TEMPLATE
<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <tr>
        <td>
            <p class="feature-summary"></p>
            <p class="feature-description"></p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary"></p>
            <p class="feature-description"></p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
</table>
-->

<h4 id="v23-2-0-observability">Observability</h4>
<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
        <td>
            <p class="feature-summary">Identify network partitions using updating metrics in the Network page</p>
            <p class="feature-description">The Network page in the DB console has been updated with additional metrics that surface when the cluster is unstable due to network partitions.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Troubleshoot 40001 errors from isolation conflicts in highly contended workloads</p>
            <p class="feature-description">Failed execution insights have been enhanced to include additional information (conflicting transaction and location) into 40001 errors that stems from isolation conflicts in highly contentious workloads.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Identify and troubleshoot your most recent transactions and statements in the console</p>
            <p class="feature-description">Users can control the refresh of SQL activity Active Executions. They can turn off automatic polling and instead  manually refresh the page. The page will persist recent executions and their statistics and plans to allow users to troubleshoot their recent workload. Previously, the Active executions page would refresh automatically and cause potentially problematic executions to disappear from the page making it difficult to troubleshoot recent workloads.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Integrate SQL statistics with Datadog for end-to-end observability</p>
            <p class="feature-description">SQL statistics such as statements and transactions can be emitted with fine granularity to Datadog as logs to allow end to end observability using both metrics and logs.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Customize your own metric dashboard for CockroachDB serverless</p>
            <p class="feature-description">The CockroachDB Cloud console supports additional metrics that can be customized in a single dashboard for CockroachDB Serverless.</p>
        </td>
        <td>All<sup>*</sup></td>
        <td class="icon-center">{% include icon-no.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
</table>

<h4 id="">Migrations</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Migrate to CockroachDB using Oracle Golden Gate</p>
            <p class="feature-description">You can now use Oracle Golden Gate to stream data directly into CockroachDB. Migrate data from compatible databases onto CockroachDB using this connector.</p>
        </td>
        <td>All*</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Migrate to CockroachDB using Debezium</p>
            <p class="feature-description">You can now use Debezium to stream data directly into CockroachDB. Migrate data from compatible databases onto CockroachDB using this connector.</p>
        </td>
        <td>All*</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Preview support for the MOLT Live Migration Service</p>
            <p class="feature-description">During migration onto CockroachDB, the Live Migration Service assists in consistent cutover from your legacy database onto CockroachDB. It can also be used to shadow traffic before the migration for performance and other testing.</p>
        </td>
        <td>All*</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
</table>

<h4 id="v23-2-0-disaster-recovery">Disaster recovery</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
    <td>
        <p class="feature-summary">Physical Cluster Replication is now available in a public preview</p>
        <p class="feature-description">[Physical Cluster Replication]({% link v23.2/physical-cluster-replication-overview.md %}) is an asynchonous replication feature that allows your cluster to recover from full-cluster failure with a low RPO and RTO. In 23.2, it is an Enterprise-only Public Preview feature, requiring a CCL license, and only available for self-hosted CockroachDB deployments.</p>
    </td>
    <td>23.2</td>
    <td class="icon-center">{% include icon-yes.html %}</td>
    <td class="icon-center">{% include icon-no.html %}</td>
    <td class="icon-center">{% include icon-no.html %}</td>
    </tr>
</table>

<h4 id="v23-2-0-security-and-compliance">Security and compliance</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
    <td>
        <p class="feature-summary">Use Azure IAM to authenticate storage for changefeeds and backup/restore</p>
        <p class="feature-description">Use implicit authorization to leverage existing azure credentials to authenticate with your Azure Blob Storage bucket.</p>
    </td>
    <td>23.2</td>
    <td class="icon-center">{% include icon-no.html %}</td>
    <td class="icon-center">{% include icon-yes.html %}</td>
    <td class="icon-center">{% include icon-no.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Folders UI in CockroachDB Cloud Orgs (Limited Access)</p>
            <p class="feature-description">Organize team's clusters under a specific folder. With the new roles and permissions users can be given access to a specific folder within the organization.</p>
        </td>
        <td>All*</td>
        <td class="icon-center">{% include icon-no.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">ISO Certification (Placeholder; consider adding once blog post is up)</p>
            <p class="feature-description">ISO Certification (Placeholder; consider adding once blog post is up)</p>
        </td>
        <td>All*</td>
        <td class="icon-center">{% include icon-no.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
    </tr>
</table>

<h4 id="v23-2-0-deployment-and-operations">Deployment and operations</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
        <td>
            <p class="feature-summary">ARM64 Support for AWS Graviton 3</p>
            <p class="feature-description">This release introduces formal support for ARM64 Graviton servers on AWS, enabling you to significantly reduce operational expenses when moving from traditional x86 VMs. This builds upon our previous support for M1 MacBooks.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
    </tr>
</table> 

<h4 id="v23-2-0-recovery-and-io">Recovery and I/O</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
        <td>
            <p class="feature-summary">Physical Cluster Replication is now available in a public preview</p>
            <p class="feature-description">Physical Cluster Replication is an asynchonous replication feature that allows your cluster to recover from full-cluster failure with a low RPO and RTO. In 23.2, it is an enterprise-only Public Preview feature, requiring a CCL license, and only available for self-hosted CockroachDB deployments.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
        <td class="icon-center">{% include icon-no.html %}</td>
    </tr>
</table>

<h4 id="v23-2-0-kv">KV</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
        <td>
            <p class="feature-summary">Delete operation admission control</p>
            <p class="feature-description">Reduces potential impact of deleting a large number of rows (both directly as well as implicitly via row level ttl) on query performance and system stability.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Replication admission control</p>
            <p class="feature-description">System automatically paces work for which longer exection times are acceptable (such as index backfills) at the speed of the slowest replica in order to maintain cluster stability and throughput</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
</table>

<h4 id="v23-2-0-sql-foundations">SQL Foundations</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
        <td>
            <p class="feature-summary">Revoke CREATE privilege by default for public schema</p>
            <p class="feature-description">Newer versions of Postgres (Postgres 15+) does not grant the CREATE privilege by default on the public schema. This change can be disruptive but to preserve Postgres compatibility it is now guarded behind a cluster setting as an opt in feature. This is controlled using a cluster setting: SET CLUSTER SETTING sql.auth.public_schema_create_privilege.enabled=true;</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Easily find Default Privileges for a Role</p>
            <p class="feature-description">This feature adds a simple syntax to see the default privileges for a particular grantee. SHOW DEFAULT PRIVILEGES FOR GRANTEE root;</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Column Level Encryption</p>
            <p class="feature-description">CockroachDB now supports [column-level encryption]({% link v23.2/column-level-encryption.md %}) through a set of built-in functions. This feature allows you to encrypt one or more columns in every row of a database table, and can be useful for compliance scenarios such as adhering to PCI or GDPR.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
</table>

<h4 id="v23-2-0-sql-queries">SQL Queries</h4>

<table>
    <tr>
        <th class="center-align" colspan="1" rowspan="2">Feature</th>
        <th class="center-align" colspan="4" rowspan="1">Availability</th>
    </tr>
    <tr>
        <th colspan="1" rowspan="1">Ver.</th>
        <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-Hosted</th>
        <th colspan="1" rowspan="1">Dedicated</th>
        <th colspan="1" rowspan="1">Serverless</th>
    </tr>
    <!-- Rows for each feature -->
    <tr>
        <td>
            <p class="feature-summary">Support Read Committed Isolation Level</p>
            <p class="feature-description">Read Committed is a weaker isolation level than Serializable and is the default isolation levels in many databases such as Oracle, SQL Server. Read Committed isolation level allows reads while writes are in progress and thus helps reduce query retries caused by read/write contentions.</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Improved UDF capabilities</p>
            <p class="feature-description">UDFs now support mutations (INSERT, UPDATE, UPSERT, DELETE)</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
    <tr>
        <td>
            <p class="feature-summary">Support PL/pgSQL capabilities</p>
            <p class="feature-description">Reduce compatibility gap between CRDB and Postgres by supporting PL/pgSQL capabilities such as Stored Procedures, block structure, control structure, exception handling and etc</p>
        </td>
        <td>23.2</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
        <td class="icon-center">{% include icon-yes.html %}</td>
    </tr>
</table>

<h4 id="v23-2-0-backward-incompatible-changes">Backward-incompatible changes</h4>

Before [upgrading to CockroachDB v23.2]({% link v23.2/upgrade-cockroach-version.md %}), be sure to review the following backward-incompatible changes, as well as key cluster setting changes, and adjust your deployment as necessary.

<!-- alpha.1 TODO: Remove this comment -->
- The pre-v23.1 output produced by `SHOW RANGES`, `crdb_internal.ranges`, and `crdb_internal.ranges_no_leases` was deprecated in v23.1 and is now replaced by default with output that's compatible with coalesced ranges (anges that pack multiple tables/indexes/partitions into individual ranges). See the [v23.1 release notes]({% link releases/v23.1.md %}) for `SHOW RANGES` for more details. [#102961][#102961]
- When a deployment is configured to use a time zone (new feature) for log file output using formats `crdb-v1` or `crdb-v2`, it becomes impossible to process the new output log files using the [`cockroach debug merge-logs` command]({% link v23.2/cockroach-debug-merge-logs.md %}) from a previous version. The newest `cockroach debug merge-logs` code must be used instead. [#104265][#104265]
- When customizing the [SQL shell's interactive prompt]({% link v23.2/cockroach-sql.md %}), the special sequence `%M` now expands to the full host name instead of the combination of host name and port number. To include the port number explicitly, use `%>`. The special sequence `%m` now expands to the host name up to the first period. [#105137][#105137]
- The [`cockroach debug zip`]({% link v23.2/cockroach-debug-zip.md %}) command stores data retrieved from SQL tables in the remote cluster using the TSV format by default. [#107474][#107474]
<!-- alpha.3 TODO: Remove this comment -->
- The direct export of traces to Jaeger and the [cluster setting](../v23.2/cluster-settings.html) `trace.jaeger.agent` have been removed. The direct export functionality had been obsoleted since 2022; it stopped working altogether sometime in 2023 with the following error: `data does not fit within one UDP packet; size 65006, max 65000, spans NN`. Since 2022, Jaeger supports ingestion of traces using OTLP; and CockroachDB has supported emitting traces using OTLP since v22.1. Operators and developers who want to inspect traces are thus invited to use the OTLP protocol instead. The corresponding cluster setting is `trace.opentelemetry.collector`. For a successful deployment, an intermediate OTLP collector/forwarder should be configured.
  - You can orchestrate the OpenTelemetry collector and Jaeger together using Docker Compose by adapting the following example:

    ~~~ yaml
    otel-collector:
      image: otel/opentelemetry-collector-contrib
      container_name: otel-collector
      volumes:
        - ./otel-collector-config.yaml:/etc/otelcol-contrib/config.yaml
      ports:
        - 1888:1888 # pprof extension
        - 8888:8888 # Prometheus metrics exposed by the collector
        - 8889:8889 # Prometheus exporter metrics
        - 13133:13133 # health_check extension
        - 4317:4317 # OTLP gRPC receiver
        - 4318:4318 # OTLP http receiver
        - 55679:55679 # zpages extension

    jaeger:
      image: jaegertracing/all-in-one
      container_name: jaeger
      ports:
        - "16685:16685"
        - "16686:16686"
        - "14250:14250"
        - "14268:14268"
        - "14269:14269"
        - "6831:6831/udp"
      environment:
        - COLLECTOR_ZIPKIN_HTTP_PORT=9411
        - COLLECTOR_OTLP_ENABLED=true
    ~~~

  - To configure the `otel-collector`, you can adapt this example:

    ~~~ yaml
    receivers:
      otlp: # the OTLP receiver the app is sending traces to
        protocols:
          grpc:
          http:

    processors:
      batch:

    exporters:
      otlp/jaeger: # Jaeger supports OTLP directly
        endpoint: http://jaeger:4317
        tls:
          insecure: true

    service:
      pipelines:
        traces/dev:
          receivers: [otlp]
          processors: [batch]
          exporters: [otlp/jaeger]
    ~~~

  To use this configuration, unset Jaeger via `SET CLUSTER SETTING trace.jaeger.agent=''`, and then set the OTLP collector using `SET CLUSTER SETTING trace.opentelemetry.collector='localhost:4317'`.
<!-- alpha.1 TODO: Remove this comment -->


<h4 id="v23-2-0-cluster-settings">Key Cluster Setting Changes</h4>

The following changes should be reviewed prior to upgrading. Default cluster settings will be used unless you have manually set a value for a setting. This can be confirmed by checking the `system.settings` table (`select * from system.settings`) to view the non-default settings.

<!-- Rolled up from alpha.1 through beta.3 -->
- The new [cluster setting]({% link v23.2/cluster-settings.md %}) `sql.txn.read_committed_syntax.enabled`, controls whether transactions run under `READ COMMITTED` or `SERIALIZABLE` isolation. It defaults to `false`. When set to `true`, the following statements will configure transactions to run under `READ COMMITTED` isolation:

  - `BEGIN TRANSACTION ISOLATION LEVEL READ COMMITTED`
  - `SET TRANSACTION ISOLATION LEVEL READ COMMITTED`
  - `SET default_transaction_isolation = 'read committed'`
  - `SET SESSION CHARACTERISTICS AS TRANSACTION ISOLATION LEVEL READ COMMITTED`

    [#110624][#110624]
- The `sql.txn.read_committed_syntax.enabled` [cluster setting](../v23.2/cluster-settings.html) was renamed to [`sql.txn.read_committed_isolation.enabled`](../v23.2/cluster-settings.html#setting-sql-txn-read-committed-isolation-enabled). [#113833][#113833]
- Users who have the [`CREATEROLE` role option]({% link v23.2/grant.md %}) can now grant and revoke role membership in any non-admin role. This change also removes the [`sql.auth.createrole_allows_grant_role_membership.enabled` cluster setting]({% link v23.2/cluster-settings.md %}), which was added in v23.1. In v23.2, the cluster setting is effectively always true. [#104376][#104376]
- The [cluster setting](https://www.cockroachlabs.com/docs/v23.2/cluster-settings) `sql.metrics.statement_details.gateway_node.enabled` now defaults to false to reduce the number of rows generated in SQL Statistics pages. [#107788][#107788]
- The [cluster setting]({% link v23.2/cluster-settings.md %}) `kv.rangefeed.enabled` no longer controls access to `RANGEFEED SQL` commands. Instead, use `feature.changefeed.enabled`. [#110676][#110676]
- The [cluster settings]({% link v23.2/cluster-settings.md %}) related to [physical cluster replication](../v23.2/physical-cluster-replication-overview.html) have been renamed for consistency. For example, `bulkio.stream_ingestion.minimum_flush_interval` is now named `physical_replication.consumer.minimum_flush_interval`. [#111197][#111197]
- CockroachDB now periodically dumps the state of its internal memory accounting system into the `heap_profiler/` directory when a heap profile is taken. To disable this behavior, set the `diagnostics.memory_monitoring_dumps.enabled` [cluster setting]({% link v23.2/cluster-settings.md %}) to `false`. [#114998][#114998]
- Introduced the [cluster setting](../v23.2/cluster-settings.html) `kv.gc.sticky_hint.enabled` in v23.1.13. This setting helps expedite [garbage collection](../v23.2/architecture/storage-layer.html#garbage-collection) after range deletions. For example, when a SQL table or index is dropped. `kv.gc.sticky_hint.enabled` is enabled by default and deprecated in v23.2. [#113040][#113040]
- CockroachDB now enables the pacing mechanism in rangefeed closed timestamp notifications, by setting the default `kv.rangefeed.closed_timestamp_smear_interval` cluster setting to 1ms. This makes rangefeed closed timestamp delivery more uniform and less spikey, which reduces its impact on the Go scheduler and, ultimately, foreground SQL latencies. [#103006][#103006]


<h4 id="v23-2-0-deprecations">Deprecations</h4>

TODO: Compile from past 23.2 testing releases on this page.

<h4 id="v23-2-0-known-limitations">Known limitations</h4>

For information about new and unresolved limitations in CockroachDB v23.1, with suggested workarounds where applicable, see [Known Limitations](https://www.cockroachlabs.com/docs/v23.2/known-limitations).

TODO: Implement Eng feedback and add:

- cockroachdb/cockroach#115680
- cockroachdb/cockroach#115384
- cockroachdb/cockroach#105245
- cockroachdb/cockroach#105240

<h4 id="v23-2-0-additional-resources">Additional resources</h4>

TODO: Update this table to reflect latest content to feature.

Resource             | Topic                                      | Description
---------------------+--------------------------------------------+-------------
Cockroach University | [Introduction to Distributed SQL and CockroachDB](https://university.cockroachlabs.com/courses/course-v1:crl+intro-to-distributed-sql-and-cockroachdb+self-paced/about) | This course introduces the core concepts behind distributed SQL databases and describes how CockroachDB fits into this landscape. You will learn what differentiates CockroachDB from both legacy SQL and NoSQL databases and how CockroachDB ensures consistent transactions without sacrificing scale and resiliency. You'll learn about CockroachDB's seamless horizontal scalability, distributed transactions with strict ACID guarantees, and high availability and resilience.
Cockroach University | [Practical First Steps with CockroachDB](https://university.cockroachlabs.com/courses/course-v1:crl+practical-first-steps-with-crdb+self-paced/about) | This course will give you the tools you need to get started with CockroachDB. During the course, you will learn how to spin up a cluster, use the Admin UI to monitor cluster activity, and use SQL shell to solve a set of hands-on exercises.
Cockroach University | [Building a Highly Resilient Multi-region Database using CockroachDB](https://university.cockroachlabs.com/courses/course-v1:crl+intro-to-resilience-in-multi-region+self-paced/about) | This course is part of a series introducing solutions to running low-latency, highly resilient applications for data-intensive workloads on CockroachDB. In this course we focus on surviving large-scale infrastructure failures like losing an entire cloud region without losing data during recovery. Weâ€™ll show you how to use CockroachDB survival goals in a multi-region cluster to implement a highly resilient database that survives node or network failures across multiple regions with zero data loss.
Cockroach University | [Introduction to Serverless Databases and CockroachDB Serverless](https://university.cockroachlabs.com/courses/course-v1:crl+intro-to-serverless+self-paced/about) | This course introduces the core concepts behind serverless databases and gives you the tools you need to get started with CockroachDB Serverless. You will learn how serverless databases remove the burden of configuring, sizing, provisioning, securing, maintaining and dynamically scaling your database based on load. This means you simply pay for the serverless database resources you use.
Docs                 | [Migration Overview](https://www.cockroachlabs.com/docs/v23.2/migration-overview) | This page summarizes the steps of migrating a database to CockroachDB, which include testing and updating your schema to work with CockroachDB, moving your data into CockroachDB, and testing and updating your application.
Docs                 | [Developer Guide Overview](https://www.cockroachlabs.com/docs/v23.2/developer-guide-overview) | This page provides an overview of resources available to developers building applications on CockroachDB.
Docs                 | [Security Overview](https://www.cockroachlabs.com/docs/v23.2/security-reference/security-overview) | The 23.1 release encapsulates a number of security milestones. See the security overview for a summary.
Docs                 | [Architecture Overview](https://www.cockroachlabs.com/docs/v23.2/architecture/overview) | This page provides a starting point for understanding the architecture and design choices that enable CockroachDB's scalability and consistency capabilities.
Docs                 | [SQL Feature Support](https://www.cockroachlabs.com/docs/v23.2/sql-feature-support) | The page summarizes the standard SQL features CockroachDB supports as well as common extensions to the standard.
Docs                 | [Change Data Capture Overview](https://www.cockroachlabs.com/docs/v23.2/change-data-capture-overview) | This page summarizes CockroachDB's data streaming capabilities. Change data capture (CDC) provides efficient, distributed, row-level changefeeds into a configurable sink for downstream processing such as reporting, caching, or full-text indexing.
Docs                 | [Backup Architecture](https://www.cockroachlabs.com/docs/v23.2/backup-architecture) | This page describes the backup job workflow with a high-level overview, diagrams, and more details on each phase of the job.
