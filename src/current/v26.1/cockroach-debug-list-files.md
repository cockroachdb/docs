---
title: cockroach debug list-files
summary: Learn the command for listing the files collected in the debug zip.
toc: true
key: debug-list-files.html
docs_area: reference.cli
---

The `cockroach debug list-files` [command]({% link {{ page.version.version }}/cockroach-commands.md %}) shows the files that will be collected by using [`cockroach debug zip`]({% link {{ page.version.version }}/cockroach-debug-zip.md %}).

{{site.data.alerts.callout_info}}
The files listed include logs, heap profiles, goroutine dumps, and CPU profiles. Other [files]({% link {{ page.version.version }}/cockroach-debug-zip.md %}#files) generated by `cockroach debug zip` are not listed by `cockroach debug list-files`.
{{site.data.alerts.end}}

## Subcommands

{% include {{ page.version.version }}/misc/debug-subcommands.md %}

## Synopsis

~~~ shell
$ cockroach debug list-files {flags}
~~~

## Flags

The `debug list-files` subcommand supports the following [general-use](#general), [client connection](#client-connection), and [logging](#logging) flags.

### General

Flag | Description
-----|-----------
`--exclude-files` | [Files]({% link {{ page.version.version }}/cockroach-debug-zip.md %}#files) to exclude from the generated `.zip`. This can be used to limit the size of the generated `.zip`, and affects logs, heap profiles, goroutine dumps, and/or CPU profiles. The files are specified as a comma-separated list of [glob patterns](https://wikipedia.org/wiki/Glob_(programming)). For example:<br /><br />`--exclude-files=*.log`<br /><br />Note that this flag is applied _after_ `--include_files`.
`--exclude-nodes` | Specify nodes to exclude from inspection as a comma-separated list or range of node IDs. For example:<br /><br />`--exclude-nodes=1,10,13-15`
`--files-from` | Start timestamp for log file, goroutine dump, and heap profile collection. This can be used to limit the size of the generated `.zip`, which is increased by these files. The timestamp uses the format `YYYY-MM-DD`, followed optionally by `HH:MM:SS` or `HH:MM`. For example:<br /><br />`--files-from='2021-07-01 15:00'`<br /><br />When specifying a narrow time window, we recommend adding extra seconds/minutes to account for uncertainties such as clock drift.<br /><br />**Default:** 48 hours before now
`--files-until` | End timestamp for log file, goroutine dump, and heap profile collection. This can be used to limit the size of the generated `.zip`, which is increased by these files. The timestamp uses the format `YYYY-MM-DD`, followed optionally by `HH:MM:SS` or `HH:MM`. For example:<br /><br />`--files-until='2021-07-01 16:00'`<br /><br />When specifying a narrow time window, we recommend adding extra seconds/minutes to account for uncertainties such as clock drift.<br /><br />**Default:** 24 hours beyond now (to include files created during `.zip` creation)
`--format` | Specify a format to display table rows. This can be `tsv`, `csv`, `table`, `records`, `sql`, `raw`, or `html`.<br /><br />**Default:** `table` (interactive sessions), `tsv` (non-interactive sessions)
`--include-files` | [Files]({% link {{ page.version.version }}/cockroach-debug-zip.md %}#files) to include in the generated `.zip`. This can be used to limit the size of the generated `.zip`, and affects logs, heap profiles, goroutine dumps, and/or CPU profiles. The files are specified as a comma-separated list of [glob patterns](https://wikipedia.org/wiki/Glob_(programming)). For example:<br /><br />`--include-files=*.pprof`<br /><br />Note that this flag is applied _before_ `--exclude-files`.
`--nodes` | Specify nodes to inspect as a comma-separated list or range of node IDs. For example:<br /><br />`--nodes=1,10,13-15`

### Client connection

{% include {{ page.version.version }}/sql/connection-parameters.md %}
`--cluster-name` | The cluster name to use to verify the cluster's identity. If the cluster has a cluster name, you must include this flag. For more information, see [`cockroach start`]({% link {{ page.version.version }}/cockroach-start.md %}#general).
`--disable-cluster-name-verification` | Disables the cluster name check for this command. This flag must be paired with `--cluster-name`. For more information, see [`cockroach start`]({% link {{ page.version.version }}/cockroach-start.md %}#general).

### Logging

{% include {{ page.version.version }}/misc/debug-subcommands.md %}

## Examples

### List all collected files

{% include_cached copy-clipboard.html %}
~~~ shell
$ cockroach debug list-files
~~~

{{site.data.alerts.callout_info}}
The files listed include logs, heap profiles, goroutine dumps, and CPU profiles. Other [files]({% link {{ page.version.version }}/cockroach-debug-zip.md %}#files) generated by `cockroach debug zip` are not listed by `cockroach debug list-files`.
{{site.data.alerts.end}}

### List all collected log files

{% include_cached copy-clipboard.html %}
~~~ shell
$ cockroach debug list-files --include-files=*.log
~~~

### List all collected files (TSV format)

{% include_cached copy-clipboard.html %}
~~~ shell
$ cockroach debug list-files --format=tsv
~~~
