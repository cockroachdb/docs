#!/bin/bash

files=("advisories/a101963.md"
"advisories/a102375.md"
"advisories/a103220.md"
"advisories/a30821.md"
"advisories/a42567.md"
"advisories/a43870.md"
"advisories/a44166.md"
"advisories/a44299.md"
"advisories/a44348.md"
"advisories/a48860.md"
"advisories/a50587.md"
"advisories/a54418.md"
"advisories/a56116.md"
"advisories/a58932.md"
"advisories/a62842.md"
"advisories/a63162.md"
"advisories/a64325.md"
"advisories/a68005.md"
"advisories/a69874.md"
"advisories/a71002.md"
"advisories/a71553.md"
"advisories/a71655.md"
"advisories/a72839.md"
"advisories/a73024.md"
"advisories/a73629.md"
"advisories/a74385.md"
"advisories/a74736.md"
"advisories/a75758.md"
"advisories/a76522.md"
"advisories/a78681.md"
"advisories/a79066.md"
"advisories/a79281.md"
"advisories/a79384.md"
"advisories/a81315.md"
"advisories/a81448.md"
"advisories/a81968.md"
"advisories/a82079.md"
"advisories/a82309.md"
"advisories/a82576.md"
"advisories/a84144.md"
"advisories/a88042.md"
"advisories/a88407.md"
"advisories/a88993.md"
"advisories/a90146.md"
"advisories/a93314.md"
"advisories/a93398.md"
"advisories/a96029.md"
"advisories/a96465.md"
"advisories/a96924.md"
"advisories/a97090.md"
"advisories/a97178.md"
"advisories/a97932.md"
"advisories/a98779.md"
"advisories/a99049.md"
"advisories/a99561.md"
"advisories/a99796.md"
"advisories/acve-2021-44228.md"
"advisories/c20230118.md"
"advisories/index.md"
"cockroachcloud/alerts-page.md"
"cockroachcloud/architecture.md"
"cockroachcloud/authentication.md"
"cockroachcloud/authorization.md"
"cockroachcloud/aws-privatelink.md"
"cockroachcloud/billing-management.md"
"cockroachcloud/ccloud-faq.md"
"cockroachcloud/ccloud-get-started.md"
"cockroachcloud/client-certs-dedicated.md"
"cockroachcloud/cloud-api.md"
"cockroachcloud/cloud-org-audit-logs.md"
"cockroachcloud/cloud-org-sso.md"
"cockroachcloud/cloud-sso-sql.md"
"cockroachcloud/cluster-management.md"
"cockroachcloud/cluster-overview-page.md"
"cockroachcloud/cmek-ops-aws.md"
"cockroachcloud/cmek-ops-gcp.md"
"cockroachcloud/cmek.md"
"cockroachcloud/cockroachdb-dedicated-on-azure.md"
"cockroachcloud/compliance.md"
"cockroachcloud/configure-cloud-org-sso.md"
"cockroachcloud/configure-scim-provisioning.md"
"cockroachcloud/connect-to-a-serverless-cluster.md"
"cockroachcloud/connect-to-your-cluster.md"
"cockroachcloud/create-a-serverless-cluster.md"
"cockroachcloud/create-an-account.md"
"cockroachcloud/create-your-cluster.md"
"cockroachcloud/databases-page.md"
"cockroachcloud/deploy-a-python-to-do-app-with-flask-kubernetes-and-cockroachcloud.md"
"cockroachcloud/egress-perimeter-controls.md"
"cockroachcloud/export-logs.md"
"cockroachcloud/export-metrics.md"
"cockroachcloud/frequently-asked-questions.md"
"cockroachcloud/index.md"
"cockroachcloud/insights-page.md"
"cockroachcloud/jobs-page.md"
"cockroachcloud/learn-cockroachdb-sql.md"
"cockroachcloud/managing-access.md"
"cockroachcloud/managing-cmek.md"
"cockroachcloud/metrics-page.md"
"cockroachcloud/migrate-from-serverless-to-dedicated.md"
"cockroachcloud/migrations-page.md"
"cockroachcloud/network-authorization.md"
"cockroachcloud/optimize-serverless-workload.md"
"cockroachcloud/pci-dss.md"
"cockroachcloud/plan-your-cluster-serverless.md"
"cockroachcloud/plan-your-cluster.md"
"cockroachcloud/private-clusters.md"
"cockroachcloud/production-checklist.md"
"cockroachcloud/provision-a-cluster-with-terraform.md"
"cockroachcloud/quickstart-trial-cluster.md"
"cockroachcloud/quickstart.md"
"cockroachcloud/regions.md"
"cockroachcloud/security-overview.md"
"cockroachcloud/serverless-benchmarking.md"
"cockroachcloud/serverless-cluster-management.md"
"cockroachcloud/serverless-faqs.md"
"cockroachcloud/serverless-unsupported-features.md"
"cockroachcloud/sessions-page.md"
"cockroachcloud/sql-audit-logging.md"
"cockroachcloud/statements-page.md"
"cockroachcloud/stream-changefeed-to-snowflake-aws.md"
"cockroachcloud/take-and-restore-customer-owned-backups.md"
"cockroachcloud/tools-page.md"
"cockroachcloud/transactions-page.md"
"cockroachcloud/troubleshooting-page.md"
"cockroachcloud/upgrade-policy.md"
"cockroachcloud/upgrade-to-v20.1.md"
"cockroachcloud/upgrade-to-v20.2.md"
"cockroachcloud/upgrade-to-v21.1.md"
"cockroachcloud/upgrade-to-v21.2.md"
"cockroachcloud/upgrade-to-v22.1.md"
"cockroachcloud/upgrade-to-v22.2.md"
"cockroachcloud/upgrade-to-v23.1.md"
"cockroachcloud/use-managed-service-backups.md"
"releases/cloud.md"
"releases/index.md"
"releases/kubernetes-operator.md"
"releases/release-support-policy.md"
"releases/v1.0.md"
"releases/v1.1.md"
"releases/v19.1.md"
"releases/v19.2.md"
"releases/v2.0.md"
"releases/v2.1.md"
"releases/v20.1.md"
"releases/v20.2.md"
"releases/v21.1.md"
"releases/v21.2.md"
"releases/v22.1.md"
"releases/v22.2.md"
"releases/v23.1.md"
"v23.1/404.md"
"v23.1/admission-control.md"
"v23.1/advanced-changefeed-configuration.md"
"v23.1/advanced-client-side-transaction-retries.md"
"v23.1/alembic.md"
"v23.1/alter-backup-schedule.md"
"v23.1/alter-backup.md"
"v23.1/alter-changefeed.md"
"v23.1/alter-database.md"
"v23.1/alter-default-privileges.md"
"v23.1/alter-function.md"
"v23.1/alter-index.md"
"v23.1/alter-partition.md"
"v23.1/alter-range.md"
"v23.1/alter-role.md"
"v23.1/alter-schema.md"
"v23.1/alter-sequence.md"
"v23.1/alter-table.md"
"v23.1/alter-type.md"
"v23.1/alter-user.md"
"v23.1/alter-view.md"
"v23.1/api-support-policy.md"
"v23.1/apply-statement-performance-rules.md"
"v23.1/architecture/distribution-layer.md"
"v23.1/architecture/glossary.md"
"v23.1/architecture/life-of-a-distributed-transaction.md"
"v23.1/architecture/overview.md"
"v23.1/architecture/reads-and-writes-overview.md"
"v23.1/architecture/replication-layer.md"
"v23.1/architecture/sql-layer.md"
"v23.1/architecture/storage-layer.md"
"v23.1/architecture/transaction-layer.md"
"v23.1/array.md"
"v23.1/as-of-system-time.md"
"v23.1/authentication.md"
"v23.1/authorization.md"
"v23.1/auto-tls.md"
"v23.1/automatic-cpu-profiler.md"
"v23.1/aws-dms.md"
"v23.1/backup-and-restore-monitoring.md"
"v23.1/backup-and-restore-overview.md"
"v23.1/backup-architecture.md"
"v23.1/backup-validation.md"
"v23.1/backup.md"
"v23.1/begin-transaction.md"
"v23.1/bit.md"
"v23.1/bool.md"
"v23.1/build-a-csharp-app-with-cockroachdb.md"
"v23.1/build-a-go-app-with-cockroachdb-gorm.md"
"v23.1/build-a-go-app-with-cockroachdb-pq.md"
"v23.1/build-a-go-app-with-cockroachdb-upperdb.md"
"v23.1/build-a-go-app-with-cockroachdb.md"
"v23.1/build-a-java-app-with-cockroachdb-hibernate.md"
"v23.1/build-a-java-app-with-cockroachdb-jooq.md"
"v23.1/build-a-java-app-with-cockroachdb.md"
"v23.1/build-a-nodejs-app-with-cockroachdb-knexjs.md"
"v23.1/build-a-nodejs-app-with-cockroachdb-prisma.md"
"v23.1/build-a-nodejs-app-with-cockroachdb-sequelize.md"
"v23.1/build-a-nodejs-app-with-cockroachdb.md"
"v23.1/build-a-python-app-with-cockroachdb-asyncpg.md"
"v23.1/build-a-python-app-with-cockroachdb-django.md"
"v23.1/build-a-python-app-with-cockroachdb-psycopg3.md"
"v23.1/build-a-python-app-with-cockroachdb-sqlalchemy.md"
"v23.1/build-a-python-app-with-cockroachdb.md"
"v23.1/build-a-ruby-app-with-cockroachdb-activerecord.md"
"v23.1/build-a-ruby-app-with-cockroachdb.md"
"v23.1/build-a-rust-app-with-cockroachdb.md"
"v23.1/build-a-spring-app-with-cockroachdb-jdbc.md"
"v23.1/build-a-spring-app-with-cockroachdb-jpa.md"
"v23.1/build-a-spring-app-with-cockroachdb-mybatis.md"
"v23.1/build-a-typescript-app-with-cockroachdb.md"
"v23.1/bulk-delete-data.md"
"v23.1/bulk-update-data.md"
"v23.1/bytes.md"
"v23.1/cancel-job.md"
"v23.1/cancel-query.md"
"v23.1/cancel-session.md"
"v23.1/cdc-queries.md"
"v23.1/change-data-capture-overview.md"
"v23.1/changefeed-examples.md"
"v23.1/changefeed-for.md"
"v23.1/changefeed-messages.md"
"v23.1/changefeed-sinks.md"
"v23.1/changefeeds-in-multi-region-deployments.md"
"v23.1/changefeeds-on-tables-with-column-families.md"
"v23.1/check.md"
"v23.1/choose-a-deployment-option.md"
"v23.1/choosing-a-multi-region-configuration.md"
"v23.1/cloud-storage-authentication.md"
"v23.1/cluster-api.md"
"v23.1/cluster-settings.md"
"v23.1/cluster-setup-troubleshooting.md"
"v23.1/cockroach-auth-session.md"
"v23.1/cockroach-cert.md"
"v23.1/cockroach-commands.md"
"v23.1/cockroach-debug-ballast.md"
"v23.1/cockroach-debug-encryption-active-key.md"
"v23.1/cockroach-debug-encryption-decrypt.md"
"v23.1/cockroach-debug-job-trace.md"
"v23.1/cockroach-debug-list-files.md"
"v23.1/cockroach-debug-merge-logs.md"
"v23.1/cockroach-debug-tsdump.md"
"v23.1/cockroach-debug-zip.md"
"v23.1/cockroach-demo.md"
"v23.1/cockroach-gen.md"
"v23.1/cockroach-import.md"
"v23.1/cockroach-init.md"
"v23.1/cockroach-node.md"
"v23.1/cockroach-nodelocal-upload.md"
"v23.1/cockroach-sql-binary.md"
"v23.1/cockroach-sql.md"
"v23.1/cockroach-sqlfmt.md"
"v23.1/cockroach-start-single-node.md"
"v23.1/cockroach-start.md"
"v23.1/cockroach-statement-diag.md"
"v23.1/cockroach-userfile-delete.md"
"v23.1/cockroach-userfile-get.md"
"v23.1/cockroach-userfile-list.md"
"v23.1/cockroach-userfile-upload.md"
"v23.1/cockroach-version.md"
"v23.1/cockroach-workload.md"
"v23.1/cockroachdb-feature-availability.md"
"v23.1/cockroachdb-in-comparison.md"
"v23.1/collate.md"
"v23.1/column-families.md"
"v23.1/comment-on.md"
"v23.1/commit-transaction.md"
"v23.1/common-errors.md"
"v23.1/common-issues-to-monitor.md"
"v23.1/common-table-expressions.md"
"v23.1/community-tooling.md"
"v23.1/computed-columns.md"
"v23.1/configure-cockroachdb-kubernetes.md"
"v23.1/configure-logs.md"
"v23.1/configure-replication-zones.md"
"v23.1/connect-to-a-changefeed-kafka-sink-with-oauth-using-okta.md"
"v23.1/connect-to-the-database.md"
"v23.1/connection-parameters.md"
"v23.1/connection-pooling.md"
"v23.1/constraints.md"
"v23.1/copy-from.md"
"v23.1/cost-based-optimizer.md"
"v23.1/crdb-internal.md"
"v23.1/create-and-configure-changefeeds.md"
"v23.1/create-changefeed.md"
"v23.1/create-database.md"
"v23.1/create-external-connection.md"
"v23.1/create-function.md"
"v23.1/create-index.md"
"v23.1/create-node-certs.res"
"v23.1/create-role.md"
"v23.1/create-schedule-for-backup.md"
"v23.1/create-schedule-for-changefeed.md"
"v23.1/create-schema.md"
"v23.1/create-security-certificates-custom-ca.md"
"v23.1/create-security-certificates-openssl.md"
"v23.1/create-sequence.md"
"v23.1/create-statistics.md"
"v23.1/create-table-as.md"
"v23.1/create-table.md"
"v23.1/create-type.md"
"v23.1/create-user.md"
"v23.1/create-view.md"
"v23.1/cursors.md"
"v23.1/data-domiciling.md"
"v23.1/data-types.md"
"v23.1/datadog.md"
"v23.1/date.md"
"v23.1/dbeaver.md"
"v23.1/dbmarlin.md"
"v23.1/decimal.md"
"v23.1/default-value.md"
"v23.1/delete-data.md"
"v23.1/delete.md"
"v23.1/demo-automatic-cloud-migration.md"
"v23.1/demo-fault-tolerance-and-recovery.md"
"v23.1/demo-json-support.md"
"v23.1/demo-low-latency-multi-region-deployment.md"
"v23.1/demo-replication-and-rebalancing.md"
"v23.1/demo-serializable.md"
"v23.1/deploy-app-gcr.md"
"v23.1/deploy-app-netlify.md"
"v23.1/deploy-app-vercel.md"
"v23.1/deploy-cockroachdb-on-aws-insecure.md"
"v23.1/deploy-cockroachdb-on-aws.md"
"v23.1/deploy-cockroachdb-on-digital-ocean-insecure.md"
"v23.1/deploy-cockroachdb-on-digital-ocean.md"
"v23.1/deploy-cockroachdb-on-google-cloud-platform-insecure.md"
"v23.1/deploy-cockroachdb-on-google-cloud-platform.md"
"v23.1/deploy-cockroachdb-on-microsoft-azure-insecure.md"
"v23.1/deploy-cockroachdb-on-microsoft-azure.md"
"v23.1/deploy-cockroachdb-on-premises-insecure.md"
"v23.1/deploy-cockroachdb-on-premises.md"
"v23.1/deploy-cockroachdb-with-kubernetes-insecure.md"
"v23.1/deploy-cockroachdb-with-kubernetes-openshift.md"
"v23.1/deploy-cockroachdb-with-kubernetes.md"
"v23.1/deploy-lambda-function.md"
"v23.1/developer-basics.md"
"v23.1/developer-guide-overview.md"
"v23.1/diagnostics-reporting.md"
"v23.1/disaster-recovery.md"
"v23.1/drop-database.md"
"v23.1/drop-external-connection.md"
"v23.1/drop-function.md"
"v23.1/drop-index.md"
"v23.1/drop-owned-by.md"
"v23.1/drop-role.md"
"v23.1/drop-schedules.md"
"v23.1/drop-schema.md"
"v23.1/drop-sequence.md"
"v23.1/drop-table.md"
"v23.1/drop-type.md"
"v23.1/drop-user.md"
"v23.1/drop-view.md"
"v23.1/enable-node-map.md"
"v23.1/encryption.md"
"v23.1/enterprise-licensing.md"
"v23.1/enum.md"
"v23.1/eventlog.md"
"v23.1/example-apps.md"
"v23.1/explain-analyze.md"
"v23.1/explain.md"
"v23.1/export-data-with-changefeeds.md"
"v23.1/export-spatial-data.md"
"v23.1/export.md"
"v23.1/expression-indexes.md"
"v23.1/file-an-issue.md"
"v23.1/fips.md"
"v23.1/float.md"
"v23.1/flyway.md"
"v23.1/follower-reads.md"
"v23.1/foreign-key.md"
"v23.1/frequently-asked-questions.md"
"v23.1/full-text-search.md"
"v23.1/functions-and-operators.md"
"v23.1/geojson.md"
"v23.1/geometrycollection.md"
"v23.1/geoserver.md"
"v23.1/get-started-with-enterprise-trial.md"
"v23.1/global-tables.md"
"v23.1/grant.md"
"v23.1/gssapi_authentication.md"
"v23.1/hash-sharded-indexes.md"
"v23.1/hashicorp-integration.md"
"v23.1/hasura-getting-started.md"
"v23.1/how-does-an-enterprise-changefeed-work.md"
"v23.1/import-into.md"
"v23.1/import-performance-best-practices.md"
"v23.1/import.md"
"v23.1/index.md"
"v23.1/indexes.md"
"v23.1/inet.md"
"v23.1/information-schema.md"
"v23.1/insert-data.md"
"v23.1/insert.md"
"v23.1/install-client-drivers.md"
"v23.1/install-cockroachdb-linux.md"
"v23.1/install-cockroachdb-mac.md"
"v23.1/install-cockroachdb-windows.md"
"v23.1/install-cockroachdb.md"
"v23.1/int.md"
"v23.1/intellij-idea.md"
"v23.1/interval.md"
"v23.1/inverted-indexes.md"
"v23.1/joins.md"
"v23.1/jsonb.md"
"v23.1/keywords-and-identifiers.md"
"v23.1/kibana.md"
"v23.1/known-limitations.md"
"v23.1/kubernetes-overview.md"
"v23.1/kubernetes-performance.md"
"v23.1/learn-cockroachdb-sql.md"
"v23.1/licensing-faqs.md"
"v23.1/limit-offset.md"
"v23.1/linestring.md"
"v23.1/liquibase.md"
"v23.1/load-based-splitting.md"
"v23.1/local-testing.md"
"v23.1/log-formats.md"
"v23.1/logging-overview.md"
"v23.1/logging-use-cases.md"
"v23.1/logging.md"
"v23.1/make-queries-fast.md"
"v23.1/manage-a-backup-schedule.md"
"v23.1/manage-certs-cli.md"
"v23.1/manage-certs-revoke-ocsp.md"
"v23.1/manage-certs-vault.md"
"v23.1/manage-long-running-queries.md"
"v23.1/manual-deployment.md"
"v23.1/map-sql-activity-to-app.md"
"v23.1/metrics.md"
"v23.1/migrate-from-avro.md"
"v23.1/migrate-from-csv.md"
"v23.1/migrate-from-geojson.md"
"v23.1/migrate-from-geopackage.md"
"v23.1/migrate-from-mysql.md"
"v23.1/migrate-from-openstreetmap.md"
"v23.1/migrate-from-oracle.md"
"v23.1/migrate-from-postgres.md"
"v23.1/migrate-from-shapefiles.md"
"v23.1/migrate-to-multiregion-sql.md"
"v23.1/migration-overview.md"
"v23.1/migration-strategy-lift-and-shift.md"
"v23.1/molt-verify.md"
"v23.1/monitor-and-debug-changefeeds.md"
"v23.1/monitor-cockroachdb-kubernetes.md"
"v23.1/monitor-cockroachdb-with-prometheus.md"
"v23.1/monitoring-and-alerting.md"
"v23.1/movr-flask-application.md"
"v23.1/movr-flask-database.md"
"v23.1/movr-flask-deployment.md"
"v23.1/movr-flask-setup.md"
"v23.1/movr-flask-use-case.md"
"v23.1/movr.md"
"v23.1/multi-active-availability.md"
"v23.1/multilinestring.md"
"v23.1/multipoint.md"
"v23.1/multipolygon.md"
"v23.1/multiregion-overview.md"
"v23.1/multiregion-scale-application.md"
"v23.1/multiregion-survival-goals.md"
"v23.1/node-shutdown.md"
"v23.1/not-null.md"
"v23.1/null-handling.md"
"v23.1/oid.md"
"v23.1/online-schema-changes.md"
"v23.1/operational-faqs.md"
"v23.1/orchestrate-a-local-cluster-with-kubernetes-insecure.md"
"v23.1/orchestrate-a-local-cluster-with-kubernetes.md"
"v23.1/orchestrate-cockroachdb-with-kubernetes-multi-cluster.md"
"v23.1/order-by.md"
"v23.1/pagination.md"
"v23.1/partial-indexes.md"
"v23.1/partitioning.md"
"v23.1/pause-job.md"
"v23.1/pause-schedules.md"
"v23.1/performance-benchmarking-with-tpcc-large.md"
"v23.1/performance-benchmarking-with-tpcc-local-multiregion.md"
"v23.1/performance-benchmarking-with-tpcc-local.md"
"v23.1/performance-benchmarking-with-tpcc-medium.md"
"v23.1/performance-benchmarking-with-tpcc-small.md"
"v23.1/performance-best-practices-overview.md"
"v23.1/performance-recipes.md"
"v23.1/performance.md"
"v23.1/pg-catalog.md"
"v23.1/pg-extension.md"
"v23.1/point.md"
"v23.1/polygon.md"
"v23.1/postgresql-compatibility.md"
"v23.1/primary-key.md"
"v23.1/qlik.md"
"v23.1/query-behavior-troubleshooting.md"
"v23.1/query-data.md"
"v23.1/query-replication-reports.md"
"v23.1/query-spatial-data.md"
"v23.1/reassign-owned.md"
"v23.1/recommended-production-settings.md"
"v23.1/refresh.md"
"v23.1/regional-tables.md"
"v23.1/release-savepoint.md"
"v23.1/reset-cluster-setting.md"
"v23.1/reset-vars.md"
"v23.1/restore.md"
"v23.1/restoring-backups-across-versions.md"
"v23.1/resume-job.md"
"v23.1/resume-schedules.md"
"v23.1/revoke.md"
"v23.1/rollback-transaction.md"
"v23.1/rotate-certificates.md"
"v23.1/row-level-ttl.md"
"v23.1/run-multi-statement-transactions.md"
"v23.1/satori-integration.md"
"v23.1/savepoint.md"
"v23.1/scalar-expressions.md"
"v23.1/scale-cockroachdb-kubernetes.md"
"v23.1/schedule-cockroachdb-kubernetes.md"
"v23.1/schema-design-database.md"
"v23.1/schema-design-indexes.md"
"v23.1/schema-design-overview.md"
"v23.1/schema-design-schema.md"
"v23.1/schema-design-table.md"
"v23.1/schema-design-update.md"
"v23.1/secure-a-cluster.md"
"v23.1/secure-cockroachdb-kubernetes.md"
"v23.1/security-reference/authentication.md"
"v23.1/security-reference/authorization.md"
"v23.1/security-reference/config-secure-hba.md"
"v23.1/security-reference/encryption.md"
"v23.1/security-reference/scram-authentication.md"
"v23.1/security-reference/security-overview.md"
"v23.1/security-reference/transport-layer-security.md"
"v23.1/select-clause.md"
"v23.1/select-for-update.md"
"v23.1/selection-queries.md"
"v23.1/serial.md"
"v23.1/serverless-function-best-practices.md"
"v23.1/session-variables.md"
"v23.1/set-cluster-setting.md"
"v23.1/set-transaction.md"
"v23.1/set-vars.md"
"v23.1/show-backup.md"
"v23.1/show-cluster-setting.md"
"v23.1/show-columns.md"
"v23.1/show-constraints.md"
"v23.1/show-create-external-connection.md"
"v23.1/show-create-schedule.md"
"v23.1/show-create.md"
"v23.1/show-databases.md"
"v23.1/show-default-privileges.md"
"v23.1/show-enums.md"
"v23.1/show-full-table-scans.md"
"v23.1/show-grants.md"
"v23.1/show-index.md"
"v23.1/show-jobs.md"
"v23.1/show-locality.md"
"v23.1/show-partitions.md"
"v23.1/show-range-for-row.md"
"v23.1/show-ranges.md"
"v23.1/show-regions.md"
"v23.1/show-roles.md"
"v23.1/show-savepoint-status.md"
"v23.1/show-schedules.md"
"v23.1/show-schemas.md"
"v23.1/show-sequences.md"
"v23.1/show-sessions.md"
"v23.1/show-statements.md"
"v23.1/show-statistics.md"
"v23.1/show-super-regions.md"
"v23.1/show-system-grants.md"
"v23.1/show-tables.md"
"v23.1/show-trace.md"
"v23.1/show-transactions.md"
"v23.1/show-types.md"
"v23.1/show-users.md"
"v23.1/show-vars.md"
"v23.1/show-zone-configurations.md"
"v23.1/simulate-a-multi-region-cluster-on-localhost.md"
"v23.1/spatial-data-overview.md"
"v23.1/spatial-indexes.md"
"v23.1/spatial-tutorial.md"
"v23.1/sql-audit-logging.md"
"v23.1/sql-constants.md"
"v23.1/sql-faqs.md"
"v23.1/sql-feature-support.md"
"v23.1/sql-grammar.md"
"v23.1/sql-name-resolution.md"
"v23.1/sql-statements.md"
"v23.1/sql-tuning-with-explain.md"
"v23.1/srid-4326.md"
"v23.1/sso-db-console.md"
"v23.1/sso-sql.md"
"v23.1/st_contains.md"
"v23.1/st_convexhull.md"
"v23.1/st_coveredby.md"
"v23.1/st_covers.md"
"v23.1/st_disjoint.md"
"v23.1/st_equals.md"
"v23.1/st_intersects.md"
"v23.1/st_overlaps.md"
"v23.1/st_touches.md"
"v23.1/st_union.md"
"v23.1/st_within.md"
"v23.1/start-a-local-cluster-in-docker-linux.md"
"v23.1/start-a-local-cluster-in-docker-mac.md"
"v23.1/start-a-local-cluster-in-docker-windows.md"
"v23.1/start-a-local-cluster.md"
"v23.1/stream-a-changefeed-to-a-confluent-cloud-kafka-cluster.md"
"v23.1/striim.md"
"v23.1/string.md"
"v23.1/subqueries.md"
"v23.1/support-resources.md"
"v23.1/system-catalogs.md"
"v23.1/table-expressions.md"
"v23.1/table-localities.md"
"v23.1/take-and-restore-encrypted-backups.md"
"v23.1/take-and-restore-locality-aware-backups.md"
"v23.1/take-backups-with-revision-history-and-restore-from-a-point-in-time.md"
"v23.1/take-full-and-incremental-backups.md"
"v23.1/take-locality-restricted-backups.md"
"v23.1/temporary-tables.md"
"v23.1/third-party-database-tools.md"
"v23.1/third-party-monitoring-tools.md"
"v23.1/time.md"
"v23.1/timestamp.md"
"v23.1/topology-basic-production.md"
"v23.1/topology-development.md"
"v23.1/topology-follow-the-workload.md"
"v23.1/topology-follower-reads.md"
"v23.1/topology-patterns.md"
"v23.1/transaction-retry-error-example.md"
"v23.1/transaction-retry-error-reference.md"
"v23.1/transactions.md"
"v23.1/trigram-indexes.md"
"v23.1/troubleshooting-overview.md"
"v23.1/truncate.md"
"v23.1/tsquery.md"
"v23.1/tsvector.md"
"v23.1/ui-cdc-dashboard.md"
"v23.1/ui-cluster-overview-page.md"
"v23.1/ui-custom-chart-debug-page.md"
"v23.1/ui-databases-page.md"
"v23.1/ui-debug-pages.md"
"v23.1/ui-distributed-dashboard.md"
"v23.1/ui-hardware-dashboard.md"
"v23.1/ui-hot-ranges-page.md"
"v23.1/ui-insights-page.md"
"v23.1/ui-jobs-page.md"
"v23.1/ui-key-visualizer.md"
"v23.1/ui-network-latency-page.md"
"v23.1/ui-overload-dashboard.md"
"v23.1/ui-overview-dashboard.md"
"v23.1/ui-overview.md"
"v23.1/ui-queues-dashboard.md"
"v23.1/ui-replication-dashboard.md"
"v23.1/ui-runtime-dashboard.md"
"v23.1/ui-schedules-page.md"
"v23.1/ui-sessions-page.md"
"v23.1/ui-slow-requests-dashboard.md"
"v23.1/ui-sql-dashboard.md"
"v23.1/ui-statements-page.md"
"v23.1/ui-storage-dashboard.md"
"v23.1/ui-transactions-page.md"
"v23.1/ui-ttl-dashboard.md"
"v23.1/unique.md"
"v23.1/update-data.md"
"v23.1/update.md"
"v23.1/upgrade-cockroach-version.md"
"v23.1/upgrade-cockroachdb-kubernetes.md"
"v23.1/upsert.md"
"v23.1/use-a-local-file-server.md"
"v23.1/use-cloud-storage.md"
"v23.1/use-userfile-storage.md"
"v23.1/user-defined-functions.md"
"v23.1/uuid.md"
"v23.1/vault-db-secrets-tutorial.md"
"v23.1/vectorized-execution.md"
"v23.1/views.md"
"v23.1/well-known-binary.md"
"v23.1/well-known-text.md"
"v23.1/why-cockroachdb.md"
"v23.1/window-functions.md"
"v23.1/with-storage-parameter.md"
"v23.1/zone-config-extensions.md")

staging_url="https://deploy-preview-17553--cockroachdb-docs.netlify.app/docs/"
prod_url="https://www.cockroachlabs.com/docs/"

for file in "${files[@]}"
do
    extensionless_name=${file/.md/}
    prod_page=$(curl -s ${prod_url}${extensionless_name} | sed -E 's/(href=("|'"'"'))https:\/\/www\.cockroachlabs\.com/\1/g;s/(href=)'"'"'([^'"'"'"]*)'"'"'/\1"\2"/g;s/\.html//g;s/\.\.\//\/docs\//g')
    staging_page=$(curl -s ${staging_url}${extensionless_name} | sed -E 's/(href=("|'"'"'))https:\/\/www\.cockroachlabs\.com/\1/g;s/(href=)'"'"'([^'"'"'"]*)'"'"'/\1"\2"/g;s/\.html//g;s/\.\.\//\/docs\//g')
    diff=$(wdiff -3 <(echo "${prod_page}") <(echo "${staging_page}"))
    if [[ $? != 0 ]]; then
	  echo "$file"
      echo "Production: ${prod_url}${extensionless_name}"
      echo "Staging: ${staging_url}${extensionless_name}"
      echo "$diff"
      printf "\n"
	fi;
done
