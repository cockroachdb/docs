## v25.3.0

Release Date: August 4, 2025

With the release of CockroachDB v25.3, we've added new capabilities to help you migrate, build, and operate more efficiently.

For a summary of the most significant changes, refer to [Feature Highlights](#v25-3-0-feature-highlights).

{% include releases/new-release-downloads-docker-image.md release=include.release %}

<h3 id="v25-3-0-feature-highlights">Feature highlights</h3>

This section summarizes the most significant user-facing changes in v25.3.0 and other features recently made available to CockroachDB users across versions. For a complete list of features and changes in v25.3, including bug fixes and performance improvements, refer to the [release notes]({% link releases/index.md %}#testing-releases) for v25.3 testing releases. You can also search the docs for sections labeled [New in v25.3](https://www.cockroachlabs.com/docs/search?query=new+in+v25.3).

- **Feature categories**
    - [Migrations](#v25-3-0-migrations)
    - [Observability](#v25-3-0-observability)
    - [Performance](#v25-3-0-performance)
    - [Security](#v25-3-0-security)
    - [SQL](#v25-3-0-sql)
    - [CockroachDB Cloud](#v25-3-0-cloud)

- **Additional information**
    - [Backward-incompatible changes](#v25-3-0-backward-incompatible-changes)
    - [Features that require upgrade finalization](#v25-3-0-features-that-require-upgrade-finalization)
    - [Key cluster setting changes](#v25-3-0-key-cluster-setting-changes)
    - [Deprecations] (#v25-3-0-deprecations)
    - [Known limitations](#v25-3-0-known-limitations)

<div id="feature-highlights">

<h4 id="v25-3-0-migrations">Migrations</h4>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">MOLT Fetch support for Oracle in Public Preview</p>
    <p class="feature-description">
      MOLT Fetch, CockroachDB's bulk and incremental data migration tool, now supports <strong>Oracle</strong> as a source dialect, significantly streamlining Oracle-to-CockroachDB migrations. This capability is available in Public Preview.
    </p>
   </td>
   <td>All<sup>*</sup></td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
 </tbody>
</table>

<h4 id="v25-3-0-observability">Observability</h4>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Prometheus Scrape Endpoint: Static Label Support</p>
    <p class="feature-description">
      CockroachDB now supports additional labels in the <a href="https://www.cockroachlabs.com/docs/v25.3/prometheus-endpoint.html">Prometheus scrape endpoint</a>, enabling dimensional metrics (e.g., <code>{{metric {status="success"}}</code>) instead of separate metric names (e.g., <code>metric.success</code>, <code>metric.failure</code>). This is available via a <a href="https://www.cockroachlabs.com/docs/v25.3/prometheus-endpoint.html#metrics">new scrape endpoint</a>: <code>/metrics</code>. The change reduces metric sprawl, lowers ingestion and storage costs, and improves compatibility with Prometheus-based tooling.
    </p>
   </td>
   <td>25.3</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
  </tr>
 </tbody>
</table>

<h4 id="v25-3-0-performance">Performance</h4>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Value Separation</p>
    <p class="feature-description">
      <a href="https://www.cockroachlabs.com/docs/dev/architecture/storage-layer#value-separation">Value separation</a> is a Public Preview feature introduced in 25.3. By default it is turned off in 25.3. It can be enabled by setting storage.value_separation.enabled to "true". Traditionally, both keys and values are stored inline in SSTables. When value separation is enabled, some values are stored outside SSTables in external blob files. When a value is separated, the SSTable contains a value pointer describing the location of the value in an external blob file. During compaction, only the key and its value pointer are copied from one level to another, conserving write bandwidth when values are large. This optimization reduces <a href="https://www.cockroachlabs.com/docs/dev/architecture/storage-layer#write-amplification">write-amplification</a> (the ratio of total bytes written to disk versus the bytes written to database) by up to 50%. This reduces the write-bandwidth needed per database write operation and CPU needed for compaction, improving overall write throughput.
    </p>
   </td>
   <td>25.3</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
 </tbody>
</table>

<h4 id="v25-3-0-security">Security</h4>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Automated SQL User Provisioning via LDAP/AD Integration</p>
    <p class="feature-description">
      This release introduces automated provisioning of SQL users through LDAP/Active Directory (AD) integration. This feature enables complete automation of SQL user management, directly leveraging your existing centralized LDAP or Active Directory infrastructure. Key benefits: Enhanced Security: Centralized user management in LDAP/AD improves security policy enforcement and reduces manual error risks. Increased Efficiency: Automates user provisioning, de-provisioning, and role assignments. Simplified Auditing: Provides a single source of truth for user identities. Reduced Overhead: Eliminates separate SQL user management processes. This integration allows the entire SQL user lifecycle to be managed from LDAP/AD systems, improving overall security and operational efficiency.
    </p>
   </td>
   <td>25.3</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
  </tr>
 </tbody>
</table>

<h4 id="v25-3-0-sql">SQL</h4>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">CITEXT data type</p>
    <p class="feature-description">
      CockroachDB now supports the <code>CITEXT</code> data type, enabling case-insensitive text storage and comparisons at the SQL layer. This feature simplifies common tasks like user authentication, email matching, and other use cases where case should not affect query logic. By eliminating the need for manual <code>LOWER()</code> functions or <code>ILIKE</code> operations, <code>CITEXT</code> streamlines query writing and improves readability.
    </p>
   </td>
   <td>25.3</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
  <tr>
   <td>
    <p class="feature-summary">UDFs and Stored Procedures supported in view definitions</p>
    <p class="feature-description">
      CockroachDB now supports using user-defined functions (UDFs) and stored procedures in view definitions, allowing more powerful and reusable logic to be embedded directly in views. This capability enhances flexibility when defining complex views by enabling calls to both SQL and PL/pgSQL routines, making it easier to encapsulate business logic and maintain cleaner schemas. The feature also improves compatibility with PostgreSQL, simplifying the process of migrating existing applications that rely on function- or procedure-based view logic.
    </p>
   </td>
   <td>25.3</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
  <tr>
   <td>
    <p class="feature-summary">Vector Indexing Improvements</p>
    <p class="feature-description">
      Vector indexes in CockroachDB now support cosine distance and inner product, giving users more flexibility in selecting similarity metrics that best suit their machine learning or AI workloads. Together, these improvements make it easier to build and scale intelligent applications directly on CockroachDB.
    </p>
   </td>
   <td>25.3</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
 </tbody>
</table>

<h4 id="v25-3-0-cloud">CockroachDB Cloud</h4>

<h5 id="v25-3-0-cloud-operations">Operations</h5>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Physical Cluster Replication on CockroachDB Cloud Advanced Clusters</p>
    <p class="feature-description">
      Physical Cluster Replication is now available in limited access on CockroachDB Cloud Advanced clusters, allowing customers to establish a two-datacenter (2DC) resiliency strategy with active-passive deployments for low data loss and downtime in failover scenarios.
    </p>
   </td>
   <td>All<sup>*</sup></td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
  </tr>
 </tbody>
</table>

<h5 id="v25-3-0-cloud-administration">Administration</h5>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Self-Service Invoice PDFs Now Available in Console</p>
    <p class="feature-description">
      Customers can now independently generate and download invoice PDFs directly from the console.
    </p>
   </td>
   <td>All<sup>*</sup></td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
  <tr>
   <td>
    <p class="feature-summary">Invoice APIs upgraded to show draft invoices of the current billing cycle</p>
    <p class="feature-description">
      The Invoice APIs to get the list invoices for a given organization and to get specific invoices for an organization using an invoice ID are now upgraded to retrieve draft invoices of the current billing cycle.
    </p>
   </td>
   <td>All<sup>*</sup></td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
  </tr>
 </tbody>
</table>

<h5 id="v25-3-0-cloud-security">Security</h5>

<table>
 <thead>
  <tr>
   <th class="center-align" colspan="1" rowspan="2">Feature</th>
   <th class="center-align" colspan="5" rowspan="1">Availability</th>
  </tr>
  <tr>
    <th colspan="1" rowspan="1">Ver.</th>
    <th colspan="1" rowspan="1" style="white-space: nowrap;">Self-hosted</th>
    <th colspan="1" rowspan="1">Advanced</th>
    <th colspan="1" rowspan="1">Standard</th>
    <th colspan="1" rowspan="1">Basic</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>
    <p class="feature-summary">Egress Perimeter Controls for CockroachDB Cloud on Azure Advanced Tier (PCI Compliance - Ready)</p>
    <p class="feature-description">
      This release introduces Egress Perimeter Controls for CockroachDB Cloud Advanced clusters on Microsoft Azure, specifically designed to support PCI DSS compliance. This feature enables customers to restrict outbound network traffic from their CockroachDB Cloud cluster to a predefined list of external destinations. This is a critical control for organizations handling cardholder data, as it helps meet PCI DSS Requirement 1.2.1 and 1.3.4, which mandate limiting inbound and outbound traffic to only that which is necessary and explicitly denying all other unauthorized egress. Key features and benefits: Enhanced Security: Granular control over outbound network connections from your CockroachDB cluster, minimizing the attack surface and preventing unauthorized data exfiltration. PCI DSS Compliance: Directly addresses specific PCI DSS requirements (e.g., controlling and restricting egress traffic), assisting organizations in achieving and maintaining compliance for their cardholder data environments (CDE). Data Protection: Ensures that sensitive data egress, such as backups or change data capture (CDC), is confined to approved, secure destinations. Reduced Risk: Mitigates the risk of data breaches and unauthorized access by enforcing strict network boundaries around your database. This functionality provides a vital security layer for customers operating under stringent regulatory requirements like PCI DSS on Azure, enabling a more secure and compliant cloud database environment.
    </p>
   </td>
   <td>All<sup>*</sup></td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
  </tr>
  <tr>
   <td>
    <p class="feature-summary">Customer-Managed Encryption Keys (CMEK) for CockroachDB Cloud on Azure Advanced Tier</p>
    <p class="feature-description">
      This release introduces Customer-Managed Encryption Keys (CMEK) for CockroachDB Cloud Advanced clusters on Microsoft Azure. This feature provides enhanced data security and supports PCI DSS compliance. CMEK enables customers to control the encryption keys used to protect their data at rest within CockroachDB Cloud on Azure. Keys are managed via the customer's Azure Key Vault. Key benefits: Enhanced Data Security: Customers control key lifecycle (creation, rotation, revocation), improving data protection. PCI DSS Compliance: Addresses PCI DSS Requirement 3 for protecting stored cardholder data. Operational Control: Provides greater control and visibility over data encryption strategy. Data Revocation Capability: Enables immediate data access revocation by disabling the encryption key in Azure Key Vault. This functionality is critical for organizations handling sensitive data and seeking PCI DSS compliance on the Azure Advanced Tier of CockroachDB Cloud.
    </p>
   </td>
   <td>All<sup>*</sup></td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-yes.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
   <td class="icon-center">{% include icon-no.html %}</td>
  </tr>
 </tbody>
</table>

{% include releases/v25.3/feature-detail-key.html %}

</div>

<a name="v25-3-0-backward-incompatible-changes"></a>

<h4 id="v25-3-0-backward-incompatible-changes">Backward-incompatible changes</h4>

{% include releases/v25.3/backward-incompatible.md %}

<a name="v25-3-0-features-that-require-upgrade-finalization"></a>

<h4 id="v25-3-0-features-that-require-upgrade-finalization">Features that require upgrade finalization</h4>

{% include releases/v25.3/upgrade-finalization.md %}

<a name="v25-3-0-cluster-settings"></a>

<h4 id="v25-3-0-key-cluster-setting-changes">Key cluster setting changes</h4>

{% include releases/v25.3/cluster-setting-changes.md %}

<a name="v25-3-0-deprecations"></a>

<h4 id="v25-3-0-deprecations">Deprecations</h4>

{% include releases/v25.3/deprecations.md %}

<h4 id="v25-3-0-known-limitations">Known limitations</h4>

For information about new and unresolved limitations in CockroachDB v25.3, with suggested workarounds where applicable, refer to [Known Limitations]({% link v25.3/known-limitations.md %}).