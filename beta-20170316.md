---
title: What&#39;s New in beta-20170309
toc: false
summary: Additions and changes in CockroachDB version beta-20170316.
---

## Mar 16, 2017

Get future release notes emailed to you:
<div class="hubspot-install-form install-form-1 clearfix">
    <script>
        hbspt.forms.create({
            css: '',
            cssClass: 'install-form',
            portalId: '1753393',
            formId: '39686297-81d2-45e7-a73f-55a596a8d5ff',
            formInstanceId: 1,
            target: '.install-form-1'
        });
    </script>
</div>

### Binaries

<div id="os-tabs" class="clearfix">
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20170316.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-beta-20170316.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
</div>

### Installation Changes

- The Homebrew formula has moved; to install CockroachDB with `brew` use `brew install cockroachdb/cockroach/cockroach`

### SQL Language Changes

- Collated strings are now fully supported and may be stored in columns. [#13609](https://github.com/cockroachdb/cockroach/pull/13609)
- Variance and standard deviation calculations now use additional precision internally. [#14013](https://github.com/cockroachdb/cockroach/pull/14013)
- The `SHOW application_name` statement is now supported. [#14085](https://github.com/cockroachdb/cockroach/pull/14085)
- CockroachDB now reports its version in two new places so that clients can distinguish CockroachDB from PostgreSQL: in the `crdb_version` variable in the network handshake, and in a new table `crdb_internal.build_info`. [#14145](https://github.com/cockroachdb/cockroach/pull/14145)
- Casts involving OID types now behave more consistently with PostgreSQL. The `oid()` function is now available. [#13965](https://github.com/cockroachdb/cockroach/pull/13965) [#14022](https://github.com/cockroachdb/cockroach/pull/14022)
- Types with modifiers can now be cast to `::regtype`. [#14030](https://github.com/cockroachdb/cockroach/pull/14030)

### Command-Line Interface Changes

- `cockroach start` now supports a `--pid-file` flag, which names a file to which the process ID will be written when the server is ready to handle requests. [#13996](https://github.com/cockroachdb/cockroach/pull/13996)
- If any environment variables used by `cockroach` are set but cannot be parsed, this is now treated as a fatal error. [#14124](https://github.com/cockroachdb/cockroach/pull/14124)

### Admin UI Changes

- The log view now shows logs for the requested node. [#13947](https://github.com/cockroachdb/cockroach/pull/13947)
- The custom time range selector now uses UTC to match the graphs. [#14007](https://github.com/cockroachdb/cockroach/pull/14007)
- The admin UI now uses relative paths for all links and respects cookies, allowing it to be run behind authenticating proxies. [#14039](https://github.com/cockroachdb/cockroach/pull/14039)
- The guideline displayed when hovering over a graph is now positioned correctly. [#14008](https://github.com/cockroachdb/cockroach/pull/14008)

### Bug Fixes

- `INSERT` statements with `ON CONFLICT DO UPDATE` clauses that do not specify all columns no longer insert incorrect results. [#14034](https://github.com/cockroachdb/cockroach/pull/14034)
- `UPSERT` statements no longer incorrectly produce the error "cannot affect row a second time". [#10478](https://github.com/cockroachdb/cockroach/pull/10478)
- The rebalancing system is better able to move replicas to match requested constraints. [#13973](https://github.com/cockroachdb/cockroach/pull/13973)
- Name resolution no longer fails if non-existent databases are present in the search path. [#14006](https://github.com/cockroachdb/cockroach/pull/14006)

### Performance Improvements

- Reduced overhead in the command queue. [#13982](https://github.com/cockroachdb/cockroach/pull/13982)
- CockroachDB now enables TCP keepalives on its sockets, improving responsiveness to clients that have disappeared (or load balancers with short timeouts). [#14063](https://github.com/cockroachdb/cockroach/pull/14063)

### Contributors

This release includes 78 merged PRs by 18 authors.
