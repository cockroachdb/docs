---
title: What&#39;s New in v20.1.0-beta.3
toc: true
summary: Additions and changes in CockroachDB version v20.1.0-beta.3 since version v20.1.0-beta.2
docs_area: releases
---

## March 25, 2020

{{site.data.alerts.callout_danger}}
{% include /v20.1/alerts/warning-a58932.md %}
{{site.data.alerts.end}}

In addition to various updates, enhancements, and bug fixes, this beta release includes the following major highlights:

- **SELECT FOR UPDATE**: CockroachDB now supports [`SELECT FOR UPDATE`](../v20.1/select-for-update.html) for ordering transactions. Use `SELECT FOR UPDATE` to lock the rows returned by a [selection query](../v20.1/selection-queries.html), to control concurrent access to one or more rows of a table.
- **SQL savepoints**: CockroachDB now fully supports SQL [savepoints](../v20.1/savepoint.html). New syntax for savepoints includes `SAVEPOINT <foo>`, `RELEASE SAVEPOINT <foo>`, and `ROLLBACK TO SAVEPOINT <foo>`. To inspect the current stack of active savepoints, use `SHOW SAVEPOINT STATUS`.  
- **Hash-sharded indexes**: CockroachDB now supports new syntax for defining [hash-sharded indexes](https://www.cockroachlabs.com/blog/hash-sharded-indexes-unlock-linear-scaling-for-sequential-workloads/). Hash-sharded indexes improve write performance to indexes on sequential keys. To define a hash-sharded index, use `CREATE INDEX ... USING HASH WITH BUCKET_COUNT = <number of buckets>`.
- **RBAC now under BSL**: All [role-based access control (RBAC) features](../v20.1/authorization.html#roles) (`CREATE ROLE`, `ALTER ROLE`, `DROP ROLE`, `GRANT ROLE`, `REVOKE ROLE`) are now [BSL features](../v20.1/licensing-faqs.html) and available to non-enterprise users.
- **Improved vectorized execution**: [Vectorized execution](../v20.1/vectorized-execution.html) now supports [hash joins](../v20.1/joins.html#hash-joins), [merge joins](../v20.1/joins.html#merge-joins), and most [window functions](../v20.1/window-functions.html). By default, the `vectorized` [session variable](../v20.1/set-vars.html) is set to `auto`, which uses vectorized execution for all queries except those including unordered [`DISTINCT`](../v20.1/select-clause.html#eliminate-duplicate-rows) clauses or calls to the `percent_rank` or `cume_dist` [window functions](../v20.1/window-functions.html). To turn vectorized execution on for all operations, set `vectorized` to `on`.
- **Statement tracing in the Admin UI**: Statement diagnostic information is now available in the Admin UI. When viewing a statement fingerprint in the Admin UI, you can now trigger a trace on the next query execution matching that statement fingerprint.

Get future release notes emailed to you:

{% include marketo.html %}

### Downloads

<div id="os-tabs" class="clearfix os-tabs_button-outline-primary">
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-beta.3.darwin-10.9-amd64.tgz"><button id="mac" data-eventcategory="mac-binary-release-notes">Mac</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-beta.3.linux-amd64.tgz"><button id="linux" data-eventcategory="linux-binary-release-notes">Linux</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-beta.3.windows-6.2-amd64.zip"><button id="windows" data-eventcategory="windows-binary-release-notes">Windows</button></a>
    <a href="https://binaries.cockroachdb.com/cockroach-v20.1.0-beta.3.src.tgz"><button id="source" data-eventcategory="source-release-notes">Source</button></a>
</div>

### Docker image

{% include copy-clipboard.html %}
~~~shell
$ docker pull cockroachdb/cockroach-unstable:v20.1.0-beta.3
~~~


### Backward-incompatible changes

- The [`GRANT`](../v20.1/grant.html) and [`REVOKE`](../v20.1/revoke.html) statements now require that the requesting user already have the target privileges themselves. For example, `GRANT SELECT ON t TO foo` requires that the requesting user already have the `SELECT` privilege on `t`. [#45697][#45697] {% comment %}doc{% endcomment %}
- During the upgrade process from 19.2 to 20.1, almost all schema changes will now be disallowed on 20.1 nodes until the upgrade has been finalized, as part of ensuring consistency while the cluster undergoes a significant, backward-incompatible change in how schema changes are executed. Attempting these schema changes will return an error to the client. [#45990][#45990]
- To ensure consistency for [schema changes](../v20.1/online-schema-changes.html) throughout the upgrade process to 20.1, schema changes initiated in 19.2 now cannot be adopted, paused, or resumed from 20.1 nodes until an internal migration is run. [#46214][#46214]

### Security updates

#### Identity management changes

- All [role-based access control (RBAC) features](../v20.1/authorization.html#roles) (`CREATE ROLE`, [`ALTER ROLE`], `DROP ROLE`, `GRANT ROLE`, `REVOKE ROLE`) are now available to non-enterprise users. All RBAC features are now [BSL features](../v20.1/licensing-faqs.html). [#46042][#46042]
- [`USER`s](../v20.1/create-user.html) and [`ROLE`s](../v20.1/create-role.html) are now the same (which is PostgreSQL behavior). This means `CREATE`/`ALTER`/`DROP` `ROLE`/`USER` can be used interchangeably. [#44968][#44968] {% comment %}doc{% endcomment %}
- The validation rule for principal names was extended to support periods and thus allow domain name-like principals. For reference, the validation rule is currently the regular expression `^[\p{Ll}0-9_][---\p{Ll}0-9_.]*$`, and limited to a size of 63 UTF-8 bytes (larger usernames are rejected with an error); for comparison, PostgreSQL allows many more characters and truncates at 63 characters silently. [#45575][#45575] {% comment %}doc{% endcomment %}
- [Usernames](../v20.1/create-user.html) can now contain periods, for compatibility with certificate managers that require domain names to be used as usernames. [#45575][#45575] {% comment %}doc{% endcomment %}
- User and role principals can now be prevented from logging in using the `NOLOGIN` attribute, which can be set using the [`CREATE USER/ROLE`](../v20.1/create-user.html) or [`ALTER USER/ROLE`](../v20.1/alter-user.html). When using the [`CREATE ROLE`](../v20.1/create-user.html) syntax, `NOLOGIN` is enabled by default whereas when using [`CREATE USER`](../v20.1/create-role.html), it is not. [#45541][#45541] {% comment %}doc{% endcomment %}
- The `CREATEROLE` option can now be granted to users/roles using [`CREATE USER/ROLE`](../v20.1/create-user.html) or [`ALTER USER/ROLE`](../v20.1/alter-user.html). This delegates the permission to create additional roles. [#44232][#44232] {% comment %}doc{% endcomment %}
- Any [role](../v20.1/authorization.html#roles) created prior to v20.1 will be able to log into clusters started with `--insecure`, unless/until they are given the `NOLOGIN` attribute. For secure clusters, roles cannot log in by virtue of not having a password nor a client certificate. [#45541][#45541] {% comment %}doc{% endcomment %}

#### Authentication changes

- CockroachDB now offers the ability to SQL client connection events (connection established and connection terminated) and SQL client authentication events (authentication method selection, authentication method application, authentication method result, and session termination) to a distinct `cockroach-auth.log` file in each node's main log directory. To enable SQL client connection logging, set the `server.auth_log.sql_connections.enabled` [cluster setting](../v20.1/cluster-settings.html). To enable SQL client authentication event logging, set the new `server.auth_log.sql_sessions.enabled` [cluster setting](../v20.1/cluster-settings.html) cluster setting. Note that this feature is experimental; as such, the interface and output are subject to change. [#45193][#45193] {% comment %}doc{% endcomment %}
- The password field (used exclusively for password-based authentication) can now be configured to have an expiration date using the `VALID UNTIL` attribute, which can be set with [`ALTER USER/ROLE`](../v20.1/alter-user.html). Note that the attribute sets an expiration date for the password, not the user account. This is consistent with PostgreSQL. [#45541][#45541] {% comment %}doc{% endcomment %}
- Client and node certificates are now allowed to specify the principal in either the SubjectCommonName field or the SubjectAlternateNames field. Previously, the principal could only be specified in the SubjectCommonName field. This facilitates the use of Amazon Certificate Manager (ACM) and other Cloud-based certificate management tools. [#45819][#45819]

#### Authorization changes

- Admin users can now [grant](../v20.1/grant.html) `ZONECONFIG` to non-admin users on specific SQL objects (databases/tables). When set, the user is authorized to modify that object's [zone configuration](../v20.1/configure-replication-zones.html) and decide data placement on specific nodes or groups thereof. [#45201][#45201] {% comment %}doc{% endcomment %}
- The [`GRANT`](../v20.1/grant.html) statement has been changed to be more like a capability-based system: it can only propagate privileges that the requesting user already has. Previously, it could be used to grant any other bit to any user, even to the requesting user. Note that the pseudo-privilege `ALL` includes `GRANT`, so `GRANT ALL`, in effect, preserves the previous behavior: it grants `GRANT` and every over privileges, so all privileges can be re-granted transitively. [#45697][#45697] {% comment %}doc{% endcomment %}
- It is now possible for operators to disable the use of implicit credentials when accessing external cloud storage services for various bulk operations (e.g, [`BACKUP`](../v20.1/backup.html), [`IMPORT`](../v20.1/import.html), etc.).  The use of implicit credentials can be disabled by using the `--external-io-disable-implicit-credentials` flag. [#45969][#45969] {% comment %}doc{% endcomment %}

#### Security bug fixes

-  All users can now *view* any comments on any object (bypassing other privileges), but modifying comments require write privilege on the target object. Previously, any user could modify any database/table/view/index comment via direct SQL updates to `system.comments`. This was unintended and a form of privilege escalation, and is now prevented. The privileges required for the [`COMMENT`](../v20.1/comment-on.html) statement, `pg_description`, `col_description()`, `obj_description()`, and `shobj_description()` are operating as in PostgreSQL and are unaffected by this change.[#45712][#45712] {% comment %}doc{% endcomment %}
- The `--external-io-dir=disabled` now applies to `nodelocal upload` requests. [#45858][#45858] {% comment %}doc{% endcomment %}
- The non-authenticated `/health` HTTP endpoint was previously exposing the private IP address of the node, which can be privileged information in some deployments. This has been corrected. Deployments using automation to retrieve a node build details and address details should use `/_status/details/local` instead and use a valid admin authentication cookie. [#45119][#45119]

### Enterprise edition changes

- [CDC](../v20.1/change-data-capture.html) to cloud-storage sinks now supports optional `gzip` compression. [#45326][#45326] {% comment %}doc{% endcomment %}
- [`BACKUP`](../v20.1/backup.html) can be re-run with the same destination path to automatically append an incremental backup to that path. [#45255][#45255] {% comment %}doc{% endcomment %}
- [`RESTORE`](../v20.1/restore.html) now allows using `AS OF SYSTEM TIME` to pick a target backup from a larger list of incremental backups. [#45368][#45368] {% comment %}doc{% endcomment %}
- [Changefeeds](../v20.1/create-changefeed.html) now have new options to control the types of schema change events the changefeed should respond to (`schema_change_events`), and the behavior to take when such an event occurs (`schema_change_policy`). This functionality allows users to halt changefeeds upon schema changes or skip over the logical backfill that is performed by default. [#45652][#45652] {% comment %}doc{% endcomment %}
- Two new [`CHANGEFEED`](../v20.1/create-changefeed.html) options, `initial_scan` and `no_initial_scan`, have been added. The `initial_scan` can be used only if no cursor had been specified (indicating the desire to start the `CHANGEFEED` from `now()`). The new options allow clients to override this default behavior and create changefeeds from the present without an initial scan, or from a point in time with one. You cannot specify both options simultaneously. [#45663][#45663] {% comment %}doc{% endcomment %}
- [`BACKUP`](../v20.1/backup.html) will no longer fail if the GC window for a table is exceeded while backing the table up. [#45859][#45859] {% comment %}doc{% endcomment %}
- Incremental [`BACKUP`](../v20.1/backup.html) can quickly skip unchanged data, making frequent incremental backups 10-100x faster, depending on data size and frequency. [#46108][#46108]

### Storage changes

- Improved the ability of garbage collection to process ranges exhibiting abnormally large numbers of transaction records and/or abort span entries. [#45444][#45444]
- Improved a debug message that is printed when a range is unavailable (i.e., unable to accept writes). [#45580][#45580]
- The timing of garbage collection for historical data is defined by the `gc.ttlseconds` variable in the applicable [zone configuration](../v20.1/configure-replication-zones.html#replication-zone-variables). However, in practice, data is not garbage collected immediately after the TTL passes. The new `kv.gc_ttl.strict_enforcement` [cluster setting](../v20.1/cluster-settings.html) makes sure that `AS OF SYSTEM TIME` queries older than the TTL, but before GC has happened, return an error. [#45826][#45826]
- A bug in the range metrics collection would fail to correctly identify a range that had lost quorum, causing it to not be reported via the "unavailable ranges" metric. This is now fixed. [#45253][#45253]
- Range garbage collection will now trigger based on a large abort span, adding defense-in-depth against ranges growing large (and eventually unstable). [#45573][#45573]
- Fixed a bug that could cause requests to a quiesced range to hang in the KV [replication layer](../v20.1/architecture/replication-layer.html). This bug would cause the message "have been waiting ... for proposing" to appear. even though no loss of quorum occurred. [#46045][#46045]


### SQL changes

#### SQL language additions

- CockroachDB now supports string and byte array literals using the dollar-quoted notation, as documented [here](https://www.postgresql.org/docs/current/sql-syntax-lexical.html#SQL-SYNTAX-DOLLAR-QUOTING). [#44130][#44130] {% comment %}doc{% endcomment %}
- CockroachDB now supports expanding all columns of a tuple using the `.*` notation, for example: `SELECT (t).* FROM (SELECT (1,'b',2.3) AS t)`. This is a CockroachDB-specific extension. [#45609][#45609] {% comment %}doc{% endcomment %}
- CockroachDB now supports accessing the Nth column in a column with tuple type using the syntax `(...).@N`, for example: `SELECT (t).@2 FROM (SELECT (1,'b',2.3) AS t)`. This is a CockroachDB-specific extension. [#45609][#45609] {% comment %}doc{% endcomment %}
- Duplicate rows in the input to an [`INSERT..ON CONFLICT DO NOTHING`](../v20.1/insert.html) statement will now be ignored rather than triggering an error. [#45443][#45443] {% comment %}doc{% endcomment %}
- SQL [savepoints](../v20.1/savepoint.html) are now supported. `SAVEPOINT <foo>`, `RELEASE SAVEPOINT <foo>`, and `ROLLBACK TO SAVEPOINT <foo>` now work. `SHOW SAVEPOINT STATUS` can be used to inspect the current stack of active savepoints. [#45566][#45566]
- CockroachDB still considers the name `cockroach_restart` special in [`SAVEPOINT`](../v20.1/savepoint.html)s. A savepoint defined with the name `cockroach_restart` is a "restart savepoint" and has different semantics than standard savepoints:  
    1. Restart savepoints must be opened immediately when the transaction starts. Opening a restart savepoint after other statements have been executed is not allowed. In contrast, standard savepoints can be opened after other statements have already been executed.  
    2. After a successful `RELEASE`, a restart savepoint does not allow further use of the transaction. `COMMIT` must immediately follow the RELEASE.
    3. Restart savepoints cannot be nested. Issuing `SAVEPOINT cockroach_restart` two times in a row only creates a single savepoint marker. This can be seen with `SHOW SAVEPOINT STATUS`. Issuing `SAVEPOINT cockroach_restart` after `ROLLBACK TO SAVEPOINT cockroach_restart` reuses the marker instead of creating a new one. In contrast, two `SAVEPOINT` statements with a standard savepoint name, or a `SAVEPOINT` statement immediately after a `ROLLBACK`, create two distinct savepoint markers.

    **Note:** The [session variable](../v20.1/set-vars.html) `force_savepoint_restart` still works and causes every savepoint name to become equivalent to `cockroach_restart` with the special semantics described above. [#46194][#46194]
- [`SELECT FOR UPDATE`](../v20.1/select-for-update.html) now hooks into a new leaseholder-only locking mechanism. This allows the feature to be used to improve performance of [transactions](../v20.1/transactions.html) that read, modify, and write contended to rows. Similarly, [`UPDATE`](../v20.1/update.html) statements now use this new mechanism by default, meaning that their performance under contention is improved. This is only enabled for `UPDATE` statements that can push their filter all the way into their key-value scan. To determine whether an `UPDATE` statement is implicitly using `SELECT FOR UPDATE` locking, look for a `locking strength` field in the `EXPLAIN` output for the statement. [#45701][#45701] {% comment %}doc{% endcomment %}
- The statement `CREATE SCHEMA IF NOT EXISTS` is now accepted, and ignored, if it targets one of the pre-defined schemas (`public`, `pg_temp`, `pg_catalog`, etc.) [#42703][#42703]
- Added the `every` [aggregate function](../v20.1/functions-and-operators.html#aggregate-functions). [#46059][#46059]
- The `ceil` and `floor` [built-in functions](../v20.1/functions-and-operators.html) now accept integer inputs. [#46166][#46166]

#### Query planning changes

- CockroachDB previously allowed [`TIMESTAMP`/`TIMESTAMPTZ`](../v20.1/timestamp.html) and [`TIME`/`TIMETZ`](../v20.1/time.html) to be converted to `TIMESTAMP(0)`/`TIMESTAMPTZ(0)`, but this does not actually change any of the precision within it. CockroachDB now prohibits converting any precision of `TIMESTAMP`/`TIMESTAMPTZ`/`TIME`/`TIMETZ` to a lower precision value. [#45314][#45314] {% comment %}doc{% endcomment %}
- [Operators](../v20.1/functions-and-operators.html) on two [arrays](../v20.1/array.html) with different element types now fail at type-check time instead of evaluation time. [#45260][#45260]
- Improved the error message for the unsupported interaction between correlated subqueries and `WITH` clauses [#45227][#45227]
- [`UPSERT`](../v20.1/upsert.html) and [`INSERT..ON CONFLICT`](../v20.1/insert.html) statements now (occasionally) need to do an extra check to ensure that they never update the same row twice. This may adversely affect performance in cases where the [optimizer](../v20.1/cost-based-optimizer.html) cannot statically prove the extra check is unnecessary. [#45372][#45372]
- The [optimizer](../v20.1/cost-based-optimizer.html) now considers the likely number of rows an operator will need to provide, and might choose query plans based on this. In particular, the optimizer might prefer [lookup joins](../v20.1/joins.html) over alternatives in some situations where all rows of the join will probably not be needed. [#45604][#45604]
- [JSONB](../v20.1/jsonb.html) columns can now used in `GROUP BY` and `DISTINCT ON` clauses. [#45229][#45229] {% comment %}doc{% endcomment %}
- The [inverted index](../v20.1/inverted-indexes.html) implementation now supports indexing [array](../v20.1/array.html) columns. This permits accelerating containment queries (`@>` and `<@`) on array columns by adding an index to them. [#45157][#45157] {% comment %}doc{% endcomment %}
- [`EXPLAIN BUNDLE`](../v20.1/explain.html) can now be used to run a query and collect execution information in a support bundle, which can be downloaded via the Admin UI. [#45735][#45735] {% comment %}doc{% endcomment %}
- [`EXPLAIN BUNDLE`](../v20.1/explain.html) now works when the client driver prepares the statement. [#46111][#46111]
- Renamed `experimental_optimizer_foreign_keys` [session variable](../v20.1/set-vars.html) and `sql.defaults.optimizer_foreign_keys.enabled` [cluster setting](../v20.1/cluster-settings.html) to remove the experimental prefix. [#46174][#46174]
- Fixed the `"negative limit hint"` internal query error. [#45879][#45879]
- Fixed query errors in cases where a [CTE](../v20.1/common-table-expressions.html) was used inside a recursive CTE. [#45877][#45877]
- Fixed an internal error that could occur in the optimizer when a `WHERE` filter contained at least one [correlated subquery](../v20.1/subqueries.html#correlated-subqueries) and one non-correlated subquery. [#46153][#46153]
- Improvements in session settings reporting in the [`EXPLAIN (OPT,ENV)`](../v20.1/explain.html) output. [#46212][#46212]

#### Execution changes

- The new `diagnostics.sql_stat_reset.interval` [cluster setting](../v20.1/cluster-settings.html) controls the rate at which SQL statement statistics are refreshed. Additionally, the setting `diagnostics.forced_stat_reset.interval` was renamed to `diagnostics.forced_sql_stat_reset_interval`. [#45082][#45082] {% comment %}doc{% endcomment %}
- [`UPDATE`](../v20.1/update.html) statements now acquire locks using the `FOR UPDATE` locking mode during their initial row scan, which improves performance for contended workloads. This behavior is configurable using the `enable_implicit_select_for_update` [session variable](../v20.1/set-vars.html) and the `sql.defaults.implicit_select_for_update.enabled` [cluster setting](../v20.1/cluster-settings.html). [#45159][#45159] {% comment %}doc{% endcomment %}
- Hash joins and sorts are now run using the vectorized engine when `vectorize=auto` (default configuration). [#45582][#45582] {% comment %}doc{% endcomment %}
- CockroachDB now collects separate sets of metrics for usage of [`SAVEPOINT`](../v20.1/savepoint.html): one set for regular SQL savepoints and one set for uses dedicated to CockroachDB's client-side transaction retry protocol. [#45566][#45566]
- Vectorized distributed flows and disk spilling now support the [`INTERVAL`](../v20.1/interval.html) type. [#45776][#45776] {% comment %}doc{% endcomment %}
- Queries with [`MERGE` join](../v20.1/joins.html) can now run via the vectorized engine when `vectorize` is set to `auto`. [#45784][#45784] {% comment %}doc{% endcomment %}
- Hash aggregation is now supported in `vectorize=auto` mode. [#45832][#45832] {% comment %}doc{% endcomment %}
- Added telemetry reporting for usages of inverted and hash-sharded indexes. [#46060][#46060]
- The statement tag returned to the client upon success for [`CREATE USER`](../v20.1/create-user.html), [`ALTER USER`](../v20.1/alter-user.html), and [`DROP USER`](../v20.1/drop-user.html) now include the word "ROLE" instead of "USER", for compatibility with PostgreSQL. These three statements are now aliases for `CREATE ROLE`, `ALTER ROLE`, `DROP ROLE`. [#46042][#46042]
- `experimental_on` option for `vectorize` [session variable](../v20.1/set-vars.html) has been renamed to `on`. The only things that will not run with `auto`, but will run with `on`, are unordered [`DISTINCT`](../v20.1/select-clause.html#eliminate-duplicate-rows) and two [window functions](../v20.1/window-functions.html) (`percent_rank` and `cume_dist`). The two options are otherwise identical. [#46080][#46080]
- `NOTICE` commands can now be sent by CockroachDB servers using the Postgres client/server protocol. These notices will print when using the CockroachDB CLI.  These notices can be disabled using the [cluster setting](../v20.1/cluster-settings.html) `sql.notices.enabled = false`. [#45679][#45679] {% comment %}doc{% endcomment %}
- Fixed an internal error that could occur when `NULLIF` was called with one null argument. [#45354][#45354]
- Fix a bug where `EXPERIMENTAL SCRUB TABLE` on a timestamp/timestamptz key does not work. [#45410][#45410]
- Significantly reduced the amount of memory allocated while scanning tables with a large average row size. [#45323][#45323]
- Some vectorized execution plans that used [lookup joins](../v20.1/joins.html) with decimals would previously return incorrect results. This is now fixed. [#45536][#45536]
- Previously, drivers that did not truncate trailing zeroes for decimals in the binary format end up having inaccuracies of up to 10^4 during the decode step. Fixed the error by truncating the trailing zeroes as appropriate. This fixes known incorrect decoding cases with Postgres in Elixir. [#45613][#45613]
- Previously, an internal error could occur in CockroachDB when executing queries via the vectorized engine in queries that contained unordered synchronizers. This has been fixed. [#45690][#45690]
- Fixed a bug where the distinct operation on `ARRAY[NULL]` and `NULL` could sometimes return an incorrect result and omit some tuples. [#45229][#45229]
- Previously, CockroachDB could crash when computing [window functions](../v20.1/window-functions.html) with the `RANGE` mode of framing when one of the bounds was either  `'offset PRECEDING'` or `'offset FOLLOWING'` and when there were `NULL` values in the single column from `ORDER BY` clause. Additionally, also in `RANGE` mode, bounds `'0 PRECEDING'` and `'0 FOLLOWING'` could be handled incorrectly. This is now fixed. [#44666][#44666]
- Verify column is now visible before accessing its datums. [#45801][#45801]
- Expected errors from the vectorized execution engine are no longer mistakenly annotated as unexpected errors. [#45673][#45673]
- Mixed type comparison or binary expressions that could have previously returned wrong results in the vectorized execution engine now fall back to using the row execution engine. [#45724][#45724]
- Fixed [decimal](../v20.1/decimal.html) rounding errors in the vectorized execution engine. [#45950][#45950]
- Fixed a bug where various [session variables](../v20.1/set-vars.html) whose value would display as "`on`" or "`off`" could not be set to the values "`on`" or "`off`", only `true` or `false`. [#46163][#46163]
- Fixed a bug that caused transactions that have performed [schema changes](../v20.1/online-schema-changes.html) to deadlock after they restart. [#46170][#46170]

#### Updates to schema change / DDL statements

- It is now possible to [create a table](../v20.1/create-table.html) and then add or alter a [primary key](../v20.1/primary-key.html) within the same transaction. [#46015][#46015]
- The [`ALTER TABLE .. ADD PRIMARY KEY ...`](../v20.1/alter-table.html) command can now be used when the target table has the default rowid [primary key](../v20.1/primary-key.html). [#45514][#45514] {% comment %}doc{% endcomment %}
- Fixed a bug where a table without a [primary key](../v20.1/primary-key.html) and a column named `rowid` would throw an error when being created. [#45507][#45507]
- The use of schema changes when a [primary key](../v20.1/primary-key.html) change is in progress is now disabled. This includes the following: (1) running a primary key change in a transaction and then starting another schema change in the same transaction, and (2) starting a primary key change on one connection and then starting a schema change on the same table on another connection while the initial primary key change is currently executing. [#45397][#45397] {% comment %}doc{% endcomment %}
- CockroachDB has now disabled [primary key](../v20.1/primary-key.html) changes when a concurrent schema change is executing on the same table, or if a schema change has been started on the same table in the current transaction. [#45513][#45513] {% comment %}doc{% endcomment %}
- You can now drop a [primary key](../v20.1/primary-key.html) as long as you add another primary key within the same [transaction](../v20.1/transactions.html). This feature is intended to be used when you do not want the existing primary key to be rewritten as a secondary index by [`ALTER PRIMARY KEY`](../v20.1/alter-primary-key.html). [#44511][#44511] {% comment %}doc{% endcomment %}
- The experimental variable gating around usages of online primary key changes is now removed. [#45753][#45753] {% comment %}doc{% endcomment %}
- Previously, when a [database was renamed](../v20.1/rename-database.html), any [table](../v20.1/create-table.html) referencing a [sequence](../v20.1/create-sequence.html) would be blocked from being able to rename the table. This is to block cases where if the table's reference to the sequence contains the database name, and the database name changes, we have no way of overwriting the table's reference to the sequence in the new database. However, if no database name is included in the sequence reference, we should continue to allow the database to rename, as is implemented with this change. [#45502][#45502] {% comment %}doc{% endcomment %}
- Previously, [renaming a database](../v20.1/rename-database.html) with dependent [views](../v20.1/views.html) returned a misleading error message that implies it was a dependent view on a dependent table. Now the error message generically says `cannot rename relation ... as it depends on relation ...` instead. [#45427][#45427]
- Long-running [transactions](../v20.1/transactions.html) which attempt to [`TRUNCATE`](../v20.1/truncate.html) can now be pushed and will commit in cases where they previously could fail or retry forever. [#44091][#44091]
- It is now possible to create [inverted indexes](../v20.1/inverted-indexes.html) on columns whose names are mixed-case. [#45621][#45621]

#### Updates to Bulk I/O statements

- Improved error messages when [importing MySQL dump](../v20.1/migrate-from-mysql.html) data. [#45958][#45958]
- `nodelocal://` URIs now require a node ID be specified in the hostname field. The special node ID of `'self'` is equivalent to the old behavior of when the node ID was unspecified. [#45764][#45764] {% comment %}doc{% endcomment %}
- Fixed cases where target column specifications in [`IMPORT INTO`](../v20.1/import-into.html) were ignored. [#45747][#45747]
- `IMPORT` now correctly handles columns named with reserved keywords and/or other special characters. [#45944][#45944]
- Google storage client is now resilient to transient connection errors. [#46000][#46000]
- The creation of a database and table between incremental cluster backups is now allowed. [#46066][#46066]
- Better error reporting when importing data. [#46165][#46165]


#### Changes to background job management

- Schema changes are now scheduled and run fully like other [jobs](../v20.1/show-jobs.html): they now can be [canceled](../v20.1/cancel-job.html), [paused](../v20.1/pause-job.html), and [resumed](../v20.1/resume-job.html). Some other UI differences come with this implementation change; notably, all schema changes now have an associated job, failed schema changes are now rolled back within the "Reverting" phase of the same job, and GC for dropped indexes and tables is deferred to a later job. [#45870][#45870]
- Non-running [`jobs`](../v20.1/show-jobs.html) are now considered for adoption in randomized order instead of in a determistic order by creation time, to avoid potential deadlocks when schema change jobs need to execute in a specific order. This is a preemptive change, not a bug fix, but it affects all jobs. [#45870][#45870] {% comment %}doc{% endcomment %}
- On new clusters, the internal `system.jobs` table now uses the default `zoneconfig` and `TTL` (25h). [#45767][#45767] {% comment %}doc{% endcomment %}
- The cleanup job spawned by [`ALTER .. PRIMARY KEY`](../v20.1/alter-primary-key.html) in some cases cannot be cancelled. [#45595][#45595] {% comment %}doc{% endcomment %}
- Introduced a temporary table cleanup job that runs once every periodically per cluster. It removes any temporary schemas and their related objects that did not get removed cleanly when the connection closed. This period can be changed by the [cluster setting](../v20.1/cluster-settings.html) `sql.temp_object_cleaner.cleanup_interval`, which defaults to 30 minutes. [#45669][#45669] {% comment %}doc{% endcomment %}
- Previously, after deleting an index, table, or database, the relevant schema change job would change its running status to waiting for GC TTL. The schema change and the GC process are now decoupled into two jobs. [#45962][#45962]
- Fixed a bug where, in some rare cases, a job was not [cancellable](../v20.1/cancel-job.html) when in state "Reverting". [#45320][#45320]
- When considering if a job should be orphaned, CockroachDB use to take the conservative approach when a descriptor ID pointing to non-existent descriptor was found. This caused jobs to hang forever and be garbage collected. CockroachDB now disregards these IDs when considering if a job has still work to do. [#45353][#45353]
- Logs emitted from [jobs](../v20.1/show-jobs.html) are now tagged with the job ID to improve visibility and aid debugging. [#45728][#45728]
- [`IMPORT INTO`](../v20.1/import-into.html) jobs which are canceled or fail can no longer get stuck in an unrecoverable state if data from the previous state of the table had expired relative to the GC TTL. [#44739][#44739]
- [`CHANGEFEED`](../v20.1/create-changefeed.html) jobs that take a long time to perform backfills will no longer encounter failures due to garbage collection, so long as they begin before the data has expired. [#45778][#45778]

### Updates to APIs and introspection

- Telemetry reporting has been added for the commands [`SHOW INDEXES`](../v20.1/show-index.html), [`SHOW QUERIES`](../v20.1/show-queries.html), [`SHOW JOBS`](../v20.1/show-jobs.html), and [`SHOW CONSTRAINTS`](../v20.1/show-constraints.html). [#45897][#45897]
- [`SHOW USERS`](../v20.1/show-users.html) and [`SHOW ROLES`](../v20.1/show-roles.html) are now the same, as `USERS` is now an alias for `ROLES`. `SHOW USERS` and `SHOW ROLES` now match PostgreSQL `\du` command. `SHOW ROLES` now displays three columns: `username`, `options`, and `member_of`. [#45827][#45827]
- HTTP endpoints now report status `403 (Forbidden)` instead of `500 (Internal server error)` when the authenticated user has insufficient privileges to use the endpoint. [#45325][#45325] {% comment %}doc{% endcomment %}
- The end point `/_status/job/{job_id}` will now display status info about a job. [#45094][#45094] {% comment %}doc{% endcomment %}
- The pprof endpoints now allow downloading the binary profiles. To do so, attach `?download=true` to the URL. [#45790][#45790] {% comment %}doc{% endcomment %}
- Improved the debuggability of C++-level issues by providing access to thread stack traces via a new `/debug/threads` endpoint, which is exposed on the Admin UI advanced debug page. Now include thread stack traces in the info collected by `debug zip`. Thread stack traces are currently only available on Linux. [#45321][#45321] {% comment %}doc{% endcomment %}
- Accesses to `/health` using a non-root authentication token no longer hang when a node is currently under load, or if a system range is unavailable. [#45119][#45119]
- Statement diagnostics traces now contain processor statistics. [#46132][#46132]

### Command-line changes

#### Changes to operational workflows

- Hostnames from the `cockroach start --join` flag can now be resolved as SRV record. This simplifies cluster deployment in Kubernetes. [#45815][#45815] {% comment %}doc{% endcomment %}
- The `--decommission` flag for [`cockroach quit`](../v20.1/cockroach-quit.html) is now deprecated. It will be removed altogether in a next stable release. Deployments should use [`cockroach node decommission`](../v20.1/cockroach-node.html) followed by either `cockroach quit` or an equivalent form of server shut down. [#45903][#45903] {% comment %}doc{% endcomment %}
- The `--socket` flag for [`cockroach start`](../v20.1/cockroach-start.html) is now deprecated in favor of `--socket-dir`. CockroachDB now automatically chooses a name for the socket in the specified directory based on the configured port number. `--socket` will be removed in a later version. [#45931][#45931] {% comment %}doc{% endcomment %}
- Added the `--cert-principal-map` flag to [`cockroach start`](../v20.1/cockroach-start.html), which specifies a comma-separated list of `cert-principal`:`db-principal` mappings that map the principals found in certificates to DB principals. This allows the usage of "node" and "root" certificates where the common name contains dots or a host name, which allows such certificates to be generated by certificate authorities that place restrictions on the contents of the common name field. [#45819][#45819]

#### Configuration changes

- Added a new `default` option for the `--storage-engine` flag that respects the engine used last. [#45512][#45512] {% comment %}doc{% endcomment %}

#### Usability improvements

- Some CLI [commands](../v20.1/cockroach-commands.html) now provide more details and/or a hint when they encounter an error. [#45575][#45575] {% comment %}doc{% endcomment %}
- CockroachDB now refuses to start if named time zones are not properly configured. It is possible to override this behavior for testing purposes, with the understanding that doing so will cause incorrect SQL results and other inconsistencies, using the environment variable `COCKROACH_INCONSISTENT_TIME_ZONES`. [#45640][#45640] {% comment %}doc{% endcomment %}
- The [`cockroach sql`](../v20.1/cockroach-sql.html) and [`cockroach demo`](../v20.1/cockroach-demo.html) client commands now display out-of-band server notices at the end of execution. [#46144][#46144] [#46124][#46124]
- When some result rows have already been received from the server when an error is encountered, the [CockroachDB SQL shell](../v20.1/cockroach-sql.html) now presents both the result rows and the error in the output, regardless of the selected table formatter. Previously, only the error was reported with some formatters, or both with other formatters. [#45872][#45872] {% comment %}doc{% endcomment %}
- Added the flag `--disable-demo-license` to provide another option to disable [`cockroach demo`](../v20.1/cockroach-demo.html) from attempting to acquire a demo license. [#46126][#46126]
- The parameter `--set` for [`cockroach sql`](../v20.1/cockroach-sql.html) and [`cockroach demo`](../v20.1/cockroach-demo.html) is now able to override all client-side options, as advertised. [#46118][#46118]
- Fixed a bug that caused `cockroach demo -e` to display a `connection refused` error. [#46126][#46126]

#### Change to troubleshooting facilities

- The [`cockroach debug zip`](../v20.1/cockroach-debug-zip.html) output now contains hex representation of marshaled jobs payload and progress as well table descriptors. This allows you to copy this string and unmarshal it when debugging. [#45721][#45721] {% comment %}doc{% endcomment %}
- CockroachDB will now dump the stacks of all goroutines upon receiving `SIGQUIT` prior to terminating. This feature is intended for use while troubleshooting misbehaving nodes. [#36378][#36378] {% comment %}doc{% endcomment %}

### Admin UI changes

- Removed mention of RocksDB from the Read Amplification, SSTables, Compactions/Flushes, and Compaction Queue graphs. [#45398][#45398]
- The display options are now saved separately for each authenticated user. **Note:** When upgrading to a version with this change, all current display customizations for admin users are lost. [#45127][#45127] {% comment %}doc{% endcomment %}
- Customizations of the Admin UI are again properly saved across sessions. [#45127][#45127]
- Refactored redux data flow in enqueue range. [#45667][#45667]
- Increased enqueue range timeout to an hour to prevent operations from timing out before completion. [#45667][#45667]
- The Admin UI now reports a clearer message when a non-admin user uses an admin-only feature. [#45122][#45122]
- Added the Statement Diagnostics History page. [#45799][#45799]
- You can now access the Activate Diagnostics dialog from the [Statements page](../v20.1/admin-ui-statements-page.html), through the **Activate** link. [#45799][#45799] {% comment %}doc{% endcomment %}
- Added a Release Notes subscription form on the [Cluster Overview page](../v20.1/admin-ui-cluster-overview-page.html). [#45143][#45143]
- The jobs status filter now includes "running", which was previously omitted by mistake. [#45937][#45937]

### Performance improvements

- [Importing an Avro file](../v20.1/migrate-from-avro.html) is now faster. [#45269][#45269]
- Improved  the execution plans of [foreign key](../v20.1/foreign-key.html) checks for [`UPSERT`](../v20.1/upsert.html) and [`INSERT .. ON CONFLICT`](../v20.1/insert.html) in some cases (in particular multi-region). [#45520][#45520]
- [Importing](../v20.1/import.html) delimited data now has improved throughput. [#45543][#45543]
- Improved the selectivity estimation of some predicates containing `OR`, leading to better plan selection by the [optimizer](../v20.1/cost-based-optimizer.html). [#45732][#45732]
- Improved cardinality estimation in the [optimizer](../v20.1/cost-based-optimizer.html) for relations with a small number of rows. This leads to the optimizer choosing a better query plan in some cases. [#45771][#45771]
- `crdb_internal.jobs` now loads less data into memory. [#45914][#45914]

### Doc updates

- Upgraded the search on the docs site. [#6692][#6692]
- Added docs for `--storage-engine` flag on [node start](../v20.1/cockroach-start.html), which can be `pebble`, `rocksdb`, or `default`, which makes the `--storage-engine` flag sticky for future runs when no engine is specified. [#6769][#6769]
- Added examples of `COMMENT ON TABLE` in `SHOW CREATE TABLE` output to [`COMMENT ON`](../v20.1/comment-on.html), [`SHOW TABLES`](../v20.1/show-tables.html), and [`SHOW CREATE`](../v20.1/show-create.html). [#6789][#6789]
- Added the "Duplicate Indexes" Youtube video to the [Duplicate Indexes Topology doc](../v20.1/topology-duplicate-indexes.html). [#6796][#6796]
- Updated the [`cockroach demo`](../v20.1/cockroach-demo.html) doc to include new flags. [#6841][#6841]

### Contributors

This release includes 385 merged PRs by 42 authors.
We would like to thank the following contributors from the CockroachDB community:

- Andrii Vorobiov
- Artem Barger
- Damien Hollis (first-time contributor)
- Jaewan Park
- Ziheng Liu (first-time contributor)
- pohzipohzi (first-time contributor)

[#36378]: https://github.com/cockroachdb/cockroach/pull/36378
[#41978]: https://github.com/cockroachdb/cockroach/pull/41978
[#42094]: https://github.com/cockroachdb/cockroach/pull/42094
[#42703]: https://github.com/cockroachdb/cockroach/pull/42703
[#44091]: https://github.com/cockroachdb/cockroach/pull/44091
[#44130]: https://github.com/cockroachdb/cockroach/pull/44130
[#44232]: https://github.com/cockroachdb/cockroach/pull/44232
[#44391]: https://github.com/cockroachdb/cockroach/pull/44391
[#44511]: https://github.com/cockroachdb/cockroach/pull/44511
[#44666]: https://github.com/cockroachdb/cockroach/pull/44666
[#44739]: https://github.com/cockroachdb/cockroach/pull/44739
[#44962]: https://github.com/cockroachdb/cockroach/pull/44962
[#44968]: https://github.com/cockroachdb/cockroach/pull/44968
[#45082]: https://github.com/cockroachdb/cockroach/pull/45082
[#45084]: https://github.com/cockroachdb/cockroach/pull/45084
[#45094]: https://github.com/cockroachdb/cockroach/pull/45094
[#45114]: https://github.com/cockroachdb/cockroach/pull/45114
[#45119]: https://github.com/cockroachdb/cockroach/pull/45119
[#45122]: https://github.com/cockroachdb/cockroach/pull/45122
[#45127]: https://github.com/cockroachdb/cockroach/pull/45127
[#45143]: https://github.com/cockroachdb/cockroach/pull/45143
[#45157]: https://github.com/cockroachdb/cockroach/pull/45157
[#45159]: https://github.com/cockroachdb/cockroach/pull/45159
[#45193]: https://github.com/cockroachdb/cockroach/pull/45193
[#45201]: https://github.com/cockroachdb/cockroach/pull/45201
[#45227]: https://github.com/cockroachdb/cockroach/pull/45227
[#45229]: https://github.com/cockroachdb/cockroach/pull/45229
[#45232]: https://github.com/cockroachdb/cockroach/pull/45232
[#45240]: https://github.com/cockroachdb/cockroach/pull/45240
[#45253]: https://github.com/cockroachdb/cockroach/pull/45253
[#45255]: https://github.com/cockroachdb/cockroach/pull/45255
[#45260]: https://github.com/cockroachdb/cockroach/pull/45260
[#45269]: https://github.com/cockroachdb/cockroach/pull/45269
[#45277]: https://github.com/cockroachdb/cockroach/pull/45277
[#45314]: https://github.com/cockroachdb/cockroach/pull/45314
[#45320]: https://github.com/cockroachdb/cockroach/pull/45320
[#45321]: https://github.com/cockroachdb/cockroach/pull/45321
[#45323]: https://github.com/cockroachdb/cockroach/pull/45323
[#45325]: https://github.com/cockroachdb/cockroach/pull/45325
[#45326]: https://github.com/cockroachdb/cockroach/pull/45326
[#45353]: https://github.com/cockroachdb/cockroach/pull/45353
[#45354]: https://github.com/cockroachdb/cockroach/pull/45354
[#45365]: https://github.com/cockroachdb/cockroach/pull/45365
[#45366]: https://github.com/cockroachdb/cockroach/pull/45366
[#45368]: https://github.com/cockroachdb/cockroach/pull/45368
[#45372]: https://github.com/cockroachdb/cockroach/pull/45372
[#45386]: https://github.com/cockroachdb/cockroach/pull/45386
[#45397]: https://github.com/cockroachdb/cockroach/pull/45397
[#45398]: https://github.com/cockroachdb/cockroach/pull/45398
[#45410]: https://github.com/cockroachdb/cockroach/pull/45410
[#45420]: https://github.com/cockroachdb/cockroach/pull/45420
[#45423]: https://github.com/cockroachdb/cockroach/pull/45423
[#45427]: https://github.com/cockroachdb/cockroach/pull/45427
[#45443]: https://github.com/cockroachdb/cockroach/pull/45443
[#45444]: https://github.com/cockroachdb/cockroach/pull/45444
[#45465]: https://github.com/cockroachdb/cockroach/pull/45465
[#45482]: https://github.com/cockroachdb/cockroach/pull/45482
[#45493]: https://github.com/cockroachdb/cockroach/pull/45493
[#45502]: https://github.com/cockroachdb/cockroach/pull/45502
[#45507]: https://github.com/cockroachdb/cockroach/pull/45507
[#45512]: https://github.com/cockroachdb/cockroach/pull/45512
[#45513]: https://github.com/cockroachdb/cockroach/pull/45513
[#45514]: https://github.com/cockroachdb/cockroach/pull/45514
[#45520]: https://github.com/cockroachdb/cockroach/pull/45520
[#45530]: https://github.com/cockroachdb/cockroach/pull/45530
[#45531]: https://github.com/cockroachdb/cockroach/pull/45531
[#45532]: https://github.com/cockroachdb/cockroach/pull/45532
[#45535]: https://github.com/cockroachdb/cockroach/pull/45535
[#45536]: https://github.com/cockroachdb/cockroach/pull/45536
[#45541]: https://github.com/cockroachdb/cockroach/pull/45541
[#45543]: https://github.com/cockroachdb/cockroach/pull/45543
[#45566]: https://github.com/cockroachdb/cockroach/pull/45566
[#45567]: https://github.com/cockroachdb/cockroach/pull/45567
[#45568]: https://github.com/cockroachdb/cockroach/pull/45568
[#45573]: https://github.com/cockroachdb/cockroach/pull/45573
[#45575]: https://github.com/cockroachdb/cockroach/pull/45575
[#45580]: https://github.com/cockroachdb/cockroach/pull/45580
[#45582]: https://github.com/cockroachdb/cockroach/pull/45582
[#45588]: https://github.com/cockroachdb/cockroach/pull/45588
[#45595]: https://github.com/cockroachdb/cockroach/pull/45595
[#45601]: https://github.com/cockroachdb/cockroach/pull/45601
[#45603]: https://github.com/cockroachdb/cockroach/pull/45603
[#45604]: https://github.com/cockroachdb/cockroach/pull/45604
[#45609]: https://github.com/cockroachdb/cockroach/pull/45609
[#45613]: https://github.com/cockroachdb/cockroach/pull/45613
[#45621]: https://github.com/cockroachdb/cockroach/pull/45621
[#45633]: https://github.com/cockroachdb/cockroach/pull/45633
[#45635]: https://github.com/cockroachdb/cockroach/pull/45635
[#45636]: https://github.com/cockroachdb/cockroach/pull/45636
[#45639]: https://github.com/cockroachdb/cockroach/pull/45639
[#45640]: https://github.com/cockroachdb/cockroach/pull/45640
[#45650]: https://github.com/cockroachdb/cockroach/pull/45650
[#45651]: https://github.com/cockroachdb/cockroach/pull/45651
[#45652]: https://github.com/cockroachdb/cockroach/pull/45652
[#45656]: https://github.com/cockroachdb/cockroach/pull/45656
[#45663]: https://github.com/cockroachdb/cockroach/pull/45663
[#45667]: https://github.com/cockroachdb/cockroach/pull/45667
[#45669]: https://github.com/cockroachdb/cockroach/pull/45669
[#45673]: https://github.com/cockroachdb/cockroach/pull/45673
[#45679]: https://github.com/cockroachdb/cockroach/pull/45679
[#45690]: https://github.com/cockroachdb/cockroach/pull/45690
[#45697]: https://github.com/cockroachdb/cockroach/pull/45697
[#45701]: https://github.com/cockroachdb/cockroach/pull/45701
[#45705]: https://github.com/cockroachdb/cockroach/pull/45705
[#45706]: https://github.com/cockroachdb/cockroach/pull/45706
[#45708]: https://github.com/cockroachdb/cockroach/pull/45708
[#45712]: https://github.com/cockroachdb/cockroach/pull/45712
[#45721]: https://github.com/cockroachdb/cockroach/pull/45721
[#45724]: https://github.com/cockroachdb/cockroach/pull/45724
[#45727]: https://github.com/cockroachdb/cockroach/pull/45727
[#45728]: https://github.com/cockroachdb/cockroach/pull/45728
[#45732]: https://github.com/cockroachdb/cockroach/pull/45732
[#45733]: https://github.com/cockroachdb/cockroach/pull/45733
[#45735]: https://github.com/cockroachdb/cockroach/pull/45735
[#45747]: https://github.com/cockroachdb/cockroach/pull/45747
[#45749]: https://github.com/cockroachdb/cockroach/pull/45749
[#45753]: https://github.com/cockroachdb/cockroach/pull/45753
[#45755]: https://github.com/cockroachdb/cockroach/pull/45755
[#45764]: https://github.com/cockroachdb/cockroach/pull/45764
[#45766]: https://github.com/cockroachdb/cockroach/pull/45766
[#45767]: https://github.com/cockroachdb/cockroach/pull/45767
[#45771]: https://github.com/cockroachdb/cockroach/pull/45771
[#45776]: https://github.com/cockroachdb/cockroach/pull/45776
[#45778]: https://github.com/cockroachdb/cockroach/pull/45778
[#45784]: https://github.com/cockroachdb/cockroach/pull/45784
[#45790]: https://github.com/cockroachdb/cockroach/pull/45790
[#45791]: https://github.com/cockroachdb/cockroach/pull/45791
[#45799]: https://github.com/cockroachdb/cockroach/pull/45799
[#45801]: https://github.com/cockroachdb/cockroach/pull/45801
[#45815]: https://github.com/cockroachdb/cockroach/pull/45815
[#45819]: https://github.com/cockroachdb/cockroach/pull/45819
[#45824]: https://github.com/cockroachdb/cockroach/pull/45824
[#45826]: https://github.com/cockroachdb/cockroach/pull/45826
[#45827]: https://github.com/cockroachdb/cockroach/pull/45827
[#45830]: https://github.com/cockroachdb/cockroach/pull/45830
[#45832]: https://github.com/cockroachdb/cockroach/pull/45832
[#45858]: https://github.com/cockroachdb/cockroach/pull/45858
[#45859]: https://github.com/cockroachdb/cockroach/pull/45859
[#45870]: https://github.com/cockroachdb/cockroach/pull/45870
[#45872]: https://github.com/cockroachdb/cockroach/pull/45872
[#45877]: https://github.com/cockroachdb/cockroach/pull/45877
[#45879]: https://github.com/cockroachdb/cockroach/pull/45879
[#45897]: https://github.com/cockroachdb/cockroach/pull/45897
[#45903]: https://github.com/cockroachdb/cockroach/pull/45903
[#45914]: https://github.com/cockroachdb/cockroach/pull/45914
[#45917]: https://github.com/cockroachdb/cockroach/pull/45917
[#45931]: https://github.com/cockroachdb/cockroach/pull/45931
[#45937]: https://github.com/cockroachdb/cockroach/pull/45937
[#45944]: https://github.com/cockroachdb/cockroach/pull/45944
[#45950]: https://github.com/cockroachdb/cockroach/pull/45950
[#45958]: https://github.com/cockroachdb/cockroach/pull/45958
[#45962]: https://github.com/cockroachdb/cockroach/pull/45962
[#45969]: https://github.com/cockroachdb/cockroach/pull/45969
[#45987]: https://github.com/cockroachdb/cockroach/pull/45987
[#45990]: https://github.com/cockroachdb/cockroach/pull/45990
[#46000]: https://github.com/cockroachdb/cockroach/pull/46000
[#46004]: https://github.com/cockroachdb/cockroach/pull/46004
[#46014]: https://github.com/cockroachdb/cockroach/pull/46014
[#46015]: https://github.com/cockroachdb/cockroach/pull/46015
[#46019]: https://github.com/cockroachdb/cockroach/pull/46019
[#46039]: https://github.com/cockroachdb/cockroach/pull/46039
[#46042]: https://github.com/cockroachdb/cockroach/pull/46042
[#46045]: https://github.com/cockroachdb/cockroach/pull/46045
[#46059]: https://github.com/cockroachdb/cockroach/pull/46059
[#46060]: https://github.com/cockroachdb/cockroach/pull/46060
[#46066]: https://github.com/cockroachdb/cockroach/pull/46066
[#46080]: https://github.com/cockroachdb/cockroach/pull/46080
[#46085]: https://github.com/cockroachdb/cockroach/pull/46085
[#46091]: https://github.com/cockroachdb/cockroach/pull/46091
[#46098]: https://github.com/cockroachdb/cockroach/pull/46098
[#46101]: https://github.com/cockroachdb/cockroach/pull/46101
[#46108]: https://github.com/cockroachdb/cockroach/pull/46108
[#46111]: https://github.com/cockroachdb/cockroach/pull/46111
[#46118]: https://github.com/cockroachdb/cockroach/pull/46118
[#46124]: https://github.com/cockroachdb/cockroach/pull/46124
[#46126]: https://github.com/cockroachdb/cockroach/pull/46126
[#46132]: https://github.com/cockroachdb/cockroach/pull/46132
[#46144]: https://github.com/cockroachdb/cockroach/pull/46144
[#46153]: https://github.com/cockroachdb/cockroach/pull/46153
[#46163]: https://github.com/cockroachdb/cockroach/pull/46163
[#46165]: https://github.com/cockroachdb/cockroach/pull/46165
[#46166]: https://github.com/cockroachdb/cockroach/pull/46166
[#46170]: https://github.com/cockroachdb/cockroach/pull/46170
[#46174]: https://github.com/cockroachdb/cockroach/pull/46174
[#46194]: https://github.com/cockroachdb/cockroach/pull/46194
[#46212]: https://github.com/cockroachdb/cockroach/pull/46212
[#46214]: https://github.com/cockroachdb/cockroach/pull/46214
[#6692]: https://github.com/cockroachdb/docs/pull/6692
[#6769]: https://github.com/cockroachdb/docs/pull/6769
[#6789]: https://github.com/cockroachdb/docs/pull/6789
[#6796]: https://github.com/cockroachdb/docs/pull/6796
[#6841]: https://github.com/cockroachdb/docs/pull/6841
